var vn=(o,t)=>()=>(t||o((t={exports:{}}).exports,t),t.exports);var Fi=vn(qe=>{Object.defineProperty(qe,Symbol.toStringTag,{value:"Module"});var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wr={exports:{}};(function(o){(function(t,e){function n(r,s){if(!r)throw new Error(s||"Assertion failed")}function l(r,s){r.super_=s;var h=function(){};h.prototype=s.prototype,r.prototype=new h,r.prototype.constructor=r}function u(r,s,h){if(u.isBN(r))return r;this.negative=0,this.words=null,this.length=0,this.red=null,r!==null&&((s==="le"||s==="be")&&(h=s,s=10),this._init(r||0,s||10,h||"be"))}typeof t=="object"?t.exports=u:e.BN=u,u.BN=u,u.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=require("buffer").Buffer}catch{}u.isBN=function(r){return r instanceof u?!0:r!==null&&typeof r=="object"&&r.constructor.wordSize===u.wordSize&&Array.isArray(r.words)},u.max=function(r,s){return r.cmp(s)>0?r:s},u.min=function(r,s){return r.cmp(s)<0?r:s},u.prototype._init=function(r,s,h){if(typeof r=="number")return this._initNumber(r,s,h);if(typeof r=="object")return this._initArray(r,s,h);s==="hex"&&(s=16),n(s===(s|0)&&s>=2&&s<=36),r=r.toString().replace(/\s+/g,"");var c=0;r[0]==="-"&&(c++,this.negative=1),c<r.length&&(s===16?this._parseHex(r,c,h):(this._parseBase(r,s,c),h==="le"&&this._initArray(this.toArray(),s,h)))},u.prototype._initNumber=function(r,s,h){r<0&&(this.negative=1,r=-r),r<67108864?(this.words=[r&67108863],this.length=1):r<4503599627370496?(this.words=[r&67108863,r/67108864&67108863],this.length=2):(n(r<9007199254740992),this.words=[r&67108863,r/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),s,h)},u.prototype._initArray=function(r,s,h){if(n(typeof r.length=="number"),r.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(r.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var p,g,y=0;if(h==="be")for(c=r.length-1,p=0;c>=0;c-=3)g=r[c]|r[c-1]<<8|r[c-2]<<16,this.words[p]|=g<<y&67108863,this.words[p+1]=g>>>26-y&67108863,y+=24,y>=26&&(y-=26,p++);else if(h==="le")for(c=0,p=0;c<r.length;c+=3)g=r[c]|r[c+1]<<8|r[c+2]<<16,this.words[p]|=g<<y&67108863,this.words[p+1]=g>>>26-y&67108863,y+=24,y>=26&&(y-=26,p++);return this.strip()};function v(r,s){var h=r.charCodeAt(s);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function b(r,s,h){var c=v(r,h);return h-1>=s&&(c|=v(r,h-1)<<4),c}u.prototype._parseHex=function(r,s,h){this.length=Math.ceil((r.length-s)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var p=0,g=0,y;if(h==="be")for(c=r.length-1;c>=s;c-=2)y=b(r,s,c)<<p,this.words[g]|=y&67108863,p>=18?(p-=18,g+=1,this.words[g]|=y>>>26):p+=8;else{var d=r.length-s;for(c=d%2===0?s+1:s;c<r.length;c+=2)y=b(r,s,c)<<p,this.words[g]|=y&67108863,p>=18?(p-=18,g+=1,this.words[g]|=y>>>26):p+=8}this.strip()};function A(r,s,h,c){for(var p=0,g=Math.min(r.length,h),y=s;y<g;y++){var d=r.charCodeAt(y)-48;p*=c,d>=49?p+=d-49+10:d>=17?p+=d-17+10:p+=d}return p}u.prototype._parseBase=function(r,s,h){this.words=[0],this.length=1;for(var c=0,p=1;p<=67108863;p*=s)c++;c--,p=p/s|0;for(var g=r.length-h,y=g%c,d=Math.min(g,g-y)+h,i=0,m=h;m<d;m+=c)i=A(r,m,m+c,s),this.imuln(p),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i);if(y!==0){var T=1;for(i=A(r,m,r.length,s),m=0;m<y;m++)T*=s;this.imuln(T),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i)}this.strip()},u.prototype.copy=function(r){r.words=new Array(this.length);for(var s=0;s<this.length;s++)r.words[s]=this.words[s];r.length=this.length,r.negative=this.negative,r.red=this.red},u.prototype.clone=function(){var r=new u(null);return this.copy(r),r},u.prototype._expand=function(r){for(;this.length<r;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],L=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(r,s){r=r||10,s=s|0||1;var h;if(r===16||r==="hex"){h="";for(var c=0,p=0,g=0;g<this.length;g++){var y=this.words[g],d=((y<<c|p)&16777215).toString(16);p=y>>>24-c&16777215,p!==0||g!==this.length-1?h=R[6-d.length]+d+h:h=d+h,c+=2,c>=26&&(c-=26,g--)}for(p!==0&&(h=p.toString(16)+h);h.length%s!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(r===(r|0)&&r>=2&&r<=36){var i=L[r],m=G[r];h="";var T=this.clone();for(T.negative=0;!T.isZero();){var N=T.modn(m).toString(r);T=T.idivn(m),T.isZero()?h=N+h:h=R[i-N.length]+N+h}for(this.isZero()&&(h="0"+h);h.length%s!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var r=this.words[0];return this.length===2?r+=this.words[1]*67108864:this.length===3&&this.words[2]===1?r+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-r:r},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(r,s){return n(typeof f<"u"),this.toArrayLike(f,r,s)},u.prototype.toArray=function(r,s){return this.toArrayLike(Array,r,s)},u.prototype.toArrayLike=function(r,s,h){var c=this.byteLength(),p=h||Math.max(1,c);n(c<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var g=s==="le",y=new r(p),d,i,m=this.clone();if(g){for(i=0;!m.isZero();i++)d=m.andln(255),m.iushrn(8),y[i]=d;for(;i<p;i++)y[i]=0}else{for(i=0;i<p-c;i++)y[i]=0;for(i=0;!m.isZero();i++)d=m.andln(255),m.iushrn(8),y[p-i-1]=d}return y},Math.clz32?u.prototype._countBits=function(r){return 32-Math.clz32(r)}:u.prototype._countBits=function(r){var s=r,h=0;return s>=4096&&(h+=13,s>>>=13),s>=64&&(h+=7,s>>>=7),s>=8&&(h+=4,s>>>=4),s>=2&&(h+=2,s>>>=2),h+s},u.prototype._zeroBits=function(r){if(r===0)return 26;var s=r,h=0;return(s&8191)===0&&(h+=13,s>>>=13),(s&127)===0&&(h+=7,s>>>=7),(s&15)===0&&(h+=4,s>>>=4),(s&3)===0&&(h+=2,s>>>=2),(s&1)===0&&h++,h},u.prototype.bitLength=function(){var r=this.words[this.length-1],s=this._countBits(r);return(this.length-1)*26+s};function Nt(r){for(var s=new Array(r.bitLength()),h=0;h<s.length;h++){var c=h/26|0,p=h%26;s[h]=(r.words[c]&1<<p)>>>p}return s}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,s=0;s<this.length;s++){var h=this._zeroBits(this.words[s]);if(r+=h,h!==26)break}return r},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(r){return this.negative!==0?this.abs().inotn(r).iaddn(1):this.clone()},u.prototype.fromTwos=function(r){return this.testn(r-1)?this.notn(r).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(r){for(;this.length<r.length;)this.words[this.length++]=0;for(var s=0;s<r.length;s++)this.words[s]=this.words[s]|r.words[s];return this.strip()},u.prototype.ior=function(r){return n((this.negative|r.negative)===0),this.iuor(r)},u.prototype.or=function(r){return this.length>r.length?this.clone().ior(r):r.clone().ior(this)},u.prototype.uor=function(r){return this.length>r.length?this.clone().iuor(r):r.clone().iuor(this)},u.prototype.iuand=function(r){var s;this.length>r.length?s=r:s=this;for(var h=0;h<s.length;h++)this.words[h]=this.words[h]&r.words[h];return this.length=s.length,this.strip()},u.prototype.iand=function(r){return n((this.negative|r.negative)===0),this.iuand(r)},u.prototype.and=function(r){return this.length>r.length?this.clone().iand(r):r.clone().iand(this)},u.prototype.uand=function(r){return this.length>r.length?this.clone().iuand(r):r.clone().iuand(this)},u.prototype.iuxor=function(r){var s,h;this.length>r.length?(s=this,h=r):(s=r,h=this);for(var c=0;c<h.length;c++)this.words[c]=s.words[c]^h.words[c];if(this!==s)for(;c<s.length;c++)this.words[c]=s.words[c];return this.length=s.length,this.strip()},u.prototype.ixor=function(r){return n((this.negative|r.negative)===0),this.iuxor(r)},u.prototype.xor=function(r){return this.length>r.length?this.clone().ixor(r):r.clone().ixor(this)},u.prototype.uxor=function(r){return this.length>r.length?this.clone().iuxor(r):r.clone().iuxor(this)},u.prototype.inotn=function(r){n(typeof r=="number"&&r>=0);var s=Math.ceil(r/26)|0,h=r%26;this._expand(s),h>0&&s--;for(var c=0;c<s;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},u.prototype.notn=function(r){return this.clone().inotn(r)},u.prototype.setn=function(r,s){n(typeof r=="number"&&r>=0);var h=r/26|0,c=r%26;return this._expand(h+1),s?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},u.prototype.iadd=function(r){var s;if(this.negative!==0&&r.negative===0)return this.negative=0,s=this.isub(r),this.negative^=1,this._normSign();if(this.negative===0&&r.negative!==0)return r.negative=0,s=this.isub(r),r.negative=1,s._normSign();var h,c;this.length>r.length?(h=this,c=r):(h=r,c=this);for(var p=0,g=0;g<c.length;g++)s=(h.words[g]|0)+(c.words[g]|0)+p,this.words[g]=s&67108863,p=s>>>26;for(;p!==0&&g<h.length;g++)s=(h.words[g]|0)+p,this.words[g]=s&67108863,p=s>>>26;if(this.length=h.length,p!==0)this.words[this.length]=p,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},u.prototype.add=function(r){var s;return r.negative!==0&&this.negative===0?(r.negative=0,s=this.sub(r),r.negative^=1,s):r.negative===0&&this.negative!==0?(this.negative=0,s=r.sub(this),this.negative=1,s):this.length>r.length?this.clone().iadd(r):r.clone().iadd(this)},u.prototype.isub=function(r){if(r.negative!==0){r.negative=0;var s=this.iadd(r);return r.negative=1,s._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(r),this.negative=1,this._normSign();var h=this.cmp(r);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,p;h>0?(c=this,p=r):(c=r,p=this);for(var g=0,y=0;y<p.length;y++)s=(c.words[y]|0)-(p.words[y]|0)+g,g=s>>26,this.words[y]=s&67108863;for(;g!==0&&y<c.length;y++)s=(c.words[y]|0)+g,g=s>>26,this.words[y]=s&67108863;if(g===0&&y<c.length&&c!==this)for(;y<c.length;y++)this.words[y]=c.words[y];return this.length=Math.max(this.length,y),c!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(r){return this.clone().isub(r)};function _t(r,s,h){h.negative=s.negative^r.negative;var c=r.length+s.length|0;h.length=c,c=c-1|0;var p=r.words[0]|0,g=s.words[0]|0,y=p*g,d=y&67108863,i=y/67108864|0;h.words[0]=d;for(var m=1;m<c;m++){for(var T=i>>>26,N=i&67108863,I=Math.min(m,s.length-1),F=Math.max(0,m-r.length+1);F<=I;F++){var a=m-F|0;p=r.words[a]|0,g=s.words[F]|0,y=p*g+N,T+=y/67108864|0,N=y&67108863}h.words[m]=N|0,i=T|0}return i!==0?h.words[m]=i|0:h.length--,h.strip()}var Se=function(r,s,h){var c=r.words,p=s.words,g=h.words,y=0,d,i,m,T=c[0]|0,N=T&8191,I=T>>>13,F=c[1]|0,a=F&8191,w=F>>>13,M=c[2]|0,E=M&8191,_=M>>>13,C=c[3]|0,O=C&8191,x=C>>>13,Mt=c[4]|0,S=Mt&8191,U=Mt>>>13,se=c[5]|0,$=se&8191,q=se>>>13,ae=c[6]|0,J=ae&8191,Z=ae>>>13,ue=c[7]|0,W=ue&8191,H=ue>>>13,he=c[8]|0,X=he&8191,K=he>>>13,le=c[9]|0,Q=le&8191,Y=le>>>13,ce=p[0]|0,tt=ce&8191,et=ce>>>13,fe=p[1]|0,rt=fe&8191,nt=fe>>>13,de=p[2]|0,it=de&8191,ot=de>>>13,me=p[3]|0,st=me&8191,at=me>>>13,pe=p[4]|0,ut=pe&8191,ht=pe>>>13,ge=p[5]|0,lt=ge&8191,ct=ge>>>13,ye=p[6]|0,ft=ye&8191,dt=ye>>>13,ve=p[7]|0,mt=ve&8191,pt=ve>>>13,we=p[8]|0,gt=we&8191,yt=we>>>13,be=p[9]|0,vt=be&8191,wt=be>>>13;h.negative=r.negative^s.negative,h.length=19,d=Math.imul(N,tt),i=Math.imul(N,et),i=i+Math.imul(I,tt)|0,m=Math.imul(I,et);var Zt=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,d=Math.imul(a,tt),i=Math.imul(a,et),i=i+Math.imul(w,tt)|0,m=Math.imul(w,et),d=d+Math.imul(N,rt)|0,i=i+Math.imul(N,nt)|0,i=i+Math.imul(I,rt)|0,m=m+Math.imul(I,nt)|0;var Wt=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,d=Math.imul(E,tt),i=Math.imul(E,et),i=i+Math.imul(_,tt)|0,m=Math.imul(_,et),d=d+Math.imul(a,rt)|0,i=i+Math.imul(a,nt)|0,i=i+Math.imul(w,rt)|0,m=m+Math.imul(w,nt)|0,d=d+Math.imul(N,it)|0,i=i+Math.imul(N,ot)|0,i=i+Math.imul(I,it)|0,m=m+Math.imul(I,ot)|0;var Ht=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,d=Math.imul(O,tt),i=Math.imul(O,et),i=i+Math.imul(x,tt)|0,m=Math.imul(x,et),d=d+Math.imul(E,rt)|0,i=i+Math.imul(E,nt)|0,i=i+Math.imul(_,rt)|0,m=m+Math.imul(_,nt)|0,d=d+Math.imul(a,it)|0,i=i+Math.imul(a,ot)|0,i=i+Math.imul(w,it)|0,m=m+Math.imul(w,ot)|0,d=d+Math.imul(N,st)|0,i=i+Math.imul(N,at)|0,i=i+Math.imul(I,st)|0,m=m+Math.imul(I,at)|0;var Xt=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,d=Math.imul(S,tt),i=Math.imul(S,et),i=i+Math.imul(U,tt)|0,m=Math.imul(U,et),d=d+Math.imul(O,rt)|0,i=i+Math.imul(O,nt)|0,i=i+Math.imul(x,rt)|0,m=m+Math.imul(x,nt)|0,d=d+Math.imul(E,it)|0,i=i+Math.imul(E,ot)|0,i=i+Math.imul(_,it)|0,m=m+Math.imul(_,ot)|0,d=d+Math.imul(a,st)|0,i=i+Math.imul(a,at)|0,i=i+Math.imul(w,st)|0,m=m+Math.imul(w,at)|0,d=d+Math.imul(N,ut)|0,i=i+Math.imul(N,ht)|0,i=i+Math.imul(I,ut)|0,m=m+Math.imul(I,ht)|0;var Kt=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,d=Math.imul($,tt),i=Math.imul($,et),i=i+Math.imul(q,tt)|0,m=Math.imul(q,et),d=d+Math.imul(S,rt)|0,i=i+Math.imul(S,nt)|0,i=i+Math.imul(U,rt)|0,m=m+Math.imul(U,nt)|0,d=d+Math.imul(O,it)|0,i=i+Math.imul(O,ot)|0,i=i+Math.imul(x,it)|0,m=m+Math.imul(x,ot)|0,d=d+Math.imul(E,st)|0,i=i+Math.imul(E,at)|0,i=i+Math.imul(_,st)|0,m=m+Math.imul(_,at)|0,d=d+Math.imul(a,ut)|0,i=i+Math.imul(a,ht)|0,i=i+Math.imul(w,ut)|0,m=m+Math.imul(w,ht)|0,d=d+Math.imul(N,lt)|0,i=i+Math.imul(N,ct)|0,i=i+Math.imul(I,lt)|0,m=m+Math.imul(I,ct)|0;var Qt=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,d=Math.imul(J,tt),i=Math.imul(J,et),i=i+Math.imul(Z,tt)|0,m=Math.imul(Z,et),d=d+Math.imul($,rt)|0,i=i+Math.imul($,nt)|0,i=i+Math.imul(q,rt)|0,m=m+Math.imul(q,nt)|0,d=d+Math.imul(S,it)|0,i=i+Math.imul(S,ot)|0,i=i+Math.imul(U,it)|0,m=m+Math.imul(U,ot)|0,d=d+Math.imul(O,st)|0,i=i+Math.imul(O,at)|0,i=i+Math.imul(x,st)|0,m=m+Math.imul(x,at)|0,d=d+Math.imul(E,ut)|0,i=i+Math.imul(E,ht)|0,i=i+Math.imul(_,ut)|0,m=m+Math.imul(_,ht)|0,d=d+Math.imul(a,lt)|0,i=i+Math.imul(a,ct)|0,i=i+Math.imul(w,lt)|0,m=m+Math.imul(w,ct)|0,d=d+Math.imul(N,ft)|0,i=i+Math.imul(N,dt)|0,i=i+Math.imul(I,ft)|0,m=m+Math.imul(I,dt)|0;var Yt=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,d=Math.imul(W,tt),i=Math.imul(W,et),i=i+Math.imul(H,tt)|0,m=Math.imul(H,et),d=d+Math.imul(J,rt)|0,i=i+Math.imul(J,nt)|0,i=i+Math.imul(Z,rt)|0,m=m+Math.imul(Z,nt)|0,d=d+Math.imul($,it)|0,i=i+Math.imul($,ot)|0,i=i+Math.imul(q,it)|0,m=m+Math.imul(q,ot)|0,d=d+Math.imul(S,st)|0,i=i+Math.imul(S,at)|0,i=i+Math.imul(U,st)|0,m=m+Math.imul(U,at)|0,d=d+Math.imul(O,ut)|0,i=i+Math.imul(O,ht)|0,i=i+Math.imul(x,ut)|0,m=m+Math.imul(x,ht)|0,d=d+Math.imul(E,lt)|0,i=i+Math.imul(E,ct)|0,i=i+Math.imul(_,lt)|0,m=m+Math.imul(_,ct)|0,d=d+Math.imul(a,ft)|0,i=i+Math.imul(a,dt)|0,i=i+Math.imul(w,ft)|0,m=m+Math.imul(w,dt)|0,d=d+Math.imul(N,mt)|0,i=i+Math.imul(N,pt)|0,i=i+Math.imul(I,mt)|0,m=m+Math.imul(I,pt)|0;var te=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(te>>>26)|0,te&=67108863,d=Math.imul(X,tt),i=Math.imul(X,et),i=i+Math.imul(K,tt)|0,m=Math.imul(K,et),d=d+Math.imul(W,rt)|0,i=i+Math.imul(W,nt)|0,i=i+Math.imul(H,rt)|0,m=m+Math.imul(H,nt)|0,d=d+Math.imul(J,it)|0,i=i+Math.imul(J,ot)|0,i=i+Math.imul(Z,it)|0,m=m+Math.imul(Z,ot)|0,d=d+Math.imul($,st)|0,i=i+Math.imul($,at)|0,i=i+Math.imul(q,st)|0,m=m+Math.imul(q,at)|0,d=d+Math.imul(S,ut)|0,i=i+Math.imul(S,ht)|0,i=i+Math.imul(U,ut)|0,m=m+Math.imul(U,ht)|0,d=d+Math.imul(O,lt)|0,i=i+Math.imul(O,ct)|0,i=i+Math.imul(x,lt)|0,m=m+Math.imul(x,ct)|0,d=d+Math.imul(E,ft)|0,i=i+Math.imul(E,dt)|0,i=i+Math.imul(_,ft)|0,m=m+Math.imul(_,dt)|0,d=d+Math.imul(a,mt)|0,i=i+Math.imul(a,pt)|0,i=i+Math.imul(w,mt)|0,m=m+Math.imul(w,pt)|0,d=d+Math.imul(N,gt)|0,i=i+Math.imul(N,yt)|0,i=i+Math.imul(I,gt)|0,m=m+Math.imul(I,yt)|0;var ar=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(ar>>>26)|0,ar&=67108863,d=Math.imul(Q,tt),i=Math.imul(Q,et),i=i+Math.imul(Y,tt)|0,m=Math.imul(Y,et),d=d+Math.imul(X,rt)|0,i=i+Math.imul(X,nt)|0,i=i+Math.imul(K,rt)|0,m=m+Math.imul(K,nt)|0,d=d+Math.imul(W,it)|0,i=i+Math.imul(W,ot)|0,i=i+Math.imul(H,it)|0,m=m+Math.imul(H,ot)|0,d=d+Math.imul(J,st)|0,i=i+Math.imul(J,at)|0,i=i+Math.imul(Z,st)|0,m=m+Math.imul(Z,at)|0,d=d+Math.imul($,ut)|0,i=i+Math.imul($,ht)|0,i=i+Math.imul(q,ut)|0,m=m+Math.imul(q,ht)|0,d=d+Math.imul(S,lt)|0,i=i+Math.imul(S,ct)|0,i=i+Math.imul(U,lt)|0,m=m+Math.imul(U,ct)|0,d=d+Math.imul(O,ft)|0,i=i+Math.imul(O,dt)|0,i=i+Math.imul(x,ft)|0,m=m+Math.imul(x,dt)|0,d=d+Math.imul(E,mt)|0,i=i+Math.imul(E,pt)|0,i=i+Math.imul(_,mt)|0,m=m+Math.imul(_,pt)|0,d=d+Math.imul(a,gt)|0,i=i+Math.imul(a,yt)|0,i=i+Math.imul(w,gt)|0,m=m+Math.imul(w,yt)|0,d=d+Math.imul(N,vt)|0,i=i+Math.imul(N,wt)|0,i=i+Math.imul(I,vt)|0,m=m+Math.imul(I,wt)|0;var ur=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(ur>>>26)|0,ur&=67108863,d=Math.imul(Q,rt),i=Math.imul(Q,nt),i=i+Math.imul(Y,rt)|0,m=Math.imul(Y,nt),d=d+Math.imul(X,it)|0,i=i+Math.imul(X,ot)|0,i=i+Math.imul(K,it)|0,m=m+Math.imul(K,ot)|0,d=d+Math.imul(W,st)|0,i=i+Math.imul(W,at)|0,i=i+Math.imul(H,st)|0,m=m+Math.imul(H,at)|0,d=d+Math.imul(J,ut)|0,i=i+Math.imul(J,ht)|0,i=i+Math.imul(Z,ut)|0,m=m+Math.imul(Z,ht)|0,d=d+Math.imul($,lt)|0,i=i+Math.imul($,ct)|0,i=i+Math.imul(q,lt)|0,m=m+Math.imul(q,ct)|0,d=d+Math.imul(S,ft)|0,i=i+Math.imul(S,dt)|0,i=i+Math.imul(U,ft)|0,m=m+Math.imul(U,dt)|0,d=d+Math.imul(O,mt)|0,i=i+Math.imul(O,pt)|0,i=i+Math.imul(x,mt)|0,m=m+Math.imul(x,pt)|0,d=d+Math.imul(E,gt)|0,i=i+Math.imul(E,yt)|0,i=i+Math.imul(_,gt)|0,m=m+Math.imul(_,yt)|0,d=d+Math.imul(a,vt)|0,i=i+Math.imul(a,wt)|0,i=i+Math.imul(w,vt)|0,m=m+Math.imul(w,wt)|0;var hr=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(hr>>>26)|0,hr&=67108863,d=Math.imul(Q,it),i=Math.imul(Q,ot),i=i+Math.imul(Y,it)|0,m=Math.imul(Y,ot),d=d+Math.imul(X,st)|0,i=i+Math.imul(X,at)|0,i=i+Math.imul(K,st)|0,m=m+Math.imul(K,at)|0,d=d+Math.imul(W,ut)|0,i=i+Math.imul(W,ht)|0,i=i+Math.imul(H,ut)|0,m=m+Math.imul(H,ht)|0,d=d+Math.imul(J,lt)|0,i=i+Math.imul(J,ct)|0,i=i+Math.imul(Z,lt)|0,m=m+Math.imul(Z,ct)|0,d=d+Math.imul($,ft)|0,i=i+Math.imul($,dt)|0,i=i+Math.imul(q,ft)|0,m=m+Math.imul(q,dt)|0,d=d+Math.imul(S,mt)|0,i=i+Math.imul(S,pt)|0,i=i+Math.imul(U,mt)|0,m=m+Math.imul(U,pt)|0,d=d+Math.imul(O,gt)|0,i=i+Math.imul(O,yt)|0,i=i+Math.imul(x,gt)|0,m=m+Math.imul(x,yt)|0,d=d+Math.imul(E,vt)|0,i=i+Math.imul(E,wt)|0,i=i+Math.imul(_,vt)|0,m=m+Math.imul(_,wt)|0;var lr=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(lr>>>26)|0,lr&=67108863,d=Math.imul(Q,st),i=Math.imul(Q,at),i=i+Math.imul(Y,st)|0,m=Math.imul(Y,at),d=d+Math.imul(X,ut)|0,i=i+Math.imul(X,ht)|0,i=i+Math.imul(K,ut)|0,m=m+Math.imul(K,ht)|0,d=d+Math.imul(W,lt)|0,i=i+Math.imul(W,ct)|0,i=i+Math.imul(H,lt)|0,m=m+Math.imul(H,ct)|0,d=d+Math.imul(J,ft)|0,i=i+Math.imul(J,dt)|0,i=i+Math.imul(Z,ft)|0,m=m+Math.imul(Z,dt)|0,d=d+Math.imul($,mt)|0,i=i+Math.imul($,pt)|0,i=i+Math.imul(q,mt)|0,m=m+Math.imul(q,pt)|0,d=d+Math.imul(S,gt)|0,i=i+Math.imul(S,yt)|0,i=i+Math.imul(U,gt)|0,m=m+Math.imul(U,yt)|0,d=d+Math.imul(O,vt)|0,i=i+Math.imul(O,wt)|0,i=i+Math.imul(x,vt)|0,m=m+Math.imul(x,wt)|0;var cr=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(cr>>>26)|0,cr&=67108863,d=Math.imul(Q,ut),i=Math.imul(Q,ht),i=i+Math.imul(Y,ut)|0,m=Math.imul(Y,ht),d=d+Math.imul(X,lt)|0,i=i+Math.imul(X,ct)|0,i=i+Math.imul(K,lt)|0,m=m+Math.imul(K,ct)|0,d=d+Math.imul(W,ft)|0,i=i+Math.imul(W,dt)|0,i=i+Math.imul(H,ft)|0,m=m+Math.imul(H,dt)|0,d=d+Math.imul(J,mt)|0,i=i+Math.imul(J,pt)|0,i=i+Math.imul(Z,mt)|0,m=m+Math.imul(Z,pt)|0,d=d+Math.imul($,gt)|0,i=i+Math.imul($,yt)|0,i=i+Math.imul(q,gt)|0,m=m+Math.imul(q,yt)|0,d=d+Math.imul(S,vt)|0,i=i+Math.imul(S,wt)|0,i=i+Math.imul(U,vt)|0,m=m+Math.imul(U,wt)|0;var fr=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(fr>>>26)|0,fr&=67108863,d=Math.imul(Q,lt),i=Math.imul(Q,ct),i=i+Math.imul(Y,lt)|0,m=Math.imul(Y,ct),d=d+Math.imul(X,ft)|0,i=i+Math.imul(X,dt)|0,i=i+Math.imul(K,ft)|0,m=m+Math.imul(K,dt)|0,d=d+Math.imul(W,mt)|0,i=i+Math.imul(W,pt)|0,i=i+Math.imul(H,mt)|0,m=m+Math.imul(H,pt)|0,d=d+Math.imul(J,gt)|0,i=i+Math.imul(J,yt)|0,i=i+Math.imul(Z,gt)|0,m=m+Math.imul(Z,yt)|0,d=d+Math.imul($,vt)|0,i=i+Math.imul($,wt)|0,i=i+Math.imul(q,vt)|0,m=m+Math.imul(q,wt)|0;var dr=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(dr>>>26)|0,dr&=67108863,d=Math.imul(Q,ft),i=Math.imul(Q,dt),i=i+Math.imul(Y,ft)|0,m=Math.imul(Y,dt),d=d+Math.imul(X,mt)|0,i=i+Math.imul(X,pt)|0,i=i+Math.imul(K,mt)|0,m=m+Math.imul(K,pt)|0,d=d+Math.imul(W,gt)|0,i=i+Math.imul(W,yt)|0,i=i+Math.imul(H,gt)|0,m=m+Math.imul(H,yt)|0,d=d+Math.imul(J,vt)|0,i=i+Math.imul(J,wt)|0,i=i+Math.imul(Z,vt)|0,m=m+Math.imul(Z,wt)|0;var mr=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(mr>>>26)|0,mr&=67108863,d=Math.imul(Q,mt),i=Math.imul(Q,pt),i=i+Math.imul(Y,mt)|0,m=Math.imul(Y,pt),d=d+Math.imul(X,gt)|0,i=i+Math.imul(X,yt)|0,i=i+Math.imul(K,gt)|0,m=m+Math.imul(K,yt)|0,d=d+Math.imul(W,vt)|0,i=i+Math.imul(W,wt)|0,i=i+Math.imul(H,vt)|0,m=m+Math.imul(H,wt)|0;var pr=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(pr>>>26)|0,pr&=67108863,d=Math.imul(Q,gt),i=Math.imul(Q,yt),i=i+Math.imul(Y,gt)|0,m=Math.imul(Y,yt),d=d+Math.imul(X,vt)|0,i=i+Math.imul(X,wt)|0,i=i+Math.imul(K,vt)|0,m=m+Math.imul(K,wt)|0;var gr=(y+d|0)+((i&8191)<<13)|0;y=(m+(i>>>13)|0)+(gr>>>26)|0,gr&=67108863,d=Math.imul(Q,vt),i=Math.imul(Q,wt),i=i+Math.imul(Y,vt)|0,m=Math.imul(Y,wt);var yr=(y+d|0)+((i&8191)<<13)|0;return y=(m+(i>>>13)|0)+(yr>>>26)|0,yr&=67108863,g[0]=Zt,g[1]=Wt,g[2]=Ht,g[3]=Xt,g[4]=Kt,g[5]=Qt,g[6]=Yt,g[7]=te,g[8]=ar,g[9]=ur,g[10]=hr,g[11]=lr,g[12]=cr,g[13]=fr,g[14]=dr,g[15]=mr,g[16]=pr,g[17]=gr,g[18]=yr,y!==0&&(g[19]=y,h.length++),h};Math.imul||(Se=_t);function Je(r,s,h){h.negative=s.negative^r.negative,h.length=r.length+s.length;for(var c=0,p=0,g=0;g<h.length-1;g++){var y=p;p=0;for(var d=c&67108863,i=Math.min(g,s.length-1),m=Math.max(0,g-r.length+1);m<=i;m++){var T=g-m,N=r.words[T]|0,I=s.words[m]|0,F=N*I,a=F&67108863;y=y+(F/67108864|0)|0,a=a+d|0,d=a&67108863,y=y+(a>>>26)|0,p+=y>>>26,y&=67108863}h.words[g]=d,c=y,y=p}return c!==0?h.words[g]=c:h.length--,h.strip()}function _e(r,s,h){var c=new Rt;return c.mulp(r,s,h)}u.prototype.mulTo=function(r,s){var h,c=this.length+r.length;return this.length===10&&r.length===10?h=Se(this,r,s):c<63?h=_t(this,r,s):c<1024?h=Je(this,r,s):h=_e(this,r,s),h};function Rt(r,s){this.x=r,this.y=s}Rt.prototype.makeRBT=function(r){for(var s=new Array(r),h=u.prototype._countBits(r)-1,c=0;c<r;c++)s[c]=this.revBin(c,h,r);return s},Rt.prototype.revBin=function(r,s,h){if(r===0||r===h-1)return r;for(var c=0,p=0;p<s;p++)c|=(r&1)<<s-p-1,r>>=1;return c},Rt.prototype.permute=function(r,s,h,c,p,g){for(var y=0;y<g;y++)c[y]=s[r[y]],p[y]=h[r[y]]},Rt.prototype.transform=function(r,s,h,c,p,g){this.permute(g,r,s,h,c,p);for(var y=1;y<p;y<<=1)for(var d=y<<1,i=Math.cos(2*Math.PI/d),m=Math.sin(2*Math.PI/d),T=0;T<p;T+=d)for(var N=i,I=m,F=0;F<y;F++){var a=h[T+F],w=c[T+F],M=h[T+F+y],E=c[T+F+y],_=N*M-I*E;E=N*E+I*M,M=_,h[T+F]=a+M,c[T+F]=w+E,h[T+F+y]=a-M,c[T+F+y]=w-E,F!==d&&(_=i*N-m*I,I=i*I+m*N,N=_)}},Rt.prototype.guessLen13b=function(r,s){var h=Math.max(s,r)|1,c=h&1,p=0;for(h=h/2|0;h;h=h>>>1)p++;return 1<<p+1+c},Rt.prototype.conjugate=function(r,s,h){if(!(h<=1))for(var c=0;c<h/2;c++){var p=r[c];r[c]=r[h-c-1],r[h-c-1]=p,p=s[c],s[c]=-s[h-c-1],s[h-c-1]=-p}},Rt.prototype.normalize13b=function(r,s){for(var h=0,c=0;c<s/2;c++){var p=Math.round(r[2*c+1]/s)*8192+Math.round(r[2*c]/s)+h;r[c]=p&67108863,p<67108864?h=0:h=p/67108864|0}return r},Rt.prototype.convert13b=function(r,s,h,c){for(var p=0,g=0;g<s;g++)p=p+(r[g]|0),h[2*g]=p&8191,p=p>>>13,h[2*g+1]=p&8191,p=p>>>13;for(g=2*s;g<c;++g)h[g]=0;n(p===0),n((p&-8192)===0)},Rt.prototype.stub=function(r){for(var s=new Array(r),h=0;h<r;h++)s[h]=0;return s},Rt.prototype.mulp=function(r,s,h){var c=2*this.guessLen13b(r.length,s.length),p=this.makeRBT(c),g=this.stub(c),y=new Array(c),d=new Array(c),i=new Array(c),m=new Array(c),T=new Array(c),N=new Array(c),I=h.words;I.length=c,this.convert13b(r.words,r.length,y,c),this.convert13b(s.words,s.length,m,c),this.transform(y,g,d,i,c,p),this.transform(m,g,T,N,c,p);for(var F=0;F<c;F++){var a=d[F]*T[F]-i[F]*N[F];i[F]=d[F]*N[F]+i[F]*T[F],d[F]=a}return this.conjugate(d,i,c),this.transform(d,i,I,g,c,p),this.conjugate(I,g,c),this.normalize13b(I,c),h.negative=r.negative^s.negative,h.length=r.length+s.length,h.strip()},u.prototype.mul=function(r){var s=new u(null);return s.words=new Array(this.length+r.length),this.mulTo(r,s)},u.prototype.mulf=function(r){var s=new u(null);return s.words=new Array(this.length+r.length),_e(this,r,s)},u.prototype.imul=function(r){return this.clone().mulTo(r,this)},u.prototype.imuln=function(r){n(typeof r=="number"),n(r<67108864);for(var s=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*r,p=(c&67108863)+(s&67108863);s>>=26,s+=c/67108864|0,s+=p>>>26,this.words[h]=p&67108863}return s!==0&&(this.words[h]=s,this.length++),this},u.prototype.muln=function(r){return this.clone().imuln(r)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(r){var s=Nt(r);if(s.length===0)return new u(1);for(var h=this,c=0;c<s.length&&s[c]===0;c++,h=h.sqr());if(++c<s.length)for(var p=h.sqr();c<s.length;c++,p=p.sqr())s[c]!==0&&(h=h.mul(p));return h},u.prototype.iushln=function(r){n(typeof r=="number"&&r>=0);var s=r%26,h=(r-s)/26,c=67108863>>>26-s<<26-s,p;if(s!==0){var g=0;for(p=0;p<this.length;p++){var y=this.words[p]&c,d=(this.words[p]|0)-y<<s;this.words[p]=d|g,g=y>>>26-s}g&&(this.words[p]=g,this.length++)}if(h!==0){for(p=this.length-1;p>=0;p--)this.words[p+h]=this.words[p];for(p=0;p<h;p++)this.words[p]=0;this.length+=h}return this.strip()},u.prototype.ishln=function(r){return n(this.negative===0),this.iushln(r)},u.prototype.iushrn=function(r,s,h){n(typeof r=="number"&&r>=0);var c;s?c=(s-s%26)/26:c=0;var p=r%26,g=Math.min((r-p)/26,this.length),y=67108863^67108863>>>p<<p,d=h;if(c-=g,c=Math.max(0,c),d){for(var i=0;i<g;i++)d.words[i]=this.words[i];d.length=g}if(g!==0)if(this.length>g)for(this.length-=g,i=0;i<this.length;i++)this.words[i]=this.words[i+g];else this.words[0]=0,this.length=1;var m=0;for(i=this.length-1;i>=0&&(m!==0||i>=c);i--){var T=this.words[i]|0;this.words[i]=m<<26-p|T>>>p,m=T&y}return d&&m!==0&&(d.words[d.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(r,s,h){return n(this.negative===0),this.iushrn(r,s,h)},u.prototype.shln=function(r){return this.clone().ishln(r)},u.prototype.ushln=function(r){return this.clone().iushln(r)},u.prototype.shrn=function(r){return this.clone().ishrn(r)},u.prototype.ushrn=function(r){return this.clone().iushrn(r)},u.prototype.testn=function(r){n(typeof r=="number"&&r>=0);var s=r%26,h=(r-s)/26,c=1<<s;if(this.length<=h)return!1;var p=this.words[h];return!!(p&c)},u.prototype.imaskn=function(r){n(typeof r=="number"&&r>=0);var s=r%26,h=(r-s)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(s!==0&&h++,this.length=Math.min(h,this.length),s!==0){var c=67108863^67108863>>>s<<s;this.words[this.length-1]&=c}return this.strip()},u.prototype.maskn=function(r){return this.clone().imaskn(r)},u.prototype.iaddn=function(r){return n(typeof r=="number"),n(r<67108864),r<0?this.isubn(-r):this.negative!==0?this.length===1&&(this.words[0]|0)<r?(this.words[0]=r-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(r),this.negative=1,this):this._iaddn(r)},u.prototype._iaddn=function(r){this.words[0]+=r;for(var s=0;s<this.length&&this.words[s]>=67108864;s++)this.words[s]-=67108864,s===this.length-1?this.words[s+1]=1:this.words[s+1]++;return this.length=Math.max(this.length,s+1),this},u.prototype.isubn=function(r){if(n(typeof r=="number"),n(r<67108864),r<0)return this.iaddn(-r);if(this.negative!==0)return this.negative=0,this.iaddn(r),this.negative=1,this;if(this.words[0]-=r,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var s=0;s<this.length&&this.words[s]<0;s++)this.words[s]+=67108864,this.words[s+1]-=1;return this.strip()},u.prototype.addn=function(r){return this.clone().iaddn(r)},u.prototype.subn=function(r){return this.clone().isubn(r)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(r,s,h){var c=r.length+h,p;this._expand(c);var g,y=0;for(p=0;p<r.length;p++){g=(this.words[p+h]|0)+y;var d=(r.words[p]|0)*s;g-=d&67108863,y=(g>>26)-(d/67108864|0),this.words[p+h]=g&67108863}for(;p<this.length-h;p++)g=(this.words[p+h]|0)+y,y=g>>26,this.words[p+h]=g&67108863;if(y===0)return this.strip();for(n(y===-1),y=0,p=0;p<this.length;p++)g=-(this.words[p]|0)+y,y=g>>26,this.words[p]=g&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(r,s){var h=this.length-r.length,c=this.clone(),p=r,g=p.words[p.length-1]|0,y=this._countBits(g);h=26-y,h!==0&&(p=p.ushln(h),c.iushln(h),g=p.words[p.length-1]|0);var d=c.length-p.length,i;if(s!=="mod"){i=new u(null),i.length=d+1,i.words=new Array(i.length);for(var m=0;m<i.length;m++)i.words[m]=0}var T=c.clone()._ishlnsubmul(p,1,d);T.negative===0&&(c=T,i&&(i.words[d]=1));for(var N=d-1;N>=0;N--){var I=(c.words[p.length+N]|0)*67108864+(c.words[p.length+N-1]|0);for(I=Math.min(I/g|0,67108863),c._ishlnsubmul(p,I,N);c.negative!==0;)I--,c.negative=0,c._ishlnsubmul(p,1,N),c.isZero()||(c.negative^=1);i&&(i.words[N]=I)}return i&&i.strip(),c.strip(),s!=="div"&&h!==0&&c.iushrn(h),{div:i||null,mod:c}},u.prototype.divmod=function(r,s,h){if(n(!r.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var c,p,g;return this.negative!==0&&r.negative===0?(g=this.neg().divmod(r,s),s!=="mod"&&(c=g.div.neg()),s!=="div"&&(p=g.mod.neg(),h&&p.negative!==0&&p.iadd(r)),{div:c,mod:p}):this.negative===0&&r.negative!==0?(g=this.divmod(r.neg(),s),s!=="mod"&&(c=g.div.neg()),{div:c,mod:g.mod}):(this.negative&r.negative)!==0?(g=this.neg().divmod(r.neg(),s),s!=="div"&&(p=g.mod.neg(),h&&p.negative!==0&&p.isub(r)),{div:g.div,mod:p}):r.length>this.length||this.cmp(r)<0?{div:new u(0),mod:this}:r.length===1?s==="div"?{div:this.divn(r.words[0]),mod:null}:s==="mod"?{div:null,mod:new u(this.modn(r.words[0]))}:{div:this.divn(r.words[0]),mod:new u(this.modn(r.words[0]))}:this._wordDiv(r,s)},u.prototype.div=function(r){return this.divmod(r,"div",!1).div},u.prototype.mod=function(r){return this.divmod(r,"mod",!1).mod},u.prototype.umod=function(r){return this.divmod(r,"mod",!0).mod},u.prototype.divRound=function(r){var s=this.divmod(r);if(s.mod.isZero())return s.div;var h=s.div.negative!==0?s.mod.isub(r):s.mod,c=r.ushrn(1),p=r.andln(1),g=h.cmp(c);return g<0||p===1&&g===0?s.div:s.div.negative!==0?s.div.isubn(1):s.div.iaddn(1)},u.prototype.modn=function(r){n(r<=67108863);for(var s=(1<<26)%r,h=0,c=this.length-1;c>=0;c--)h=(s*h+(this.words[c]|0))%r;return h},u.prototype.idivn=function(r){n(r<=67108863);for(var s=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+s*67108864;this.words[h]=c/r|0,s=c%r}return this.strip()},u.prototype.divn=function(r){return this.clone().idivn(r)},u.prototype.egcd=function(r){n(r.negative===0),n(!r.isZero());var s=this,h=r.clone();s.negative!==0?s=s.umod(r):s=s.clone();for(var c=new u(1),p=new u(0),g=new u(0),y=new u(1),d=0;s.isEven()&&h.isEven();)s.iushrn(1),h.iushrn(1),++d;for(var i=h.clone(),m=s.clone();!s.isZero();){for(var T=0,N=1;(s.words[0]&N)===0&&T<26;++T,N<<=1);if(T>0)for(s.iushrn(T);T-- >0;)(c.isOdd()||p.isOdd())&&(c.iadd(i),p.isub(m)),c.iushrn(1),p.iushrn(1);for(var I=0,F=1;(h.words[0]&F)===0&&I<26;++I,F<<=1);if(I>0)for(h.iushrn(I);I-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(i),y.isub(m)),g.iushrn(1),y.iushrn(1);s.cmp(h)>=0?(s.isub(h),c.isub(g),p.isub(y)):(h.isub(s),g.isub(c),y.isub(p))}return{a:g,b:y,gcd:h.iushln(d)}},u.prototype._invmp=function(r){n(r.negative===0),n(!r.isZero());var s=this,h=r.clone();s.negative!==0?s=s.umod(r):s=s.clone();for(var c=new u(1),p=new u(0),g=h.clone();s.cmpn(1)>0&&h.cmpn(1)>0;){for(var y=0,d=1;(s.words[0]&d)===0&&y<26;++y,d<<=1);if(y>0)for(s.iushrn(y);y-- >0;)c.isOdd()&&c.iadd(g),c.iushrn(1);for(var i=0,m=1;(h.words[0]&m)===0&&i<26;++i,m<<=1);if(i>0)for(h.iushrn(i);i-- >0;)p.isOdd()&&p.iadd(g),p.iushrn(1);s.cmp(h)>=0?(s.isub(h),c.isub(p)):(h.isub(s),p.isub(c))}var T;return s.cmpn(1)===0?T=c:T=p,T.cmpn(0)<0&&T.iadd(r),T},u.prototype.gcd=function(r){if(this.isZero())return r.abs();if(r.isZero())return this.abs();var s=this.clone(),h=r.clone();s.negative=0,h.negative=0;for(var c=0;s.isEven()&&h.isEven();c++)s.iushrn(1),h.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;h.isEven();)h.iushrn(1);var p=s.cmp(h);if(p<0){var g=s;s=h,h=g}else if(p===0||h.cmpn(1)===0)break;s.isub(h)}while(!0);return h.iushln(c)},u.prototype.invm=function(r){return this.egcd(r).a.umod(r)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(r){return this.words[0]&r},u.prototype.bincn=function(r){n(typeof r=="number");var s=r%26,h=(r-s)/26,c=1<<s;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var p=c,g=h;p!==0&&g<this.length;g++){var y=this.words[g]|0;y+=p,p=y>>>26,y&=67108863,this.words[g]=y}return p!==0&&(this.words[g]=p,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(r){var s=r<0;if(this.negative!==0&&!s)return-1;if(this.negative===0&&s)return 1;this.strip();var h;if(this.length>1)h=1;else{s&&(r=-r),n(r<=67108863,"Number is too big");var c=this.words[0]|0;h=c===r?0:c<r?-1:1}return this.negative!==0?-h|0:h},u.prototype.cmp=function(r){if(this.negative!==0&&r.negative===0)return-1;if(this.negative===0&&r.negative!==0)return 1;var s=this.ucmp(r);return this.negative!==0?-s|0:s},u.prototype.ucmp=function(r){if(this.length>r.length)return 1;if(this.length<r.length)return-1;for(var s=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,p=r.words[h]|0;if(c!==p){c<p?s=-1:c>p&&(s=1);break}}return s},u.prototype.gtn=function(r){return this.cmpn(r)===1},u.prototype.gt=function(r){return this.cmp(r)===1},u.prototype.gten=function(r){return this.cmpn(r)>=0},u.prototype.gte=function(r){return this.cmp(r)>=0},u.prototype.ltn=function(r){return this.cmpn(r)===-1},u.prototype.lt=function(r){return this.cmp(r)===-1},u.prototype.lten=function(r){return this.cmpn(r)<=0},u.prototype.lte=function(r){return this.cmp(r)<=0},u.prototype.eqn=function(r){return this.cmpn(r)===0},u.prototype.eq=function(r){return this.cmp(r)===0},u.red=function(r){return new bt(r)},u.prototype.toRed=function(r){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),r.convertTo(this)._forceRed(r)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(r){return this.red=r,this},u.prototype.forceRed=function(r){return n(!this.red,"Already a number in reduction context"),this._forceRed(r)},u.prototype.redAdd=function(r){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,r)},u.prototype.redIAdd=function(r){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,r)},u.prototype.redSub=function(r){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,r)},u.prototype.redISub=function(r){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,r)},u.prototype.redShl=function(r){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,r)},u.prototype.redMul=function(r){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.mul(this,r)},u.prototype.redIMul=function(r){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.imul(this,r)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(r){return n(this.red&&!r.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,r)};var Ne={k256:null,p224:null,p192:null,p25519:null};function Ot(r,s){this.name=r,this.p=new u(s,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ot.prototype._tmp=function(){var r=new u(null);return r.words=new Array(Math.ceil(this.n/13)),r},Ot.prototype.ireduce=function(r){var s=r,h;do this.split(s,this.tmp),s=this.imulK(s),s=s.iadd(this.tmp),h=s.bitLength();while(h>this.n);var c=h<this.n?-1:s.ucmp(this.p);return c===0?(s.words[0]=0,s.length=1):c>0?s.isub(this.p):s.strip!==void 0?s.strip():s._strip(),s},Ot.prototype.split=function(r,s){r.iushrn(this.n,0,s)},Ot.prototype.imulK=function(r){return r.imul(this.k)};function oe(){Ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(oe,Ot),oe.prototype.split=function(r,s){for(var h=4194303,c=Math.min(r.length,9),p=0;p<c;p++)s.words[p]=r.words[p];if(s.length=c,r.length<=9){r.words[0]=0,r.length=1;return}var g=r.words[9];for(s.words[s.length++]=g&h,p=10;p<r.length;p++){var y=r.words[p]|0;r.words[p-10]=(y&h)<<4|g>>>22,g=y}g>>>=22,r.words[p-10]=g,g===0&&r.length>10?r.length-=10:r.length-=9},oe.prototype.imulK=function(r){r.words[r.length]=0,r.words[r.length+1]=0,r.length+=2;for(var s=0,h=0;h<r.length;h++){var c=r.words[h]|0;s+=c*977,r.words[h]=s&67108863,s=c*64+(s/67108864|0)}return r.words[r.length-1]===0&&(r.length--,r.words[r.length-1]===0&&r.length--),r};function Re(){Ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(Re,Ot);function Te(){Ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(Te,Ot);function Jt(){Ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(Jt,Ot),Jt.prototype.imulK=function(r){for(var s=0,h=0;h<r.length;h++){var c=(r.words[h]|0)*19+s,p=c&67108863;c>>>=26,r.words[h]=p,s=c}return s!==0&&(r.words[r.length++]=s),r},u._prime=function(r){if(Ne[r])return Ne[r];var s;if(r==="k256")s=new oe;else if(r==="p224")s=new Re;else if(r==="p192")s=new Te;else if(r==="p25519")s=new Jt;else throw new Error("Unknown prime "+r);return Ne[r]=s,s};function bt(r){if(typeof r=="string"){var s=u._prime(r);this.m=s.p,this.prime=s}else n(r.gtn(1),"modulus must be greater than 1"),this.m=r,this.prime=null}bt.prototype._verify1=function(r){n(r.negative===0,"red works only with positives"),n(r.red,"red works only with red numbers")},bt.prototype._verify2=function(r,s){n((r.negative|s.negative)===0,"red works only with positives"),n(r.red&&r.red===s.red,"red works only with red numbers")},bt.prototype.imod=function(r){return this.prime?this.prime.ireduce(r)._forceRed(this):r.umod(this.m)._forceRed(this)},bt.prototype.neg=function(r){return r.isZero()?r.clone():this.m.sub(r)._forceRed(this)},bt.prototype.add=function(r,s){this._verify2(r,s);var h=r.add(s);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},bt.prototype.iadd=function(r,s){this._verify2(r,s);var h=r.iadd(s);return h.cmp(this.m)>=0&&h.isub(this.m),h},bt.prototype.sub=function(r,s){this._verify2(r,s);var h=r.sub(s);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},bt.prototype.isub=function(r,s){this._verify2(r,s);var h=r.isub(s);return h.cmpn(0)<0&&h.iadd(this.m),h},bt.prototype.shl=function(r,s){return this._verify1(r),this.imod(r.ushln(s))},bt.prototype.imul=function(r,s){return this._verify2(r,s),this.imod(r.imul(s))},bt.prototype.mul=function(r,s){return this._verify2(r,s),this.imod(r.mul(s))},bt.prototype.isqr=function(r){return this.imul(r,r.clone())},bt.prototype.sqr=function(r){return this.mul(r,r)},bt.prototype.sqrt=function(r){if(r.isZero())return r.clone();var s=this.m.andln(3);if(n(s%2===1),s===3){var h=this.m.add(new u(1)).iushrn(2);return this.pow(r,h)}for(var c=this.m.subn(1),p=0;!c.isZero()&&c.andln(1)===0;)p++,c.iushrn(1);n(!c.isZero());var g=new u(1).toRed(this),y=g.redNeg(),d=this.m.subn(1).iushrn(1),i=this.m.bitLength();for(i=new u(2*i*i).toRed(this);this.pow(i,d).cmp(y)!==0;)i.redIAdd(y);for(var m=this.pow(i,c),T=this.pow(r,c.addn(1).iushrn(1)),N=this.pow(r,c),I=p;N.cmp(g)!==0;){for(var F=N,a=0;F.cmp(g)!==0;a++)F=F.redSqr();n(a<I);var w=this.pow(m,new u(1).iushln(I-a-1));T=T.redMul(w),m=w.redSqr(),N=N.redMul(m),I=a}return T},bt.prototype.invm=function(r){var s=r._invmp(this.m);return s.negative!==0?(s.negative=0,this.imod(s).redNeg()):this.imod(s)},bt.prototype.pow=function(r,s){if(s.isZero())return new u(1).toRed(this);if(s.cmpn(1)===0)return r.clone();var h=4,c=new Array(1<<h);c[0]=new u(1).toRed(this),c[1]=r;for(var p=2;p<c.length;p++)c[p]=this.mul(c[p-1],r);var g=c[0],y=0,d=0,i=s.bitLength()%26;for(i===0&&(i=26),p=s.length-1;p>=0;p--){for(var m=s.words[p],T=i-1;T>=0;T--){var N=m>>T&1;if(g!==c[0]&&(g=this.sqr(g)),N===0&&y===0){d=0;continue}y<<=1,y|=N,d++,!(d!==h&&(p!==0||T!==0))&&(g=this.mul(g,c[y]),d=0,y=0)}i=26}return g},bt.prototype.convertTo=function(r){var s=r.umod(this.m);return s===r?s.clone():s},bt.prototype.convertFrom=function(r){var s=r.clone();return s.red=null,s},u.mont=function(r){return new Dt(r)};function Dt(r){bt.call(this,r),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(Dt,bt),Dt.prototype.convertTo=function(r){return this.imod(r.ushln(this.shift))},Dt.prototype.convertFrom=function(r){var s=this.imod(r.mul(this.rinv));return s.red=null,s},Dt.prototype.imul=function(r,s){if(r.isZero()||s.isZero())return r.words[0]=0,r.length=1,r;var h=r.imul(s),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(c).iushrn(this.shift),g=p;return p.cmp(this.m)>=0?g=p.isub(this.m):p.cmpn(0)<0&&(g=p.iadd(this.m)),g._forceRed(this)},Dt.prototype.mul=function(r,s){if(r.isZero()||s.isZero())return new u(0)._forceRed(this);var h=r.mul(s),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(c).iushrn(this.shift),g=p;return p.cmp(this.m)>=0?g=p.isub(this.m):p.cmpn(0)<0&&(g=p.iadd(this.m)),g._forceRed(this)},Dt.prototype.invm=function(r){var s=this.imod(r._invmp(this.m).mul(this.r2));return s._forceRed(this)}})(o,Zr)})(Wr);var wn=Wr.exports;const bn="logger/5.6.0";let Sr=!1,Rr=!1;const Xe={debug:1,default:2,info:2,warning:3,error:4,off:5};let Tr=Xe.default,vr=null;function En(){try{const o=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{o.push(t)}}),o.length)throw new Error("missing "+o.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(o){return o.message}return null}const kr=En();var Mr;(function(o){o.DEBUG="DEBUG",o.INFO="INFO",o.WARNING="WARNING",o.ERROR="ERROR",o.OFF="OFF"})(Mr||(Mr={}));var Ut;(function(o){o.UNKNOWN_ERROR="UNKNOWN_ERROR",o.NOT_IMPLEMENTED="NOT_IMPLEMENTED",o.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",o.NETWORK_ERROR="NETWORK_ERROR",o.SERVER_ERROR="SERVER_ERROR",o.TIMEOUT="TIMEOUT",o.BUFFER_OVERRUN="BUFFER_OVERRUN",o.NUMERIC_FAULT="NUMERIC_FAULT",o.MISSING_NEW="MISSING_NEW",o.INVALID_ARGUMENT="INVALID_ARGUMENT",o.MISSING_ARGUMENT="MISSING_ARGUMENT",o.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",o.CALL_EXCEPTION="CALL_EXCEPTION",o.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",o.NONCE_EXPIRED="NONCE_EXPIRED",o.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",o.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",o.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(Ut||(Ut={}));const Ir="0123456789abcdef";class P{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const n=t.toLowerCase();Xe[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(Tr>Xe[n])&&console.log.apply(console,e)}debug(...t){this._log(P.levels.DEBUG,t)}info(...t){this._log(P.levels.INFO,t)}warn(...t){this._log(P.levels.WARNING,t)}makeError(t,e,n){if(Rr)return this.makeError("censored error",e,{});e||(e=P.errors.UNKNOWN_ERROR),n||(n={});const l=[];Object.keys(n).forEach(b=>{const A=n[b];try{if(A instanceof Uint8Array){let R="";for(let L=0;L<A.length;L++)R+=Ir[A[L]>>4],R+=Ir[A[L]&15];l.push(b+"=Uint8Array(0x"+R+")")}else l.push(b+"="+JSON.stringify(A))}catch{l.push(b+"="+JSON.stringify(n[b].toString()))}}),l.push(`code=${e}`),l.push(`version=${this.version}`);const u=t;let f="";switch(e){case Ut.NUMERIC_FAULT:{f="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":f+="-"+b;break;case"negative-power":case"negative-width":f+="-unsupported";break;case"unbound-bitwise-result":f+="-unbound-result";break}break}case Ut.CALL_EXCEPTION:case Ut.INSUFFICIENT_FUNDS:case Ut.MISSING_NEW:case Ut.NONCE_EXPIRED:case Ut.REPLACEMENT_UNDERPRICED:case Ut.TRANSACTION_REPLACED:case Ut.UNPREDICTABLE_GAS_LIMIT:f=e;break}f&&(t+=" [ See: https://links.ethers.org/v5-errors-"+f+" ]"),l.length&&(t+=" ("+l.join(", ")+")");const v=new Error(t);return v.reason=u,v.code=e,Object.keys(n).forEach(function(b){v[b]=n[b]}),v}throwError(t,e,n){throw this.makeError(t,e,n)}throwArgumentError(t,e,n){return this.throwError(t,P.errors.INVALID_ARGUMENT,{argument:e,value:n})}assert(t,e,n,l){t||this.throwError(e,n,l)}assertArgument(t,e,n,l){t||this.throwArgumentError(e,n,l)}checkNormalize(t){kr&&this.throwError("platform missing String.prototype.normalize",P.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:kr})}checkSafeUint53(t,e){typeof t=="number"&&(e==null&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,P.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,P.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,n){n?n=": "+n:n="",t<e&&this.throwError("missing argument"+n,P.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+n,P.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||t==null)&&this.throwError("missing new",P.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",P.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",P.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return vr||(vr=new P(bn)),vr}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",P.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Sr){if(!t)return;this.globalLogger().throwError("error censorship permanent",P.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Rr=!!t,Sr=!!e}static setLogLevel(t){const e=Xe[t.toLowerCase()];if(e==null){P.globalLogger().warn("invalid log level - "+t);return}Tr=e}static from(t){return new P(t)}}P.errors=Ut;P.levels=Mr;const Mn="bytes/5.6.1",Vt=new P(Mn);function Hr(o){return!!o.toHexString}function Ie(o){return o.slice||(o.slice=function(){const t=Array.prototype.slice.call(arguments);return Ie(new Uint8Array(Array.prototype.slice.apply(o,t)))}),o}function An(o){return St(o)&&!(o.length%2)||Ge(o)}function Cr(o){return typeof o=="number"&&o==o&&o%1===0}function Ge(o){if(o==null)return!1;if(o.constructor===Uint8Array)return!0;if(typeof o=="string"||!Cr(o.length)||o.length<0)return!1;for(let t=0;t<o.length;t++){const e=o[t];if(!Cr(e)||e<0||e>=256)return!1}return!0}function xt(o,t){if(t||(t={}),typeof o=="number"){Vt.checkSafeUint53(o,"invalid arrayify value");const e=[];for(;o;)e.unshift(o&255),o=parseInt(String(o/256));return e.length===0&&e.push(0),Ie(new Uint8Array(e))}if(t.allowMissingPrefix&&typeof o=="string"&&o.substring(0,2)!=="0x"&&(o="0x"+o),Hr(o)&&(o=o.toHexString()),St(o)){let e=o.substring(2);e.length%2&&(t.hexPad==="left"?e="0"+e:t.hexPad==="right"?e+="0":Vt.throwArgumentError("hex data is odd-length","value",o));const n=[];for(let l=0;l<e.length;l+=2)n.push(parseInt(e.substring(l,l+2),16));return Ie(new Uint8Array(n))}return Ge(o)?Ie(new Uint8Array(o)):Vt.throwArgumentError("invalid arrayify value","value",o)}function Ee(o){const t=o.map(l=>xt(l)),e=t.reduce((l,u)=>l+u.length,0),n=new Uint8Array(e);return t.reduce((l,u)=>(n.set(u,l),l+u.length),0),Ie(n)}function _n(o){let t=xt(o);if(t.length===0)return t;let e=0;for(;e<t.length&&t[e]===0;)e++;return e&&(t=t.slice(e)),t}function St(o,t){return!(typeof o!="string"||!o.match(/^0x[0-9A-Fa-f]*$/)||t&&o.length!==2+2*t)}const wr="0123456789abcdef";function At(o,t){if(t||(t={}),typeof o=="number"){Vt.checkSafeUint53(o,"invalid hexlify value");let e="";for(;o;)e=wr[o&15]+e,o=Math.floor(o/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(typeof o=="bigint")return o=o.toString(16),o.length%2?"0x0"+o:"0x"+o;if(t.allowMissingPrefix&&typeof o=="string"&&o.substring(0,2)!=="0x"&&(o="0x"+o),Hr(o))return o.toHexString();if(St(o))return o.length%2&&(t.hexPad==="left"?o="0x0"+o.substring(2):t.hexPad==="right"?o+="0":Vt.throwArgumentError("hex data is odd-length","value",o)),o.toLowerCase();if(Ge(o)){let e="0x";for(let n=0;n<o.length;n++){let l=o[n];e+=wr[(l&240)>>4]+wr[l&15]}return e}return Vt.throwArgumentError("invalid hexlify value","value",o)}function Nn(o){if(typeof o!="string")o=At(o);else if(!St(o)||o.length%2)return null;return(o.length-2)/2}function Xr(o,t,e){return typeof o!="string"?o=At(o):(!St(o)||o.length%2)&&Vt.throwArgumentError("invalid hexData","value",o),t=2+2*t,e!=null?"0x"+o.substring(t,2+2*e):"0x"+o.substring(t)}function Pn(o){let t="0x";return o.forEach(e=>{t+=At(e).substring(2)}),t}function Kr(o,t){for(typeof o!="string"?o=At(o):St(o)||Vt.throwArgumentError("invalid hex string","value",o),o.length>2*t+2&&Vt.throwArgumentError("value out of range","value",arguments[1]);o.length<2*t+2;)o="0x0"+o.substring(2);return o}const xn="bignumber/5.6.0";var Qe=wn.BN;const Lt=new P(xn),br={},Fr=9007199254740991;let Ur=!1;class j{constructor(t,e){Lt.checkNew(new.target,j),t!==br&&Lt.throwError("cannot call constructor directly; use BigNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Tt(B(this).fromTwos(t))}toTwos(t){return Tt(B(this).toTwos(t))}abs(){return this._hex[0]==="-"?j.from(this._hex.substring(1)):this}add(t){return Tt(B(this).add(B(t)))}sub(t){return Tt(B(this).sub(B(t)))}div(t){return j.from(t).isZero()&&Ct("division-by-zero","div"),Tt(B(this).div(B(t)))}mul(t){return Tt(B(this).mul(B(t)))}mod(t){const e=B(t);return e.isNeg()&&Ct("division-by-zero","mod"),Tt(B(this).umod(e))}pow(t){const e=B(t);return e.isNeg()&&Ct("negative-power","pow"),Tt(B(this).pow(e))}and(t){const e=B(t);return(this.isNegative()||e.isNeg())&&Ct("unbound-bitwise-result","and"),Tt(B(this).and(e))}or(t){const e=B(t);return(this.isNegative()||e.isNeg())&&Ct("unbound-bitwise-result","or"),Tt(B(this).or(e))}xor(t){const e=B(t);return(this.isNegative()||e.isNeg())&&Ct("unbound-bitwise-result","xor"),Tt(B(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Ct("negative-width","mask"),Tt(B(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Ct("negative-width","shl"),Tt(B(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Ct("negative-width","shr"),Tt(B(this).shrn(t))}eq(t){return B(this).eq(B(t))}lt(t){return B(this).lt(B(t))}lte(t){return B(this).lte(B(t))}gt(t){return B(this).gt(B(t))}gte(t){return B(this).gte(B(t))}isNegative(){return this._hex[0]==="-"}isZero(){return B(this).isZero()}toNumber(){try{return B(this).toNumber()}catch{Ct("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Lt.throwError("this platform does not support BigInt",P.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Ur||(Ur=!0,Lt.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Lt.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",P.errors.UNEXPECTED_ARGUMENT,{}):Lt.throwError("BigNumber.toString does not accept parameters",P.errors.UNEXPECTED_ARGUMENT,{})),B(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof j)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new j(br,Fe(t)):t.match(/^-?[0-9]+$/)?new j(br,Fe(new Qe(t))):Lt.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Ct("underflow","BigNumber.from",t),(t>=Fr||t<=-Fr)&&Ct("overflow","BigNumber.from",t),j.from(String(t));const e=t;if(typeof e=="bigint")return j.from(e.toString());if(Ge(e))return j.from(At(e));if(e)if(e.toHexString){const n=e.toHexString();if(typeof n=="string")return j.from(n)}else{let n=e._hex;if(n==null&&e.type==="BigNumber"&&(n=e.hex),typeof n=="string"&&(St(n)||n[0]==="-"&&St(n.substring(1))))return j.from(n)}return Lt.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Fe(o){if(typeof o!="string")return Fe(o.toString(16));if(o[0]==="-")return o=o.substring(1),o[0]==="-"&&Lt.throwArgumentError("invalid hex","value",o),o=Fe(o),o==="0x00"?o:"-"+o;if(o.substring(0,2)!=="0x"&&(o="0x"+o),o==="0x")return"0x00";for(o.length%2&&(o="0x0"+o.substring(2));o.length>4&&o.substring(0,4)==="0x00";)o="0x"+o.substring(4);return o}function Tt(o){return j.from(Fe(o))}function B(o){const t=j.from(o).toHexString();return t[0]==="-"?new Qe("-"+t.substring(3),16):new Qe(t.substring(2),16)}function Ct(o,t,e){const n={fault:o,operation:t};return e!=null&&(n.value=e),Lt.throwError(o,P.errors.NUMERIC_FAULT,n)}function On(o){return new Qe(o,36).toString(16)}const Sn="properties/5.6.0";var Rn=globalThis&&globalThis.__awaiter||function(o,t,e,n){function l(u){return u instanceof e?u:new e(function(f){f(u)})}return new(e||(e=Promise))(function(u,f){function v(R){try{A(n.next(R))}catch(L){f(L)}}function b(R){try{A(n.throw(R))}catch(L){f(L)}}function A(R){R.done?u(R.value):l(R.value).then(v,b)}A((n=n.apply(o,t||[])).next())})};const Qr=new P(Sn);function k(o,t,e){Object.defineProperty(o,t,{enumerable:!0,value:e,writable:!1})}function re(o,t){for(let e=0;e<32;e++){if(o[t])return o[t];if(!o.prototype||typeof o.prototype!="object")break;o=Object.getPrototypeOf(o.prototype).constructor}return null}function ne(o){return Rn(this,void 0,void 0,function*(){const t=Object.keys(o).map(e=>{const n=o[e];return Promise.resolve(n).then(l=>({key:e,value:l}))});return(yield Promise.all(t)).reduce((e,n)=>(e[n.key]=n.value,e),{})})}function Me(o){const t={};for(const e in o)t[e]=o[e];return t}const Tn={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Yr(o){if(o==null||Tn[typeof o])return!0;if(Array.isArray(o)||typeof o=="object"){if(!Object.isFrozen(o))return!1;const t=Object.keys(o);for(let e=0;e<t.length;e++){let n=null;try{n=o[t[e]]}catch{continue}if(!Yr(n))return!1}return!0}return Qr.throwArgumentError(`Cannot deepCopy ${typeof o}`,"object",o)}function kn(o){if(Yr(o))return o;if(Array.isArray(o))return Object.freeze(o.map(t=>Ue(t)));if(typeof o=="object"){const t={};for(const e in o){const n=o[e];n!==void 0&&k(t,e,Ue(n))}return t}return Qr.throwArgumentError(`Cannot deepCopy ${typeof o}`,"object",o)}function Ue(o){return kn(o)}class or{constructor(t){for(const e in t)this[e]=Ue(t[e])}}const Ve="abi/5.6.1",D=new P(Ve),Ae={};let Lr={calldata:!0,memory:!0,storage:!0},In={calldata:!0,memory:!0};function Ze(o,t){if(o==="bytes"||o==="string"){if(Lr[t])return!0}else if(o==="address"){if(t==="payable")return!0}else if((o.indexOf("[")>=0||o==="tuple")&&In[t])return!0;return(Lr[t]||t==="payable")&&D.throwArgumentError("invalid modifier","name",t),!1}function Cn(o,t){let e=o;function n(v){D.throwArgumentError(`unexpected character at position ${v}`,"param",o)}o=o.replace(/\s/g," ");function l(v){let b={type:"",name:"",parent:v,state:{allowType:!0}};return t&&(b.indexed=!1),b}let u={type:"",name:"",state:{allowType:!0}},f=u;for(let v=0;v<o.length;v++){let b=o[v];switch(b){case"(":f.state.allowType&&f.type===""?f.type="tuple":f.state.allowParams||n(v),f.state.allowType=!1,f.type=Pe(f.type),f.components=[l(f)],f=f.components[0];break;case")":delete f.state,f.name==="indexed"&&(t||n(v),f.indexed=!0,f.name=""),Ze(f.type,f.name)&&(f.name=""),f.type=Pe(f.type);let A=f;f=f.parent,f||n(v),delete A.parent,f.state.allowParams=!1,f.state.allowName=!0,f.state.allowArray=!0;break;case",":delete f.state,f.name==="indexed"&&(t||n(v),f.indexed=!0,f.name=""),Ze(f.type,f.name)&&(f.name=""),f.type=Pe(f.type);let R=l(f.parent);f.parent.components.push(R),delete f.parent,f=R;break;case" ":f.state.allowType&&f.type!==""&&(f.type=Pe(f.type),delete f.state.allowType,f.state.allowName=!0,f.state.allowParams=!0),f.state.allowName&&f.name!==""&&(f.name==="indexed"?(t||n(v),f.indexed&&n(v),f.indexed=!0,f.name=""):Ze(f.type,f.name)?f.name="":f.state.allowName=!1);break;case"[":f.state.allowArray||n(v),f.type+=b,f.state.allowArray=!1,f.state.allowName=!1,f.state.readArray=!0;break;case"]":f.state.readArray||n(v),f.type+=b,f.state.readArray=!1,f.state.allowArray=!0,f.state.allowName=!0;break;default:f.state.allowType?(f.type+=b,f.state.allowParams=!0,f.state.allowArray=!0):f.state.allowName?(f.name+=b,delete f.state.allowArray):f.state.readArray?f.type+=b:n(v)}}return f.parent&&D.throwArgumentError("unexpected eof","param",o),delete u.state,f.name==="indexed"?(t||n(e.length-7),f.indexed&&n(e.length-7),f.indexed=!0,f.name=""):Ze(f.type,f.name)&&(f.name=""),u.type=Pe(u.type),u}function Ke(o,t){for(let e in t)k(o,e,t[e])}const z=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Fn=new RegExp(/^(.*)\[([0-9]*)\]$/);class Pt{constructor(t,e){t!==Ae&&D.throwError("use fromString",P.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ke(this,e);let n=this.type.match(Fn);n?Ke(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Pt.fromObject({type:n[1],components:this.components}),baseType:"array"}):Ke(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=z.sighash),z[t]||D.throwArgumentError("invalid format type","format",t),t===z.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(l=>JSON.parse(l.format(t)))),JSON.stringify(n)}let e="";return this.baseType==="array"?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(t!==z.sighash&&(e+=this.type),e+="("+this.components.map(n=>n.format(t)).join(t===z.full?", ":",")+")"):e+=this.type,t!==z.sighash&&(this.indexed===!0&&(e+=" indexed"),t===z.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return typeof t=="string"?Pt.fromString(t,e):Pt.fromObject(t)}static fromObject(t){return Pt.isParamType(t)?t:new Pt(Ae,{name:t.name||null,type:Pe(t.type),indexed:t.indexed==null?null:!!t.indexed,components:t.components?t.components.map(Pt.fromObject):null})}static fromString(t,e){function n(l){return Pt.fromObject({name:l.name,type:l.type,indexed:l.indexed,components:l.components})}return n(Cn(t,!!e))}static isParamType(t){return!!(t!=null&&t._isParamType)}}function Le(o,t){return Ln(o).map(e=>Pt.fromString(e,t))}class Gt{constructor(t,e){t!==Ae&&D.throwError("use a static from method",P.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ke(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return Gt.isFragment(t)?t:typeof t=="string"?Gt.fromString(t):Gt.fromObject(t)}static fromObject(t){if(Gt.isFragment(t))return t;switch(t.type){case"function":return jt.fromObject(t);case"event":return zt.fromObject(t);case"constructor":return Bt.fromObject(t);case"error":return ee.fromObject(t);case"fallback":case"receive":return null}return D.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return t=t.replace(/\s/g," "),t=t.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),t=t.trim(),t.split(" ")[0]==="event"?zt.fromString(t.substring(5).trim()):t.split(" ")[0]==="function"?jt.fromString(t.substring(8).trim()):t.split("(")[0].trim()==="constructor"?Bt.fromString(t.trim()):t.split(" ")[0]==="error"?ee.fromString(t.substring(5).trim()):D.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!!(t&&t._isFragment)}}class zt extends Gt{format(t){if(t||(t=z.sighash),z[t]||D.throwArgumentError("invalid format type","format",t),t===z.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let e="";return t!==z.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===z.full?", ":",")+") ",t!==z.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return typeof t=="string"?zt.fromString(t):zt.fromObject(t)}static fromObject(t){if(zt.isEventFragment(t))return t;t.type!=="event"&&D.throwArgumentError("invalid event object","value",t);const e={name:Be(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Pt.fromObject):[],type:"event"};return new zt(Ae,e)}static fromString(t){let e=t.match(je);e||D.throwArgumentError("invalid event string","value",t);let n=!1;return e[3].split(" ").forEach(l=>{switch(l.trim()){case"anonymous":n=!0;break;case"":break;default:D.warn("unknown modifier: "+l)}}),zt.fromObject({name:e[1].trim(),anonymous:n,inputs:Le(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&t.type==="event"}}function tn(o,t){t.gas=null;let e=o.split("@");return e.length!==1?(e.length>2&&D.throwArgumentError("invalid human-readable ABI signature","value",o),e[1].match(/^[0-9]+$/)||D.throwArgumentError("invalid human-readable ABI signature gas","value",o),t.gas=j.from(e[1]),e[0]):o}function en(o,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",o.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function rn(o){let t={constant:!1,payable:!0,stateMutability:"payable"};return o.stateMutability!=null?(t.stateMutability=o.stateMutability,t.constant=t.stateMutability==="view"||t.stateMutability==="pure",o.constant!=null&&!!o.constant!==t.constant&&D.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",o),t.payable=t.stateMutability==="payable",o.payable!=null&&!!o.payable!==t.payable&&D.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",o)):o.payable!=null?(t.payable=!!o.payable,o.constant==null&&!t.payable&&o.type!=="constructor"&&D.throwArgumentError("unable to determine stateMutability","value",o),t.constant=!!o.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&D.throwArgumentError("cannot have constant payable function","value",o)):o.constant!=null?(t.constant=!!o.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):o.type!=="constructor"&&D.throwArgumentError("unable to determine stateMutability","value",o),t}class Bt extends Gt{format(t){if(t||(t=z.sighash),z[t]||D.throwArgumentError("invalid format type","format",t),t===z.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});t===z.sighash&&D.throwError("cannot format a constructor for sighash",P.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map(n=>n.format(t)).join(t===z.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(e+=this.stateMutability+" "),e.trim()}static from(t){return typeof t=="string"?Bt.fromString(t):Bt.fromObject(t)}static fromObject(t){if(Bt.isConstructorFragment(t))return t;t.type!=="constructor"&&D.throwArgumentError("invalid constructor object","value",t);let e=rn(t);e.constant&&D.throwArgumentError("constructor cannot be constant","value",t);const n={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Pt.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?j.from(t.gas):null};return new Bt(Ae,n)}static fromString(t){let e={type:"constructor"};t=tn(t,e);let n=t.match(je);return(!n||n[1].trim()!=="constructor")&&D.throwArgumentError("invalid constructor string","value",t),e.inputs=Le(n[2].trim(),!1),en(n[3].trim(),e),Bt.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&t.type==="constructor"}}class jt extends Bt{format(t){if(t||(t=z.sighash),z[t]||D.throwArgumentError("invalid format type","format",t),t===z.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t))),outputs:this.outputs.map(n=>JSON.parse(n.format(t)))});let e="";return t!==z.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===z.full?", ":",")+") ",t!==z.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map(n=>n.format(t)).join(", ")+") "),this.gas!=null&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return typeof t=="string"?jt.fromString(t):jt.fromObject(t)}static fromObject(t){if(jt.isFunctionFragment(t))return t;t.type!=="function"&&D.throwArgumentError("invalid function object","value",t);let e=rn(t);const n={type:t.type,name:Be(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(Pt.fromObject):[],outputs:t.outputs?t.outputs.map(Pt.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?j.from(t.gas):null};return new jt(Ae,n)}static fromString(t){let e={type:"function"};t=tn(t,e);let n=t.split(" returns ");n.length>2&&D.throwArgumentError("invalid function string","value",t);let l=n[0].match(je);if(l||D.throwArgumentError("invalid function signature","value",t),e.name=l[1].trim(),e.name&&Be(e.name),e.inputs=Le(l[2],!1),en(l[3].trim(),e),n.length>1){let u=n[1].match(je);(u[1].trim()!=""||u[3].trim()!="")&&D.throwArgumentError("unexpected tokens","value",t),e.outputs=Le(u[2],!1)}else e.outputs=[];return jt.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&t.type==="function"}}function Br(o){const t=o.format();return(t==="Error(string)"||t==="Panic(uint256)")&&D.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",o),o}class ee extends Gt{format(t){if(t||(t=z.sighash),z[t]||D.throwArgumentError("invalid format type","format",t),t===z.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let e="";return t!==z.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===z.full?", ":",")+") ",e.trim()}static from(t){return typeof t=="string"?ee.fromString(t):ee.fromObject(t)}static fromObject(t){if(ee.isErrorFragment(t))return t;t.type!=="error"&&D.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:Be(t.name),inputs:t.inputs?t.inputs.map(Pt.fromObject):[]};return Br(new ee(Ae,e))}static fromString(t){let e={type:"error"},n=t.match(je);return n||D.throwArgumentError("invalid error signature","value",t),e.name=n[1].trim(),e.name&&Be(e.name),e.inputs=Le(n[2],!1),Br(ee.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&t.type==="error"}}function Pe(o){return o.match(/^uint($|[^1-9])/)?o="uint256"+o.substring(4):o.match(/^int($|[^1-9])/)&&(o="int256"+o.substring(3)),o}const Un=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Be(o){return(!o||!o.match(Un))&&D.throwArgumentError(`invalid identifier "${o}"`,"value",o),o}const je=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Ln(o){o=o.trim();let t=[],e="",n=0;for(let l=0;l<o.length;l++){let u=o[l];u===","&&n===0?(t.push(e),e=""):(e+=u,u==="("?n++:u===")"&&(n--,n===-1&&D.throwArgumentError("unbalanced parenthesis","value",o)))}return e&&t.push(e),t}const Nr=new P(Ve);function Bn(o){const t=[],e=function(n,l){if(Array.isArray(l))for(let u in l){const f=n.slice();f.push(u);try{e(f,l[u])}catch(v){t.push({path:f,error:v})}}};return e([],o),t}class qt{constructor(t,e,n,l){this.name=t,this.type=e,this.localName=n,this.dynamic=l}_throwError(t,e){Nr.throwArgumentError(t,this.localName,e)}}class Ar{constructor(t){k(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return Pn(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(Ee(t._data))}writeBytes(t){let e=xt(t);const n=e.length%this.wordSize;return n&&(e=Ee([e,this._padding.slice(n)])),this._writeData(e)}_getValue(t){let e=xt(j.from(t));return e.length>this.wordSize&&Nr.throwError("value out-of-bounds",P.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=Ee([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class Ye{constructor(t,e,n,l){k(this,"_data",xt(t)),k(this,"wordSize",e||32),k(this,"_coerceFunc",n),k(this,"allowLoose",l),this._offset=0}get data(){return At(this._data)}get consumed(){return this._offset}static coerce(t,e){let n=t.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):Ye.coerce(t,e)}_peekBytes(t,e,n){let l=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+l>this._data.length&&(this.allowLoose&&n&&this._offset+e<=this._data.length?l=e:Nr.throwError("data out-of-bounds",P.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+l})),this._data.slice(this._offset,this._offset+l)}subReader(t){return new Ye(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let n=this._peekBytes(0,t,!!e);return this._offset+=n.length,n.slice(0,t)}readValue(){return j.from(this.readBytes(this.wordSize))}}var nn={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(o){(function(){var t="input is invalid type",e="finalize already called",n=typeof window=="object",l=n?window:{};l.JS_SHA3_NO_WINDOW&&(n=!1);var u=!n&&typeof self=="object",f=!l.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;f?l=Zr:u&&(l=self);var v=!l.JS_SHA3_NO_COMMON_JS&&!0&&o.exports,b=!l.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",A="0123456789abcdef".split(""),R=[31,7936,2031616,520093696],L=[4,1024,262144,67108864],G=[1,256,65536,16777216],Nt=[6,1536,393216,100663296],_t=[0,8,16,24],Se=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Je=[224,256,384,512],_e=[128,256],Rt=["hex","buffer","arrayBuffer","array","digest"],Ne={"128":168,"256":136};(l.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}),b&&(l.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(a){return typeof a=="object"&&a.buffer&&a.buffer.constructor===ArrayBuffer});for(var Ot=function(a,w,M){return function(E){return new N(a,w,a).update(E)[M]()}},oe=function(a,w,M){return function(E,_){return new N(a,w,_).update(E)[M]()}},Re=function(a,w,M){return function(E,_,C,O){return c["cshake"+a].update(E,_,C,O)[M]()}},Te=function(a,w,M){return function(E,_,C,O){return c["kmac"+a].update(E,_,C,O)[M]()}},Jt=function(a,w,M,E){for(var _=0;_<Rt.length;++_){var C=Rt[_];a[C]=w(M,E,C)}return a},bt=function(a,w){var M=Ot(a,w,"hex");return M.create=function(){return new N(a,w,a)},M.update=function(E){return M.create().update(E)},Jt(M,Ot,a,w)},Dt=function(a,w){var M=oe(a,w,"hex");return M.create=function(E){return new N(a,w,E)},M.update=function(E,_){return M.create(_).update(E)},Jt(M,oe,a,w)},r=function(a,w){var M=Ne[a],E=Re(a,w,"hex");return E.create=function(_,C,O){return!C&&!O?c["shake"+a].create(_):new N(a,w,_).bytepad([C,O],M)},E.update=function(_,C,O,x){return E.create(C,O,x).update(_)},Jt(E,Re,a,w)},s=function(a,w){var M=Ne[a],E=Te(a,w,"hex");return E.create=function(_,C,O){return new I(a,w,C).bytepad(["KMAC",O],M).bytepad([_],M)},E.update=function(_,C,O,x){return E.create(_,O,x).update(C)},Jt(E,Te,a,w)},h=[{name:"keccak",padding:G,bits:Je,createMethod:bt},{name:"sha3",padding:Nt,bits:Je,createMethod:bt},{name:"shake",padding:R,bits:_e,createMethod:Dt},{name:"cshake",padding:L,bits:_e,createMethod:r},{name:"kmac",padding:L,bits:_e,createMethod:s}],c={},p=[],g=0;g<h.length;++g)for(var y=h[g],d=y.bits,i=0;i<d.length;++i){var m=y.name+"_"+d[i];if(p.push(m),c[m]=y.createMethod(d[i],y.padding),y.name!=="sha3"){var T=y.name+d[i];p.push(T),c[T]=c[m]}}function N(a,w,M){this.blocks=[],this.s=[],this.padding=w,this.outputBits=M,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(a<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=M>>5,this.extraBytes=(M&31)>>3;for(var E=0;E<50;++E)this.s[E]=0}N.prototype.update=function(a){if(this.finalized)throw new Error(e);var w,M=typeof a;if(M!=="string"){if(M==="object"){if(a===null)throw new Error(t);if(b&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!b||!ArrayBuffer.isView(a)))throw new Error(t)}else throw new Error(t);w=!0}for(var E=this.blocks,_=this.byteCount,C=a.length,O=this.blockCount,x=0,Mt=this.s,S,U;x<C;){if(this.reset)for(this.reset=!1,E[0]=this.block,S=1;S<O+1;++S)E[S]=0;if(w)for(S=this.start;x<C&&S<_;++x)E[S>>2]|=a[x]<<_t[S++&3];else for(S=this.start;x<C&&S<_;++x)U=a.charCodeAt(x),U<128?E[S>>2]|=U<<_t[S++&3]:U<2048?(E[S>>2]|=(192|U>>6)<<_t[S++&3],E[S>>2]|=(128|U&63)<<_t[S++&3]):U<55296||U>=57344?(E[S>>2]|=(224|U>>12)<<_t[S++&3],E[S>>2]|=(128|U>>6&63)<<_t[S++&3],E[S>>2]|=(128|U&63)<<_t[S++&3]):(U=65536+((U&1023)<<10|a.charCodeAt(++x)&1023),E[S>>2]|=(240|U>>18)<<_t[S++&3],E[S>>2]|=(128|U>>12&63)<<_t[S++&3],E[S>>2]|=(128|U>>6&63)<<_t[S++&3],E[S>>2]|=(128|U&63)<<_t[S++&3]);if(this.lastByteIndex=S,S>=_){for(this.start=S-_,this.block=E[O],S=0;S<O;++S)Mt[S]^=E[S];F(Mt),this.reset=!0}else this.start=S}return this},N.prototype.encode=function(a,w){var M=a&255,E=1,_=[M];for(a=a>>8,M=a&255;M>0;)_.unshift(M),a=a>>8,M=a&255,++E;return w?_.push(E):_.unshift(E),this.update(_),_.length},N.prototype.encodeString=function(a){var w,M=typeof a;if(M!=="string"){if(M==="object"){if(a===null)throw new Error(t);if(b&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!b||!ArrayBuffer.isView(a)))throw new Error(t)}else throw new Error(t);w=!0}var E=0,_=a.length;if(w)E=_;else for(var C=0;C<a.length;++C){var O=a.charCodeAt(C);O<128?E+=1:O<2048?E+=2:O<55296||O>=57344?E+=3:(O=65536+((O&1023)<<10|a.charCodeAt(++C)&1023),E+=4)}return E+=this.encode(E*8),this.update(a),E},N.prototype.bytepad=function(a,w){for(var M=this.encode(w),E=0;E<a.length;++E)M+=this.encodeString(a[E]);var _=w-M%w,C=[];return C.length=_,this.update(C),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,w=this.lastByteIndex,M=this.blockCount,E=this.s;if(a[w>>2]|=this.padding[w&3],this.lastByteIndex===this.byteCount)for(a[0]=a[M],w=1;w<M+1;++w)a[w]=0;for(a[M-1]|=2147483648,w=0;w<M;++w)E[w]^=a[w];F(E)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var a=this.blockCount,w=this.s,M=this.outputBlocks,E=this.extraBytes,_=0,C=0,O="",x;C<M;){for(_=0;_<a&&C<M;++_,++C)x=w[_],O+=A[x>>4&15]+A[x&15]+A[x>>12&15]+A[x>>8&15]+A[x>>20&15]+A[x>>16&15]+A[x>>28&15]+A[x>>24&15];C%a===0&&(F(w),_=0)}return E&&(x=w[_],O+=A[x>>4&15]+A[x&15],E>1&&(O+=A[x>>12&15]+A[x>>8&15]),E>2&&(O+=A[x>>20&15]+A[x>>16&15])),O},N.prototype.arrayBuffer=function(){this.finalize();var a=this.blockCount,w=this.s,M=this.outputBlocks,E=this.extraBytes,_=0,C=0,O=this.outputBits>>3,x;E?x=new ArrayBuffer(M+1<<2):x=new ArrayBuffer(O);for(var Mt=new Uint32Array(x);C<M;){for(_=0;_<a&&C<M;++_,++C)Mt[C]=w[_];C%a===0&&F(w)}return E&&(Mt[_]=w[_],x=x.slice(0,O)),x},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var a=this.blockCount,w=this.s,M=this.outputBlocks,E=this.extraBytes,_=0,C=0,O=[],x,Mt;C<M;){for(_=0;_<a&&C<M;++_,++C)x=C<<2,Mt=w[_],O[x]=Mt&255,O[x+1]=Mt>>8&255,O[x+2]=Mt>>16&255,O[x+3]=Mt>>24&255;C%a===0&&F(w)}return E&&(x=C<<2,Mt=w[_],O[x]=Mt&255,E>1&&(O[x+1]=Mt>>8&255),E>2&&(O[x+2]=Mt>>16&255)),O};function I(a,w,M){N.call(this,a,w,M)}I.prototype=new N,I.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var F=function(a){var w,M,E,_,C,O,x,Mt,S,U,se,$,q,ae,J,Z,ue,W,H,he,X,K,le,Q,Y,ce,tt,et,fe,rt,nt,de,it,ot,me,st,at,pe,ut,ht,ge,lt,ct,ye,ft,dt,ve,mt,pt,we,gt,yt,be,vt,wt,Zt,Wt,Ht,Xt,Kt,Qt,Yt,te;for(E=0;E<48;E+=2)_=a[0]^a[10]^a[20]^a[30]^a[40],C=a[1]^a[11]^a[21]^a[31]^a[41],O=a[2]^a[12]^a[22]^a[32]^a[42],x=a[3]^a[13]^a[23]^a[33]^a[43],Mt=a[4]^a[14]^a[24]^a[34]^a[44],S=a[5]^a[15]^a[25]^a[35]^a[45],U=a[6]^a[16]^a[26]^a[36]^a[46],se=a[7]^a[17]^a[27]^a[37]^a[47],$=a[8]^a[18]^a[28]^a[38]^a[48],q=a[9]^a[19]^a[29]^a[39]^a[49],w=$^(O<<1|x>>>31),M=q^(x<<1|O>>>31),a[0]^=w,a[1]^=M,a[10]^=w,a[11]^=M,a[20]^=w,a[21]^=M,a[30]^=w,a[31]^=M,a[40]^=w,a[41]^=M,w=_^(Mt<<1|S>>>31),M=C^(S<<1|Mt>>>31),a[2]^=w,a[3]^=M,a[12]^=w,a[13]^=M,a[22]^=w,a[23]^=M,a[32]^=w,a[33]^=M,a[42]^=w,a[43]^=M,w=O^(U<<1|se>>>31),M=x^(se<<1|U>>>31),a[4]^=w,a[5]^=M,a[14]^=w,a[15]^=M,a[24]^=w,a[25]^=M,a[34]^=w,a[35]^=M,a[44]^=w,a[45]^=M,w=Mt^($<<1|q>>>31),M=S^(q<<1|$>>>31),a[6]^=w,a[7]^=M,a[16]^=w,a[17]^=M,a[26]^=w,a[27]^=M,a[36]^=w,a[37]^=M,a[46]^=w,a[47]^=M,w=U^(_<<1|C>>>31),M=se^(C<<1|_>>>31),a[8]^=w,a[9]^=M,a[18]^=w,a[19]^=M,a[28]^=w,a[29]^=M,a[38]^=w,a[39]^=M,a[48]^=w,a[49]^=M,ae=a[0],J=a[1],dt=a[11]<<4|a[10]>>>28,ve=a[10]<<4|a[11]>>>28,et=a[20]<<3|a[21]>>>29,fe=a[21]<<3|a[20]>>>29,Kt=a[31]<<9|a[30]>>>23,Qt=a[30]<<9|a[31]>>>23,lt=a[40]<<18|a[41]>>>14,ct=a[41]<<18|a[40]>>>14,ot=a[2]<<1|a[3]>>>31,me=a[3]<<1|a[2]>>>31,Z=a[13]<<12|a[12]>>>20,ue=a[12]<<12|a[13]>>>20,mt=a[22]<<10|a[23]>>>22,pt=a[23]<<10|a[22]>>>22,rt=a[33]<<13|a[32]>>>19,nt=a[32]<<13|a[33]>>>19,Yt=a[42]<<2|a[43]>>>30,te=a[43]<<2|a[42]>>>30,vt=a[5]<<30|a[4]>>>2,wt=a[4]<<30|a[5]>>>2,st=a[14]<<6|a[15]>>>26,at=a[15]<<6|a[14]>>>26,W=a[25]<<11|a[24]>>>21,H=a[24]<<11|a[25]>>>21,we=a[34]<<15|a[35]>>>17,gt=a[35]<<15|a[34]>>>17,de=a[45]<<29|a[44]>>>3,it=a[44]<<29|a[45]>>>3,Q=a[6]<<28|a[7]>>>4,Y=a[7]<<28|a[6]>>>4,Zt=a[17]<<23|a[16]>>>9,Wt=a[16]<<23|a[17]>>>9,pe=a[26]<<25|a[27]>>>7,ut=a[27]<<25|a[26]>>>7,he=a[36]<<21|a[37]>>>11,X=a[37]<<21|a[36]>>>11,yt=a[47]<<24|a[46]>>>8,be=a[46]<<24|a[47]>>>8,ye=a[8]<<27|a[9]>>>5,ft=a[9]<<27|a[8]>>>5,ce=a[18]<<20|a[19]>>>12,tt=a[19]<<20|a[18]>>>12,Ht=a[29]<<7|a[28]>>>25,Xt=a[28]<<7|a[29]>>>25,ht=a[38]<<8|a[39]>>>24,ge=a[39]<<8|a[38]>>>24,K=a[48]<<14|a[49]>>>18,le=a[49]<<14|a[48]>>>18,a[0]=ae^~Z&W,a[1]=J^~ue&H,a[10]=Q^~ce&et,a[11]=Y^~tt&fe,a[20]=ot^~st&pe,a[21]=me^~at&ut,a[30]=ye^~dt&mt,a[31]=ft^~ve&pt,a[40]=vt^~Zt&Ht,a[41]=wt^~Wt&Xt,a[2]=Z^~W&he,a[3]=ue^~H&X,a[12]=ce^~et&rt,a[13]=tt^~fe&nt,a[22]=st^~pe&ht,a[23]=at^~ut&ge,a[32]=dt^~mt&we,a[33]=ve^~pt&gt,a[42]=Zt^~Ht&Kt,a[43]=Wt^~Xt&Qt,a[4]=W^~he&K,a[5]=H^~X&le,a[14]=et^~rt&de,a[15]=fe^~nt&it,a[24]=pe^~ht&lt,a[25]=ut^~ge&ct,a[34]=mt^~we&yt,a[35]=pt^~gt&be,a[44]=Ht^~Kt&Yt,a[45]=Xt^~Qt&te,a[6]=he^~K&ae,a[7]=X^~le&J,a[16]=rt^~de&Q,a[17]=nt^~it&Y,a[26]=ht^~lt&ot,a[27]=ge^~ct&me,a[36]=we^~yt&ye,a[37]=gt^~be&ft,a[46]=Kt^~Yt&vt,a[47]=Qt^~te&wt,a[8]=K^~ae&Z,a[9]=le^~J&ue,a[18]=de^~Q&ce,a[19]=it^~Y&tt,a[28]=lt^~ot&st,a[29]=ct^~me&at,a[38]=yt^~ye&dt,a[39]=be^~ft&ve,a[48]=Yt^~vt&Zt,a[49]=te^~wt&Wt,a[0]^=Se[E],a[1]^=Se[E+1]};if(v)o.exports=c;else for(g=0;g<p.length;++g)l[p[g]]=c[p[g]]})()})(nn);var jn=nn.exports;function De(o){return"0x"+jn.keccak_256(xt(o))}const Dn="rlp/5.6.0",zn=new P(Dn);function jr(o){const t=[];for(;o;)t.unshift(o&255),o>>=8;return t}function on(o){if(Array.isArray(o)){let n=[];if(o.forEach(function(u){n=n.concat(on(u))}),n.length<=55)return n.unshift(192+n.length),n;const l=jr(n.length);return l.unshift(247+l.length),l.concat(n)}An(o)||zn.throwArgumentError("RLP object must be BytesLike","object",o);const t=Array.prototype.slice.call(xt(o));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=jr(t.length);return e.unshift(183+e.length),e.concat(t)}function Gn(o){return At(on(o))}const Vn="address/5.6.0",xe=new P(Vn);function Dr(o){St(o,20)||xe.throwArgumentError("invalid address","address",o),o=o.toLowerCase();const t=o.substring(2).split(""),e=new Uint8Array(40);for(let l=0;l<40;l++)e[l]=t[l].charCodeAt(0);const n=xt(De(e));for(let l=0;l<40;l+=2)n[l>>1]>>4>=8&&(t[l]=t[l].toUpperCase()),(n[l>>1]&15)>=8&&(t[l+1]=t[l+1].toUpperCase());return"0x"+t.join("")}const $n=9007199254740991;function qn(o){return Math.log10?Math.log10(o):Math.log(o)/Math.LN10}const Pr={};for(let o=0;o<10;o++)Pr[String(o)]=String(o);for(let o=0;o<26;o++)Pr[String.fromCharCode(65+o)]=String(10+o);const zr=Math.floor(qn($n));function Jn(o){o=o.toUpperCase(),o=o.substring(4)+o.substring(0,2)+"00";let t=o.split("").map(n=>Pr[n]).join("");for(;t.length>=zr;){let n=t.substring(0,zr);t=parseInt(n,10)%97+t.substring(n.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}function $t(o){let t=null;if(typeof o!="string"&&xe.throwArgumentError("invalid address","address",o),o.match(/^(0x)?[0-9a-fA-F]{40}$/))o.substring(0,2)!=="0x"&&(o="0x"+o),t=Dr(o),o.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==o&&xe.throwArgumentError("bad address checksum","address",o);else if(o.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(o.substring(2,4)!==Jn(o)&&xe.throwArgumentError("bad icap checksum","address",o),t=On(o.substring(4));t.length<40;)t="0"+t;t=Dr("0x"+t)}else xe.throwArgumentError("invalid address","address",o);return t}function sn(o){let t=null;try{t=$t(o.from)}catch{xe.throwArgumentError("missing from address","transaction",o)}const e=_n(xt(j.from(o.nonce).toHexString()));return $t(Xr(De(Gn([t,e])),12))}class Zn extends qt{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=$t(e)}catch(n){this._throwError(n.message,e)}return t.writeValue(e)}decode(t){return $t(Kr(t.readValue().toHexString(),20))}}class Wn extends qt{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const Oe=new P(Ve);function an(o,t,e){let n=null;if(Array.isArray(e))n=e;else if(e&&typeof e=="object"){let b={};n=t.map(A=>{const R=A.localName;return R||Oe.throwError("cannot encode object for signature with missing names",P.errors.INVALID_ARGUMENT,{argument:"values",coder:A,value:e}),b[R]&&Oe.throwError("cannot encode object for signature with duplicate names",P.errors.INVALID_ARGUMENT,{argument:"values",coder:A,value:e}),b[R]=!0,e[R]})}else Oe.throwArgumentError("invalid tuple value","tuple",e);t.length!==n.length&&Oe.throwArgumentError("types/value length mismatch","tuple",e);let l=new Ar(o.wordSize),u=new Ar(o.wordSize),f=[];t.forEach((b,A)=>{let R=n[A];if(b.dynamic){let L=u.length;b.encode(u,R);let G=l.writeUpdatableValue();f.push(Nt=>{G(Nt+L)})}else b.encode(l,R)}),f.forEach(b=>{b(l.length)});let v=o.appendWriter(l);return v+=o.appendWriter(u),v}function un(o,t){let e=[],n=o.subReader(0);t.forEach(u=>{let f=null;if(u.dynamic){let v=o.readValue(),b=n.subReader(v.toNumber());try{f=u.decode(b)}catch(A){if(A.code===P.errors.BUFFER_OVERRUN)throw A;f=A,f.baseType=u.name,f.name=u.localName,f.type=u.type}}else try{f=u.decode(o)}catch(v){if(v.code===P.errors.BUFFER_OVERRUN)throw v;f=v,f.baseType=u.name,f.name=u.localName,f.type=u.type}f!=null&&e.push(f)});const l=t.reduce((u,f)=>{const v=f.localName;return v&&(u[v]||(u[v]=0),u[v]++),u},{});t.forEach((u,f)=>{let v=u.localName;if(!v||l[v]!==1||(v==="length"&&(v="_length"),e[v]!=null))return;const b=e[f];b instanceof Error?Object.defineProperty(e,v,{enumerable:!0,get:()=>{throw b}}):e[v]=b});for(let u=0;u<e.length;u++){const f=e[u];f instanceof Error&&Object.defineProperty(e,u,{enumerable:!0,get:()=>{throw f}})}return Object.freeze(e)}class Hn extends qt{constructor(t,e,n){const l=t.type+"["+(e>=0?e:"")+"]",u=e===-1||t.dynamic;super("array",l,n,u),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let n=0;n<this.length;n++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let n=this.length;n===-1&&(n=e.length,t.writeValue(e.length)),Oe.checkArgumentCount(e.length,n,"coder array"+(this.localName?" "+this.localName:""));let l=[];for(let u=0;u<e.length;u++)l.push(this.coder);return an(t,l,e)}decode(t){let e=this.length;e===-1&&(e=t.readValue().toNumber(),e*32>t._data.length&&Oe.throwError("insufficient data length",P.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let n=[];for(let l=0;l<e;l++)n.push(new Wn(this.coder));return t.coerce(this.name,un(t,n))}}class Xn extends qt{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class hn extends qt{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=xt(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class Kn extends hn{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,At(super.decode(t)))}}class Qn extends qt{constructor(t,e){let n="bytes"+String(t);super(n,n,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,e){let n=xt(e);return n.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(n)}decode(t){return t.coerce(this.name,At(t.readBytes(this.size)))}}class Yn extends qt{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const ti=j.from(-1),ei=j.from(0),ri=j.from(1),ni=j.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ii extends qt{constructor(t,e,n){const l=(e?"int":"uint")+t*8;super(l,l,n,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let n=j.from(e),l=ni.mask(t.wordSize*8);if(this.signed){let u=l.mask(this.size*8-1);(n.gt(u)||n.lt(u.add(ri).mul(ti)))&&this._throwError("value out-of-bounds",e)}else(n.lt(ei)||n.gt(l.mask(this.size*8)))&&this._throwError("value out-of-bounds",e);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*t.wordSize)),t.writeValue(n)}decode(t){let e=t.readValue().mask(this.size*8);return this.signed&&(e=e.fromTwos(this.size*8)),t.coerce(this.name,e)}}const oi="strings/5.6.0",ln=new P(oi);var tr;(function(o){o.current="",o.NFC="NFC",o.NFD="NFD",o.NFKC="NFKC",o.NFKD="NFKD"})(tr||(tr={}));var It;(function(o){o.UNEXPECTED_CONTINUE="unexpected continuation byte",o.BAD_PREFIX="bad codepoint prefix",o.OVERRUN="string overrun",o.MISSING_CONTINUE="missing continuation byte",o.OUT_OF_RANGE="out of UTF-8 range",o.UTF16_SURROGATE="UTF-16 surrogate",o.OVERLONG="overlong representation"})(It||(It={}));function si(o,t,e,n,l){return ln.throwArgumentError(`invalid codepoint at offset ${t}; ${o}`,"bytes",e)}function cn(o,t,e,n,l){if(o===It.BAD_PREFIX||o===It.UNEXPECTED_CONTINUE){let u=0;for(let f=t+1;f<e.length&&e[f]>>6===2;f++)u++;return u}return o===It.OVERRUN?e.length-t-1:0}function ai(o,t,e,n,l){return o===It.OVERLONG?(n.push(l),0):(n.push(65533),cn(o,t,e))}const ui=Object.freeze({error:si,ignore:cn,replace:ai});function hi(o,t){t==null&&(t=ui.error),o=xt(o);const e=[];let n=0;for(;n<o.length;){const l=o[n++];if(l>>7===0){e.push(l);continue}let u=null,f=null;if((l&224)===192)u=1,f=127;else if((l&240)===224)u=2,f=2047;else if((l&248)===240)u=3,f=65535;else{(l&192)===128?n+=t(It.UNEXPECTED_CONTINUE,n-1,o,e):n+=t(It.BAD_PREFIX,n-1,o,e);continue}if(n-1+u>=o.length){n+=t(It.OVERRUN,n-1,o,e);continue}let v=l&(1<<8-u-1)-1;for(let b=0;b<u;b++){let A=o[n];if((A&192)!=128){n+=t(It.MISSING_CONTINUE,n,o,e),v=null;break}v=v<<6|A&63,n++}if(v!==null){if(v>1114111){n+=t(It.OUT_OF_RANGE,n-1-u,o,e,v);continue}if(v>=55296&&v<=57343){n+=t(It.UTF16_SURROGATE,n-1-u,o,e,v);continue}if(v<=f){n+=t(It.OVERLONG,n-1-u,o,e,v);continue}e.push(v)}}return e}function fn(o,t=tr.current){t!=tr.current&&(ln.checkNormalize(),o=o.normalize(t));let e=[];for(let n=0;n<o.length;n++){const l=o.charCodeAt(n);if(l<128)e.push(l);else if(l<2048)e.push(l>>6|192),e.push(l&63|128);else if((l&64512)==55296){n++;const u=o.charCodeAt(n);if(n>=o.length||(u&64512)!==56320)throw new Error("invalid utf-8 string");const f=65536+((l&1023)<<10)+(u&1023);e.push(f>>18|240),e.push(f>>12&63|128),e.push(f>>6&63|128),e.push(f&63|128)}else e.push(l>>12|224),e.push(l>>6&63|128),e.push(l&63|128)}return xt(e)}function li(o){return o.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function ci(o,t){return li(hi(o,t))}class fi extends hn{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,fn(e))}decode(t){return ci(super.decode(t))}}class We extends qt{constructor(t,e){let n=!1;const l=[];t.forEach(f=>{f.dynamic&&(n=!0),l.push(f.type)});const u="tuple("+l.join(",")+")";super("tuple",u,e,n),this.coders=t}defaultValue(){const t=[];this.coders.forEach(n=>{t.push(n.defaultValue())});const e=this.coders.reduce((n,l)=>{const u=l.localName;return u&&(n[u]||(n[u]=0),n[u]++),n},{});return this.coders.forEach((n,l)=>{let u=n.localName;!u||e[u]!==1||(u==="length"&&(u="_length"),t[u]==null&&(t[u]=t[l]))}),Object.freeze(t)}encode(t,e){return an(t,this.coders,e)}decode(t){return t.coerce(this.name,un(t,this.coders))}}const ke=new P(Ve),di=new RegExp(/^bytes([0-9]*)$/),mi=new RegExp(/^(u?int)([0-9]*)$/);class xr{constructor(t){ke.checkNew(new.target,xr),k(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new Zn(t.name);case"bool":return new Xn(t.name);case"string":return new fi(t.name);case"bytes":return new Kn(t.name);case"array":return new Hn(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new We((t.components||[]).map(n=>this._getCoder(n)),t.name);case"":return new Yn(t.name)}let e=t.type.match(mi);if(e){let n=parseInt(e[2]||"256");return(n===0||n>256||n%8!==0)&&ke.throwArgumentError("invalid "+e[1]+" bit length","param",t),new ii(n/8,e[1]==="int",t.name)}if(e=t.type.match(di),e){let n=parseInt(e[1]);return(n===0||n>32)&&ke.throwArgumentError("invalid bytes length","param",t),new Qn(n,t.name)}return ke.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new Ye(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new Ar(this._getWordSize())}getDefaultValue(t){const e=t.map(n=>this._getCoder(Pt.from(n)));return new We(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&ke.throwError("types/values length mismatch",P.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const n=t.map(f=>this._getCoder(Pt.from(f))),l=new We(n,"_"),u=this._getWriter();return l.encode(u,e),u.data}decode(t,e,n){const l=t.map(u=>this._getCoder(Pt.from(u)));return new We(l,"_").decode(this._getReader(xt(e),n))}}const pi=new xr;function He(o){return De(fn(o))}const Et=new P(Ve);class gi extends or{}class yi extends or{}class vi extends or{}class _r extends or{static isIndexed(t){return!!(t&&t._isIndexed)}}const wi={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Gr(o,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${o}`);return e.error=t,e}class er{constructor(t){Et.checkNew(new.target,er);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,k(this,"fragments",e.map(n=>Gt.from(n)).filter(n=>n!=null)),k(this,"_abiCoder",re(new.target,"getAbiCoder")()),k(this,"functions",{}),k(this,"errors",{}),k(this,"events",{}),k(this,"structs",{}),this.fragments.forEach(n=>{let l=null;switch(n.type){case"constructor":if(this.deploy){Et.warn("duplicate definition - constructor");return}k(this,"deploy",n);return;case"function":l=this.functions;break;case"event":l=this.events;break;case"error":l=this.errors;break;default:return}let u=n.format();if(l[u]){Et.warn("duplicate definition - "+u);return}l[u]=n}),this.deploy||k(this,"deploy",Bt.from({payable:!1,type:"constructor"})),k(this,"_isInterface",!0)}format(t){t||(t=z.full),t===z.sighash&&Et.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map(n=>n.format(t));return t===z.json?JSON.stringify(e.map(n=>JSON.parse(n))):e}static getAbiCoder(){return pi}static getAddress(t){return $t(t)}static getSighash(t){return Xr(He(t.format()),0,4)}static getEventTopic(t){return He(t.format())}getFunction(t){if(St(t)){for(const n in this.functions)if(t===this.getSighash(n))return this.functions[n];Et.throwArgumentError("no matching function","sighash",t)}if(t.indexOf("(")===-1){const n=t.trim(),l=Object.keys(this.functions).filter(u=>u.split("(")[0]===n);return l.length===0?Et.throwArgumentError("no matching function","name",n):l.length>1&&Et.throwArgumentError("multiple matching functions","name",n),this.functions[l[0]]}const e=this.functions[jt.fromString(t).format()];return e||Et.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(St(t)){const n=t.toLowerCase();for(const l in this.events)if(n===this.getEventTopic(l))return this.events[l];Et.throwArgumentError("no matching event","topichash",n)}if(t.indexOf("(")===-1){const n=t.trim(),l=Object.keys(this.events).filter(u=>u.split("(")[0]===n);return l.length===0?Et.throwArgumentError("no matching event","name",n):l.length>1&&Et.throwArgumentError("multiple matching events","name",n),this.events[l[0]]}const e=this.events[zt.fromString(t).format()];return e||Et.throwArgumentError("no matching event","signature",t),e}getError(t){if(St(t)){const n=re(this.constructor,"getSighash");for(const l in this.errors){const u=this.errors[l];if(t===n(u))return this.errors[l]}Et.throwArgumentError("no matching error","sighash",t)}if(t.indexOf("(")===-1){const n=t.trim(),l=Object.keys(this.errors).filter(u=>u.split("(")[0]===n);return l.length===0?Et.throwArgumentError("no matching error","name",n):l.length>1&&Et.throwArgumentError("multiple matching errors","name",n),this.errors[l[0]]}const e=this.errors[jt.fromString(t).format()];return e||Et.throwArgumentError("no matching error","signature",t),e}getSighash(t){if(typeof t=="string")try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch{throw e}}return re(this.constructor,"getSighash")(t)}getEventTopic(t){return typeof t=="string"&&(t=this.getEvent(t)),re(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){typeof t=="string"&&(t=this.getError(t));const n=xt(e);return At(n.slice(0,4))!==this.getSighash(t)&&Et.throwArgumentError(`data signature does not match error ${t.name}.`,"data",At(n)),this._decodeParams(t.inputs,n.slice(4))}encodeErrorResult(t,e){return typeof t=="string"&&(t=this.getError(t)),At(Ee([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){typeof t=="string"&&(t=this.getFunction(t));const n=xt(e);return At(n.slice(0,4))!==this.getSighash(t)&&Et.throwArgumentError(`data signature does not match function ${t.name}.`,"data",At(n)),this._decodeParams(t.inputs,n.slice(4))}encodeFunctionData(t,e){return typeof t=="string"&&(t=this.getFunction(t)),At(Ee([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){typeof t=="string"&&(t=this.getFunction(t));let n=xt(e),l=null,u="",f=null,v=null,b=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,n)}catch{}break;case 4:{const A=At(n.slice(0,4)),R=wi[A];if(R)f=this._abiCoder.decode(R.inputs,n.slice(4)),v=R.name,b=R.signature,R.reason&&(l=f[0]),v==="Error"?u=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(f[0])}`:v==="Panic"&&(u=`; VM Exception while processing transaction: reverted with panic code ${f[0]}`);else try{const L=this.getError(A);f=this._abiCoder.decode(L.inputs,n.slice(4)),v=L.name,b=L.format()}catch{}break}}return Et.throwError("call revert exception"+u,P.errors.CALL_EXCEPTION,{method:t.format(),data:At(e),errorArgs:f,errorName:v,errorSignature:b,reason:l})}encodeFunctionResult(t,e){return typeof t=="string"&&(t=this.getFunction(t)),At(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){typeof t=="string"&&(t=this.getEvent(t)),e.length>t.inputs.length&&Et.throwError("too many arguments for "+t.format(),P.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let n=[];t.anonymous||n.push(this.getEventTopic(t));const l=(u,f)=>u.type==="string"?He(f):u.type==="bytes"?De(At(f)):(u.type==="address"&&this._abiCoder.encode(["address"],[f]),Kr(At(f),32));for(e.forEach((u,f)=>{let v=t.inputs[f];if(!v.indexed){u!=null&&Et.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+v.name,u);return}u==null?n.push(null):v.baseType==="array"||v.baseType==="tuple"?Et.throwArgumentError("filtering with tuples or arrays not supported","contract."+v.name,u):Array.isArray(u)?n.push(u.map(b=>l(v,b))):n.push(l(v,u))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,e){typeof t=="string"&&(t=this.getEvent(t));const n=[],l=[],u=[];return t.anonymous||n.push(this.getEventTopic(t)),e.length!==t.inputs.length&&Et.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach((f,v)=>{const b=e[v];if(f.indexed)if(f.type==="string")n.push(He(b));else if(f.type==="bytes")n.push(De(b));else{if(f.baseType==="tuple"||f.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([f.type],[b]))}else l.push(f),u.push(b)}),{data:this._abiCoder.encode(l,u),topics:n}}decodeEventLog(t,e,n){if(typeof t=="string"&&(t=this.getEvent(t)),n!=null&&!t.anonymous){let G=this.getEventTopic(t);(!St(n[0],32)||n[0].toLowerCase()!==G)&&Et.throwError("fragment/topic mismatch",P.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:G,value:n[0]}),n=n.slice(1)}let l=[],u=[],f=[];t.inputs.forEach((G,Nt)=>{G.indexed?G.type==="string"||G.type==="bytes"||G.baseType==="tuple"||G.baseType==="array"?(l.push(Pt.fromObject({type:"bytes32",name:G.name})),f.push(!0)):(l.push(G),f.push(!1)):(u.push(G),f.push(!1))});let v=n!=null?this._abiCoder.decode(l,Ee(n)):null,b=this._abiCoder.decode(u,e,!0),A=[],R=0,L=0;t.inputs.forEach((G,Nt)=>{if(G.indexed)if(v==null)A[Nt]=new _r({_isIndexed:!0,hash:null});else if(f[Nt])A[Nt]=new _r({_isIndexed:!0,hash:v[L++]});else try{A[Nt]=v[L++]}catch(_t){A[Nt]=_t}else try{A[Nt]=b[R++]}catch(_t){A[Nt]=_t}if(G.name&&A[G.name]==null){const _t=A[Nt];_t instanceof Error?Object.defineProperty(A,G.name,{enumerable:!0,get:()=>{throw Gr(`property ${JSON.stringify(G.name)}`,_t)}}):A[G.name]=_t}});for(let G=0;G<A.length;G++){const Nt=A[G];Nt instanceof Error&&Object.defineProperty(A,G,{enumerable:!0,get:()=>{throw Gr(`index ${G}`,Nt)}})}return Object.freeze(A)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new yi({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:j.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new gi({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=At(t);let n=this.getError(e.substring(0,10).toLowerCase());return n?new vi({args:this._abiCoder.decode(n.inputs,"0x"+e.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(t){return!!(t&&t._isInterface)}}const bi="abstract-provider/5.6.0";var Ei=globalThis&&globalThis.__awaiter||function(o,t,e,n){function l(u){return u instanceof e?u:new e(function(f){f(u)})}return new(e||(e=Promise))(function(u,f){function v(R){try{A(n.next(R))}catch(L){f(L)}}function b(R){try{A(n.throw(R))}catch(L){f(L)}}function A(R){R.done?u(R.value):l(R.value).then(v,b)}A((n=n.apply(o,t||[])).next())})};const Mi=new P(bi);class Or{constructor(){Mi.checkAbstract(new.target,Or),k(this,"_isProvider",!0)}getFeeData(){return Ei(this,void 0,void 0,function*(){const{block:t,gasPrice:e}=yield ne({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(u=>null)});let n=null,l=null;return t&&t.baseFeePerGas&&(l=j.from("1500000000"),n=t.baseFeePerGas.mul(2).add(l)),{maxFeePerGas:n,maxPriorityFeePerGas:l,gasPrice:e}})}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!!(t&&t._isProvider)}}const Ai="abstract-signer/5.6.0";var Ft=globalThis&&globalThis.__awaiter||function(o,t,e,n){function l(u){return u instanceof e?u:new e(function(f){f(u)})}return new(e||(e=Promise))(function(u,f){function v(R){try{A(n.next(R))}catch(L){f(L)}}function b(R){try{A(n.throw(R))}catch(L){f(L)}}function A(R){R.done?u(R.value):l(R.value).then(v,b)}A((n=n.apply(o,t||[])).next())})};const kt=new P(Ai),_i=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Ni=[P.errors.INSUFFICIENT_FUNDS,P.errors.NONCE_EXPIRED,P.errors.REPLACEMENT_UNDERPRICED];class $e{constructor(){kt.checkAbstract(new.target,$e),k(this,"_isSigner",!0)}getBalance(t){return Ft(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return Ft(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return Ft(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const e=yield ne(this.checkTransaction(t));return yield this.provider.estimateGas(e)})}call(t,e){return Ft(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield ne(this.checkTransaction(t));return yield this.provider.call(n,e)})}sendTransaction(t){return Ft(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),n=yield this.signTransaction(e);return yield this.provider.sendTransaction(n)})}getChainId(){return Ft(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ft(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ft(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return Ft(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(const n in t)_i.indexOf(n)===-1&&kt.throwArgumentError("invalid transaction key: "+n,"transaction",t);const e=Me(t);return e.from==null?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&kt.throwArgumentError("from address mismatch","transaction",t),n[0])),e}populateTransaction(t){return Ft(this,void 0,void 0,function*(){const e=yield ne(this.checkTransaction(t));e.to!=null&&(e.to=Promise.resolve(e.to).then(l=>Ft(this,void 0,void 0,function*(){if(l==null)return null;const u=yield this.resolveName(l);return u==null&&kt.throwArgumentError("provided ENS name resolves to null","tx.to",l),u})),e.to.catch(l=>{}));const n=e.maxFeePerGas!=null||e.maxPriorityFeePerGas!=null;if(e.gasPrice!=null&&(e.type===2||n)?kt.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(e.type===0||e.type===1)&&n&&kt.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(e.type===2||e.type==null)&&e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null)e.type=2;else if(e.type===0||e.type===1)e.gasPrice==null&&(e.gasPrice=this.getGasPrice());else{const l=yield this.getFeeData();if(e.type==null)if(l.maxFeePerGas!=null&&l.maxPriorityFeePerGas!=null)if(e.type=2,e.gasPrice!=null){const u=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=u,e.maxPriorityFeePerGas=u}else e.maxFeePerGas==null&&(e.maxFeePerGas=l.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=l.maxPriorityFeePerGas);else l.gasPrice!=null?(n&&kt.throwError("network does not support EIP-1559",P.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),e.gasPrice==null&&(e.gasPrice=l.gasPrice),e.type=0):kt.throwError("failed to get consistent fee data",P.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else e.type===2&&(e.maxFeePerGas==null&&(e.maxFeePerGas=l.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=l.maxPriorityFeePerGas))}return e.nonce==null&&(e.nonce=this.getTransactionCount("pending")),e.gasLimit==null&&(e.gasLimit=this.estimateGas(e).catch(l=>{if(Ni.indexOf(l.code)>=0)throw l;return kt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",P.errors.UNPREDICTABLE_GAS_LIMIT,{error:l,tx:e})})),e.chainId==null?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then(l=>(l[1]!==0&&l[0]!==l[1]&&kt.throwArgumentError("chainId address mismatch","transaction",t),l[0])),yield ne(e)})}_checkProvider(t){this.provider||kt.throwError("missing provider",P.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}}class rr extends $e{constructor(t,e){kt.checkNew(new.target,rr),super(),k(this,"address",t),k(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then(()=>{kt.throwError(t,P.errors.UNSUPPORTED_OPERATION,{operation:e})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new rr(this.address,t)}}const Pi="transactions/5.6.0",dn=new P(Pi);var Vr;(function(o){o[o.legacy=0]="legacy",o[o.eip2930=1]="eip2930",o[o.eip1559=2]="eip1559"})(Vr||(Vr={}));function Er(o,t){return{address:$t(o),storageKeys:(t||[]).map((e,n)=>(Nn(e)!==32&&dn.throwArgumentError("invalid access list storageKey",`accessList[${o}:${n}]`,e),e.toLowerCase()))}}function xi(o){if(Array.isArray(o))return o.map((e,n)=>Array.isArray(e)?(e.length>2&&dn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,e),Er(e[0],e[1])):Er(e.address,e.storageKeys));const t=Object.keys(o).map(e=>{const n=o[e].reduce((l,u)=>(l[u]=!0,l),{});return Er(e,Object.keys(n).sort())});return t.sort((e,n)=>e.address.localeCompare(n.address)),t}const Oi="contracts/5.6.0";var ie=globalThis&&globalThis.__awaiter||function(o,t,e,n){function l(u){return u instanceof e?u:new e(function(f){f(u)})}return new(e||(e=Promise))(function(u,f){function v(R){try{A(n.next(R))}catch(L){f(L)}}function b(R){try{A(n.throw(R))}catch(L){f(L)}}function A(R){R.done?u(R.value):l(R.value).then(v,b)}A((n=n.apply(o,t||[])).next())})};const V=new P(Oi),Si={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function nr(o,t){return ie(this,void 0,void 0,function*(){const e=yield t;typeof e!="string"&&V.throwArgumentError("invalid address or ENS name","name",e);try{return $t(e)}catch{}o||V.throwError("a provider or signer is needed to resolve ENS names",P.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield o.resolveName(e);return n==null&&V.throwArgumentError("resolver or addr is not configured for ENS name","name",e),n})}function Ce(o,t,e){return ie(this,void 0,void 0,function*(){return Array.isArray(e)?yield Promise.all(e.map((n,l)=>Ce(o,Array.isArray(t)?t[l]:t[n.name],n))):e.type==="address"?yield nr(o,t):e.type==="tuple"?yield Ce(o,t,e.components):e.baseType==="array"?Array.isArray(t)?yield Promise.all(t.map(n=>Ce(o,n,e.arrayChildren))):Promise.reject(V.makeError("invalid value for array",P.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function sr(o,t,e){return ie(this,void 0,void 0,function*(){let n={};e.length===t.inputs.length+1&&typeof e[e.length-1]=="object"&&(n=Me(e.pop())),V.checkArgumentCount(e.length,t.inputs.length,"passed to contract"),o.signer?n.from?n.from=ne({override:nr(o.signer,n.from),signer:o.signer.getAddress()}).then(A=>ie(this,void 0,void 0,function*(){return $t(A.signer)!==A.override&&V.throwError("Contract with a Signer cannot override from",P.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),A.override})):n.from=o.signer.getAddress():n.from&&(n.from=nr(o.provider,n.from));const l=yield ne({args:Ce(o.signer||o.provider,e,t.inputs),address:o.resolvedAddress,overrides:ne(n)||{}}),u=o.interface.encodeFunctionData(t,l.args),f={data:u,to:l.address},v=l.overrides;if(v.nonce!=null&&(f.nonce=j.from(v.nonce).toNumber()),v.gasLimit!=null&&(f.gasLimit=j.from(v.gasLimit)),v.gasPrice!=null&&(f.gasPrice=j.from(v.gasPrice)),v.maxFeePerGas!=null&&(f.maxFeePerGas=j.from(v.maxFeePerGas)),v.maxPriorityFeePerGas!=null&&(f.maxPriorityFeePerGas=j.from(v.maxPriorityFeePerGas)),v.from!=null&&(f.from=v.from),v.type!=null&&(f.type=v.type),v.accessList!=null&&(f.accessList=xi(v.accessList)),f.gasLimit==null&&t.gas!=null){let A=21e3;const R=xt(u);for(let L=0;L<R.length;L++)A+=4,R[L]&&(A+=64);f.gasLimit=j.from(t.gas).add(A)}if(v.value){const A=j.from(v.value);!A.isZero()&&!t.payable&&V.throwError("non-payable method cannot override value",P.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),f.value=A}v.customData&&(f.customData=Me(v.customData)),v.ccipReadEnabled&&(f.ccipReadEnabled=!!v.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const b=Object.keys(n).filter(A=>n[A]!=null);return b.length&&V.throwError(`cannot override ${b.map(A=>JSON.stringify(A)).join(",")}`,P.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:b}),f})}function Ri(o,t){return function(...e){return sr(o,t,e)}}function Ti(o,t){const e=o.signer||o.provider;return function(...n){return ie(this,void 0,void 0,function*(){e||V.throwError("estimate require a provider or signer",P.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const l=yield sr(o,t,n);return yield e.estimateGas(l)})}}function mn(o,t){const e=t.wait.bind(t);t.wait=n=>e(n).then(l=>(l.events=l.logs.map(u=>{let f=Ue(u),v=null;try{v=o.interface.parseLog(u)}catch{}return v&&(f.args=v.args,f.decode=(b,A)=>o.interface.decodeEventLog(v.eventFragment,b,A),f.event=v.name,f.eventSignature=v.signature),f.removeListener=()=>o.provider,f.getBlock=()=>o.provider.getBlock(l.blockHash),f.getTransaction=()=>o.provider.getTransaction(l.transactionHash),f.getTransactionReceipt=()=>Promise.resolve(l),f}),l))}function pn(o,t,e){const n=o.signer||o.provider;return function(...l){return ie(this,void 0,void 0,function*(){let u;if(l.length===t.inputs.length+1&&typeof l[l.length-1]=="object"){const b=Me(l.pop());b.blockTag!=null&&(u=yield b.blockTag),delete b.blockTag,l.push(b)}o.deployTransaction!=null&&(yield o._deployed(u));const f=yield sr(o,t,l),v=yield n.call(f,u);try{let b=o.interface.decodeFunctionResult(t,v);return e&&t.outputs.length===1&&(b=b[0]),b}catch(b){throw b.code===P.errors.CALL_EXCEPTION&&(b.address=o.address,b.args=l,b.transaction=f),b}})}}function ki(o,t){return function(...e){return ie(this,void 0,void 0,function*(){o.signer||V.throwError("sending a transaction requires a signer",P.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),o.deployTransaction!=null&&(yield o._deployed());const n=yield sr(o,t,e),l=yield o.signer.sendTransaction(n);return mn(o,l),l})}}function $r(o,t,e){return t.constant?pn(o,t,e):ki(o,t)}function gn(o){return o.address&&(o.topics==null||o.topics.length===0)?"*":(o.address||"*")+"@"+(o.topics?o.topics.map(t=>Array.isArray(t)?t.join("|"):t).join(":"):"")}class ze{constructor(t,e){k(this,"tag",t),k(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter(n=>e||n.listener!==t?!0:(e=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(t=>t.listener)}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const l=t.slice();return setTimeout(()=>{n.listener.apply(this,l)},0),!n.once}),e}prepareEvent(t){}getEmit(t){return[t]}}class Ii extends ze{constructor(){super("error",null)}}class qr extends ze{constructor(t,e,n,l){const u={address:t};let f=e.getEventTopic(n);l?(f!==l[0]&&V.throwArgumentError("topic mismatch","topics",l),u.topics=l.slice()):u.topics=[f],super(gn(u),u),k(this,"address",t),k(this,"interface",e),k(this,"fragment",n)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(e,n)=>this.interface.decodeEventLog(this.fragment,e,n);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=Bn(t.args);if(e.length)throw e[0].error;const n=(t.args||[]).slice();return n.push(t),n}}class Jr extends ze{constructor(t,e){super("*",{address:t}),k(this,"address",t),k(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(n,l)=>this.interface.decodeEventLog(e.eventFragment,n,l),t.args=e.args}catch{}}}class yn{constructor(t,e,n){V.checkNew(new.target,ir),k(this,"interface",re(new.target,"getInterface")(e)),n==null?(k(this,"provider",null),k(this,"signer",null)):$e.isSigner(n)?(k(this,"provider",n.provider||null),k(this,"signer",n)):Or.isProvider(n)?(k(this,"provider",n),k(this,"signer",null)):V.throwArgumentError("invalid signer or provider","signerOrProvider",n),k(this,"callStatic",{}),k(this,"estimateGas",{}),k(this,"functions",{}),k(this,"populateTransaction",{}),k(this,"filters",{});{const f={};Object.keys(this.interface.events).forEach(v=>{const b=this.interface.events[v];k(this.filters,v,(...A)=>({address:this.address,topics:this.interface.encodeFilterTopics(b,A)})),f[b.name]||(f[b.name]=[]),f[b.name].push(v)}),Object.keys(f).forEach(v=>{const b=f[v];b.length===1?k(this.filters,v,this.filters[b[0]]):V.warn(`Duplicate definition of ${v} (${b.join(", ")})`)})}if(k(this,"_runningEvents",{}),k(this,"_wrappedEmits",{}),t==null&&V.throwArgumentError("invalid contract address or ENS name","addressOrName",t),k(this,"address",t),this.provider)k(this,"resolvedAddress",nr(this.provider,t));else try{k(this,"resolvedAddress",Promise.resolve($t(t)))}catch{V.throwError("provider is required to use ENS name as contract address",P.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(f=>{});const l={},u={};Object.keys(this.interface.functions).forEach(f=>{const v=this.interface.functions[f];if(u[f]){V.warn(`Duplicate ABI entry for ${JSON.stringify(f)}`);return}u[f]=!0;{const b=v.name;l[`%${b}`]||(l[`%${b}`]=[]),l[`%${b}`].push(f)}this[f]==null&&k(this,f,$r(this,v,!0)),this.functions[f]==null&&k(this.functions,f,$r(this,v,!1)),this.callStatic[f]==null&&k(this.callStatic,f,pn(this,v,!0)),this.populateTransaction[f]==null&&k(this.populateTransaction,f,Ri(this,v)),this.estimateGas[f]==null&&k(this.estimateGas,f,Ti(this,v))}),Object.keys(l).forEach(f=>{const v=l[f];if(v.length>1)return;f=f.substring(1);const b=v[0];try{this[f]==null&&k(this,f,this[b])}catch{}this.functions[f]==null&&k(this.functions,f,this.functions[b]),this.callStatic[f]==null&&k(this.callStatic,f,this.callStatic[b]),this.populateTransaction[f]==null&&k(this.populateTransaction,f,this.populateTransaction[b]),this.estimateGas[f]==null&&k(this.estimateGas,f,this.estimateGas[b])})}static getContractAddress(t){return sn(t)}static getInterface(t){return er.isInterface(t)?t:new er(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,t).then(e=>(e==="0x"&&V.throwError("contract not deployed",P.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(t){this.signer||V.throwError("sending a transactions require a signer",P.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=Me(t||{});return["from","to"].forEach(function(n){e[n]!=null&&V.throwError("cannot override "+n,P.errors.UNSUPPORTED_OPERATION,{operation:n})}),e.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(e))}connect(t){typeof t=="string"&&(t=new rr(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&k(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return _r.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if(typeof t=="string"){if(t==="error")return this._normalizeRunningEvent(new Ii);if(t==="event")return this._normalizeRunningEvent(new ze("event",null));if(t==="*")return this._normalizeRunningEvent(new Jr(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new qr(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const n=t.topics[0];if(typeof n!="string")throw new Error("invalid topic");const l=this.interface.getEvent(n);return this._normalizeRunningEvent(new qr(this.address,this.interface,l,t.topics))}catch{}const e={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new ze(gn(e),e))}return this._normalizeRunningEvent(new Jr(this.address,this.interface))}_checkRunningEvents(t){if(t.listenerCount()===0){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,n){const l=Ue(e);return l.removeListener=()=>{!n||(t.removeListener(n),this._checkRunningEvents(t))},l.getBlock=()=>this.provider.getBlock(e.blockHash),l.getTransaction=()=>this.provider.getTransaction(e.transactionHash),l.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(l),l}_addEventListener(t,e,n){if(this.provider||V.throwError("events require a provider or a signer with a provider",P.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,n),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const l=u=>{let f=this._wrapEvent(t,u,e);if(f.decodeError==null)try{const v=t.getEmit(f);this.emit(t.filter,...v)}catch(v){f.decodeError=v.error}t.filter!=null&&this.emit("event",f),f.decodeError!=null&&this.emit("error",f.decodeError,f)};this._wrappedEmits[t.tag]=l,t.filter!=null&&this.provider.on(t.filter,l)}}queryFilter(t,e,n){const l=this._getRunningEvent(t),u=Me(l.filter);return typeof e=="string"&&St(e,32)?(n!=null&&V.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),u.blockHash=e):(u.fromBlock=e??0,u.toBlock=n??"latest"),this.provider.getLogs(u).then(f=>f.map(v=>this._wrapEvent(l,v,null)))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t,...e){if(!this.provider)return!1;const n=this._getRunningEvent(t),l=n.run(e)>0;return this._checkRunningEvents(n),l}listenerCount(t){return this.provider?t==null?Object.keys(this._runningEvents).reduce((e,n)=>e+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(t==null){const e=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(l=>{e.push(l)});return e}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(t==null){for(const n in this._runningEvents){const l=this._runningEvents[n];l.removeAllListeners(),this._checkRunningEvents(l)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const n=this._getRunningEvent(t);return n.removeListener(e),this._checkRunningEvents(n),this}removeListener(t,e){return this.off(t,e)}}class ir extends yn{}class Ci{constructor(t,e,n){let l=null;typeof e=="string"?l=e:Ge(e)?l=At(e):e&&typeof e.object=="string"?l=e.object:l="!",l.substring(0,2)!=="0x"&&(l="0x"+l),(!St(l)||l.length%2)&&V.throwArgumentError("invalid bytecode","bytecode",e),n&&!$e.isSigner(n)&&V.throwArgumentError("invalid signer","signer",n),k(this,"bytecode",l),k(this,"interface",re(new.target,"getInterface")(t)),k(this,"signer",n||null)}getDeployTransaction(...t){let e={};if(t.length===this.interface.deploy.inputs.length+1&&typeof t[t.length-1]=="object"){e=Me(t.pop());for(const n in e)if(!Si[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{e[n]!=null&&V.throwError("cannot override "+n,P.errors.UNSUPPORTED_OPERATION,{operation:n})}),e.value&&!j.from(e.value).isZero()&&!this.interface.deploy.payable&&V.throwError("non-payable constructor cannot override value",P.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:e.value}),V.checkArgumentCount(t.length,this.interface.deploy.inputs.length," in Contract constructor"),e.data=At(Ee([this.bytecode,this.interface.encodeDeploy(t)])),e}deploy(...t){return ie(this,void 0,void 0,function*(){let e={};t.length===this.interface.deploy.inputs.length+1&&(e=t.pop()),V.checkArgumentCount(t.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield Ce(this.signer,t,this.interface.deploy.inputs);n.push(e);const l=this.getDeployTransaction(...n),u=yield this.signer.sendTransaction(l),f=re(this.constructor,"getContractAddress")(u),v=re(this.constructor,"getContract")(f,this.interface,this.signer);return mn(v,u),k(v,"deployTransaction",u),v})}attach(t){return this.constructor.getContract(t,this.interface,this.signer)}connect(t){return new this.constructor(this.interface,this.bytecode,t)}static fromSolidity(t,e){t==null&&V.throwError("missing compiler output",P.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof t=="string"&&(t=JSON.parse(t));const n=t.abi;let l=null;return t.bytecode?l=t.bytecode:t.evm&&t.evm.bytecode&&(l=t.evm.bytecode),new this(n,l,e)}static getInterface(t){return ir.getInterface(t)}static getContractAddress(t){return sn(t)}static getContract(t,e,n){return new ir(t,e,n)}}qe.BaseContract=yn;qe.Contract=ir;qe.ContractFactory=Ci});export default Fi();

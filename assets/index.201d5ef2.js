var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jr={exports:{}};(function(s){(function(t,e){function i(m,r){if(!m)throw new Error(r||"Assertion failed")}function l(m,r){m.super_=r;var o=function(){};o.prototype=r.prototype,m.prototype=new o,m.prototype.constructor=m}function h(m,r,o){if(h.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((r==="le"||r==="be")&&(o=r,r=10),this._init(m||0,r||10,o||"be"))}typeof t=="object"?t.exports=h:e.BN=h,h.BN=h,h.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=require("buffer").Buffer}catch{}h.isBN=function(r){return r instanceof h?!0:r!==null&&typeof r=="object"&&r.constructor.wordSize===h.wordSize&&Array.isArray(r.words)},h.max=function(r,o){return r.cmp(o)>0?r:o},h.min=function(r,o){return r.cmp(o)<0?r:o},h.prototype._init=function(r,o,u){if(typeof r=="number")return this._initNumber(r,o,u);if(typeof r=="object")return this._initArray(r,o,u);o==="hex"&&(o=16),i(o===(o|0)&&o>=2&&o<=36),r=r.toString().replace(/\s+/g,"");var f=0;r[0]==="-"&&(f++,this.negative=1),f<r.length&&(o===16?this._parseHex(r,f,u):(this._parseBase(r,o,f),u==="le"&&this._initArray(this.toArray(),o,u)))},h.prototype._initNumber=function(r,o,u){r<0&&(this.negative=1,r=-r),r<67108864?(this.words=[r&67108863],this.length=1):r<4503599627370496?(this.words=[r&67108863,r/67108864&67108863],this.length=2):(i(r<9007199254740992),this.words=[r&67108863,r/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),o,u)},h.prototype._initArray=function(r,o,u){if(i(typeof r.length=="number"),r.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(r.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var g,y,v=0;if(u==="be")for(f=r.length-1,g=0;f>=0;f-=3)y=r[f]|r[f-1]<<8|r[f-2]<<16,this.words[g]|=y<<v&67108863,this.words[g+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,g++);else if(u==="le")for(f=0,g=0;f<r.length;f+=3)y=r[f]|r[f+1]<<8|r[f+2]<<16,this.words[g]|=y<<v&67108863,this.words[g+1]=y>>>26-v&67108863,v+=24,v>=26&&(v-=26,g++);return this.strip()};function w(m,r){var o=m.charCodeAt(r);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function E(m,r,o){var u=w(m,o);return o-1>=r&&(u|=w(m,o-1)<<4),u}h.prototype._parseHex=function(r,o,u){this.length=Math.ceil((r.length-o)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var g=0,y=0,v;if(u==="be")for(f=r.length-1;f>=o;f-=2)v=E(r,o,f)<<g,this.words[y]|=v&67108863,g>=18?(g-=18,y+=1,this.words[y]|=v>>>26):g+=8;else{var d=r.length-o;for(f=d%2===0?o+1:o;f<r.length;f+=2)v=E(r,o,f)<<g,this.words[y]|=v&67108863,g>=18?(g-=18,y+=1,this.words[y]|=v>>>26):g+=8}this.strip()};function _(m,r,o,u){for(var f=0,g=Math.min(m.length,o),y=r;y<g;y++){var v=m.charCodeAt(y)-48;f*=u,v>=49?f+=v-49+10:v>=17?f+=v-17+10:f+=v}return f}h.prototype._parseBase=function(r,o,u){this.words=[0],this.length=1;for(var f=0,g=1;g<=67108863;g*=o)f++;f--,g=g/o|0;for(var y=r.length-u,v=y%f,d=Math.min(y,y-v)+u,n=0,p=u;p<d;p+=f)n=_(r,p,p+f,o),this.imuln(g),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(v!==0){var R=1;for(n=_(r,p,r.length,o),p=0;p<v;p++)R*=o;this.imuln(R),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this.strip()},h.prototype.copy=function(r){r.words=new Array(this.length);for(var o=0;o<this.length;o++)r.words[o]=this.words[o];r.length=this.length,r.negative=this.negative,r.red=this.red},h.prototype.clone=function(){var r=new h(null);return this.copy(r),r},h.prototype._expand=function(r){for(;this.length<r;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var P=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],L=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(r,o){r=r||10,o=o|0||1;var u;if(r===16||r==="hex"){u="";for(var f=0,g=0,y=0;y<this.length;y++){var v=this.words[y],d=((v<<f|g)&16777215).toString(16);g=v>>>24-f&16777215,g!==0||y!==this.length-1?u=P[6-d.length]+d+u:u=d+u,f+=2,f>=26&&(f-=26,y--)}for(g!==0&&(u=g.toString(16)+u);u.length%o!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(r===(r|0)&&r>=2&&r<=36){var n=L[r],p=V[r];u="";var R=this.clone();for(R.negative=0;!R.isZero();){var k=R.modn(p).toString(r);R=R.idivn(p),R.isZero()?u=k+u:u=P[n-k.length]+k+u}for(this.isZero()&&(u="0"+u);u.length%o!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}i(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var r=this.words[0];return this.length===2?r+=this.words[1]*67108864:this.length===3&&this.words[2]===1?r+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-r:r},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(r,o){return i(typeof c<"u"),this.toArrayLike(c,r,o)},h.prototype.toArray=function(r,o){return this.toArrayLike(Array,r,o)},h.prototype.toArrayLike=function(r,o,u){var f=this.byteLength(),g=u||Math.max(1,f);i(f<=g,"byte array longer than desired length"),i(g>0,"Requested array length <= 0"),this.strip();var y=o==="le",v=new r(g),d,n,p=this.clone();if(y){for(n=0;!p.isZero();n++)d=p.andln(255),p.iushrn(8),v[n]=d;for(;n<g;n++)v[n]=0}else{for(n=0;n<g-f;n++)v[n]=0;for(n=0;!p.isZero();n++)d=p.andln(255),p.iushrn(8),v[g-n-1]=d}return v},Math.clz32?h.prototype._countBits=function(r){return 32-Math.clz32(r)}:h.prototype._countBits=function(r){var o=r,u=0;return o>=4096&&(u+=13,o>>>=13),o>=64&&(u+=7,o>>>=7),o>=8&&(u+=4,o>>>=4),o>=2&&(u+=2,o>>>=2),u+o},h.prototype._zeroBits=function(r){if(r===0)return 26;var o=r,u=0;return(o&8191)===0&&(u+=13,o>>>=13),(o&127)===0&&(u+=7,o>>>=7),(o&15)===0&&(u+=4,o>>>=4),(o&3)===0&&(u+=2,o>>>=2),(o&1)===0&&u++,u},h.prototype.bitLength=function(){var r=this.words[this.length-1],o=this._countBits(r);return(this.length-1)*26+o};function Rt(m){for(var r=new Array(m.bitLength()),o=0;o<r.length;o++){var u=o/26|0,f=o%26;r[o]=(m.words[u]&1<<f)>>>f}return r}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,o=0;o<this.length;o++){var u=this._zeroBits(this.words[o]);if(r+=u,u!==26)break}return r},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(r){return this.negative!==0?this.abs().inotn(r).iaddn(1):this.clone()},h.prototype.fromTwos=function(r){return this.testn(r-1)?this.notn(r).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(r){for(;this.length<r.length;)this.words[this.length++]=0;for(var o=0;o<r.length;o++)this.words[o]=this.words[o]|r.words[o];return this.strip()},h.prototype.ior=function(r){return i((this.negative|r.negative)===0),this.iuor(r)},h.prototype.or=function(r){return this.length>r.length?this.clone().ior(r):r.clone().ior(this)},h.prototype.uor=function(r){return this.length>r.length?this.clone().iuor(r):r.clone().iuor(this)},h.prototype.iuand=function(r){var o;this.length>r.length?o=r:o=this;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]&r.words[u];return this.length=o.length,this.strip()},h.prototype.iand=function(r){return i((this.negative|r.negative)===0),this.iuand(r)},h.prototype.and=function(r){return this.length>r.length?this.clone().iand(r):r.clone().iand(this)},h.prototype.uand=function(r){return this.length>r.length?this.clone().iuand(r):r.clone().iuand(this)},h.prototype.iuxor=function(r){var o,u;this.length>r.length?(o=this,u=r):(o=r,u=this);for(var f=0;f<u.length;f++)this.words[f]=o.words[f]^u.words[f];if(this!==o)for(;f<o.length;f++)this.words[f]=o.words[f];return this.length=o.length,this.strip()},h.prototype.ixor=function(r){return i((this.negative|r.negative)===0),this.iuxor(r)},h.prototype.xor=function(r){return this.length>r.length?this.clone().ixor(r):r.clone().ixor(this)},h.prototype.uxor=function(r){return this.length>r.length?this.clone().iuxor(r):r.clone().iuxor(this)},h.prototype.inotn=function(r){i(typeof r=="number"&&r>=0);var o=Math.ceil(r/26)|0,u=r%26;this._expand(o),u>0&&o--;for(var f=0;f<o;f++)this.words[f]=~this.words[f]&67108863;return u>0&&(this.words[f]=~this.words[f]&67108863>>26-u),this.strip()},h.prototype.notn=function(r){return this.clone().inotn(r)},h.prototype.setn=function(r,o){i(typeof r=="number"&&r>=0);var u=r/26|0,f=r%26;return this._expand(u+1),o?this.words[u]=this.words[u]|1<<f:this.words[u]=this.words[u]&~(1<<f),this.strip()},h.prototype.iadd=function(r){var o;if(this.negative!==0&&r.negative===0)return this.negative=0,o=this.isub(r),this.negative^=1,this._normSign();if(this.negative===0&&r.negative!==0)return r.negative=0,o=this.isub(r),r.negative=1,o._normSign();var u,f;this.length>r.length?(u=this,f=r):(u=r,f=this);for(var g=0,y=0;y<f.length;y++)o=(u.words[y]|0)+(f.words[y]|0)+g,this.words[y]=o&67108863,g=o>>>26;for(;g!==0&&y<u.length;y++)o=(u.words[y]|0)+g,this.words[y]=o&67108863,g=o>>>26;if(this.length=u.length,g!==0)this.words[this.length]=g,this.length++;else if(u!==this)for(;y<u.length;y++)this.words[y]=u.words[y];return this},h.prototype.add=function(r){var o;return r.negative!==0&&this.negative===0?(r.negative=0,o=this.sub(r),r.negative^=1,o):r.negative===0&&this.negative!==0?(this.negative=0,o=r.sub(this),this.negative=1,o):this.length>r.length?this.clone().iadd(r):r.clone().iadd(this)},h.prototype.isub=function(r){if(r.negative!==0){r.negative=0;var o=this.iadd(r);return r.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(r),this.negative=1,this._normSign();var u=this.cmp(r);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,g;u>0?(f=this,g=r):(f=r,g=this);for(var y=0,v=0;v<g.length;v++)o=(f.words[v]|0)-(g.words[v]|0)+y,y=o>>26,this.words[v]=o&67108863;for(;y!==0&&v<f.length;v++)o=(f.words[v]|0)+y,y=o>>26,this.words[v]=o&67108863;if(y===0&&v<f.length&&f!==this)for(;v<f.length;v++)this.words[v]=f.words[v];return this.length=Math.max(this.length,v),f!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(r){return this.clone().isub(r)};function Nt(m,r,o){o.negative=r.negative^m.negative;var u=m.length+r.length|0;o.length=u,u=u-1|0;var f=m.words[0]|0,g=r.words[0]|0,y=f*g,v=y&67108863,d=y/67108864|0;o.words[0]=v;for(var n=1;n<u;n++){for(var p=d>>>26,R=d&67108863,k=Math.min(n,r.length-1),I=Math.max(0,n-m.length+1);I<=k;I++){var a=n-I|0;f=m.words[a]|0,g=r.words[I]|0,y=f*g+R,p+=y/67108864|0,R=y&67108863}o.words[n]=R|0,d=p|0}return d!==0?o.words[n]=d|0:o.length--,o.strip()}var Te=function(r,o,u){var f=r.words,g=o.words,y=u.words,v=0,d,n,p,R=f[0]|0,k=R&8191,I=R>>>13,a=f[1]|0,b=a&8191,M=a>>>13,A=f[2]|0,N=A&8191,S=A>>>13,C=f[3]|0,T=C&8191,B=C>>>13,U=f[4]|0,D=U&8191,q=U>>>13,oe=f[5]|0,H=oe&8191,Z=oe>>>13,ae=f[6]|0,J=ae&8191,K=ae>>>13,he=f[7]|0,W=he&8191,X=he>>>13,ue=f[8]|0,Y=ue&8191,Q=ue>>>13,le=f[9]|0,tt=le&8191,et=le>>>13,fe=g[0]|0,rt=fe&8191,it=fe>>>13,ce=g[1]|0,nt=ce&8191,st=ce>>>13,de=g[2]|0,ot=de&8191,at=de>>>13,pe=g[3]|0,ht=pe&8191,ut=pe>>>13,ge=g[4]|0,lt=ge&8191,ft=ge>>>13,me=g[5]|0,ct=me&8191,dt=me>>>13,ye=g[6]|0,pt=ye&8191,gt=ye>>>13,ve=g[7]|0,mt=ve&8191,yt=ve>>>13,we=g[8]|0,vt=we&8191,wt=we>>>13,be=g[9]|0,bt=be&8191,Mt=be>>>13;u.negative=r.negative^o.negative,u.length=19,d=Math.imul(k,rt),n=Math.imul(k,it),n=n+Math.imul(I,rt)|0,p=Math.imul(I,it);var Jt=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,d=Math.imul(b,rt),n=Math.imul(b,it),n=n+Math.imul(M,rt)|0,p=Math.imul(M,it),d=d+Math.imul(k,nt)|0,n=n+Math.imul(k,st)|0,n=n+Math.imul(I,nt)|0,p=p+Math.imul(I,st)|0;var Kt=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,d=Math.imul(N,rt),n=Math.imul(N,it),n=n+Math.imul(S,rt)|0,p=Math.imul(S,it),d=d+Math.imul(b,nt)|0,n=n+Math.imul(b,st)|0,n=n+Math.imul(M,nt)|0,p=p+Math.imul(M,st)|0,d=d+Math.imul(k,ot)|0,n=n+Math.imul(k,at)|0,n=n+Math.imul(I,ot)|0,p=p+Math.imul(I,at)|0;var Wt=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,d=Math.imul(T,rt),n=Math.imul(T,it),n=n+Math.imul(B,rt)|0,p=Math.imul(B,it),d=d+Math.imul(N,nt)|0,n=n+Math.imul(N,st)|0,n=n+Math.imul(S,nt)|0,p=p+Math.imul(S,st)|0,d=d+Math.imul(b,ot)|0,n=n+Math.imul(b,at)|0,n=n+Math.imul(M,ot)|0,p=p+Math.imul(M,at)|0,d=d+Math.imul(k,ht)|0,n=n+Math.imul(k,ut)|0,n=n+Math.imul(I,ht)|0,p=p+Math.imul(I,ut)|0;var Xt=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,d=Math.imul(D,rt),n=Math.imul(D,it),n=n+Math.imul(q,rt)|0,p=Math.imul(q,it),d=d+Math.imul(T,nt)|0,n=n+Math.imul(T,st)|0,n=n+Math.imul(B,nt)|0,p=p+Math.imul(B,st)|0,d=d+Math.imul(N,ot)|0,n=n+Math.imul(N,at)|0,n=n+Math.imul(S,ot)|0,p=p+Math.imul(S,at)|0,d=d+Math.imul(b,ht)|0,n=n+Math.imul(b,ut)|0,n=n+Math.imul(M,ht)|0,p=p+Math.imul(M,ut)|0,d=d+Math.imul(k,lt)|0,n=n+Math.imul(k,ft)|0,n=n+Math.imul(I,lt)|0,p=p+Math.imul(I,ft)|0;var Yt=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,d=Math.imul(H,rt),n=Math.imul(H,it),n=n+Math.imul(Z,rt)|0,p=Math.imul(Z,it),d=d+Math.imul(D,nt)|0,n=n+Math.imul(D,st)|0,n=n+Math.imul(q,nt)|0,p=p+Math.imul(q,st)|0,d=d+Math.imul(T,ot)|0,n=n+Math.imul(T,at)|0,n=n+Math.imul(B,ot)|0,p=p+Math.imul(B,at)|0,d=d+Math.imul(N,ht)|0,n=n+Math.imul(N,ut)|0,n=n+Math.imul(S,ht)|0,p=p+Math.imul(S,ut)|0,d=d+Math.imul(b,lt)|0,n=n+Math.imul(b,ft)|0,n=n+Math.imul(M,lt)|0,p=p+Math.imul(M,ft)|0,d=d+Math.imul(k,ct)|0,n=n+Math.imul(k,dt)|0,n=n+Math.imul(I,ct)|0,p=p+Math.imul(I,dt)|0;var Qt=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,d=Math.imul(J,rt),n=Math.imul(J,it),n=n+Math.imul(K,rt)|0,p=Math.imul(K,it),d=d+Math.imul(H,nt)|0,n=n+Math.imul(H,st)|0,n=n+Math.imul(Z,nt)|0,p=p+Math.imul(Z,st)|0,d=d+Math.imul(D,ot)|0,n=n+Math.imul(D,at)|0,n=n+Math.imul(q,ot)|0,p=p+Math.imul(q,at)|0,d=d+Math.imul(T,ht)|0,n=n+Math.imul(T,ut)|0,n=n+Math.imul(B,ht)|0,p=p+Math.imul(B,ut)|0,d=d+Math.imul(N,lt)|0,n=n+Math.imul(N,ft)|0,n=n+Math.imul(S,lt)|0,p=p+Math.imul(S,ft)|0,d=d+Math.imul(b,ct)|0,n=n+Math.imul(b,dt)|0,n=n+Math.imul(M,ct)|0,p=p+Math.imul(M,dt)|0,d=d+Math.imul(k,pt)|0,n=n+Math.imul(k,gt)|0,n=n+Math.imul(I,pt)|0,p=p+Math.imul(I,gt)|0;var te=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(te>>>26)|0,te&=67108863,d=Math.imul(W,rt),n=Math.imul(W,it),n=n+Math.imul(X,rt)|0,p=Math.imul(X,it),d=d+Math.imul(J,nt)|0,n=n+Math.imul(J,st)|0,n=n+Math.imul(K,nt)|0,p=p+Math.imul(K,st)|0,d=d+Math.imul(H,ot)|0,n=n+Math.imul(H,at)|0,n=n+Math.imul(Z,ot)|0,p=p+Math.imul(Z,at)|0,d=d+Math.imul(D,ht)|0,n=n+Math.imul(D,ut)|0,n=n+Math.imul(q,ht)|0,p=p+Math.imul(q,ut)|0,d=d+Math.imul(T,lt)|0,n=n+Math.imul(T,ft)|0,n=n+Math.imul(B,lt)|0,p=p+Math.imul(B,ft)|0,d=d+Math.imul(N,ct)|0,n=n+Math.imul(N,dt)|0,n=n+Math.imul(S,ct)|0,p=p+Math.imul(S,dt)|0,d=d+Math.imul(b,pt)|0,n=n+Math.imul(b,gt)|0,n=n+Math.imul(M,pt)|0,p=p+Math.imul(M,gt)|0,d=d+Math.imul(k,mt)|0,n=n+Math.imul(k,yt)|0,n=n+Math.imul(I,mt)|0,p=p+Math.imul(I,yt)|0;var sr=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(sr>>>26)|0,sr&=67108863,d=Math.imul(Y,rt),n=Math.imul(Y,it),n=n+Math.imul(Q,rt)|0,p=Math.imul(Q,it),d=d+Math.imul(W,nt)|0,n=n+Math.imul(W,st)|0,n=n+Math.imul(X,nt)|0,p=p+Math.imul(X,st)|0,d=d+Math.imul(J,ot)|0,n=n+Math.imul(J,at)|0,n=n+Math.imul(K,ot)|0,p=p+Math.imul(K,at)|0,d=d+Math.imul(H,ht)|0,n=n+Math.imul(H,ut)|0,n=n+Math.imul(Z,ht)|0,p=p+Math.imul(Z,ut)|0,d=d+Math.imul(D,lt)|0,n=n+Math.imul(D,ft)|0,n=n+Math.imul(q,lt)|0,p=p+Math.imul(q,ft)|0,d=d+Math.imul(T,ct)|0,n=n+Math.imul(T,dt)|0,n=n+Math.imul(B,ct)|0,p=p+Math.imul(B,dt)|0,d=d+Math.imul(N,pt)|0,n=n+Math.imul(N,gt)|0,n=n+Math.imul(S,pt)|0,p=p+Math.imul(S,gt)|0,d=d+Math.imul(b,mt)|0,n=n+Math.imul(b,yt)|0,n=n+Math.imul(M,mt)|0,p=p+Math.imul(M,yt)|0,d=d+Math.imul(k,vt)|0,n=n+Math.imul(k,wt)|0,n=n+Math.imul(I,vt)|0,p=p+Math.imul(I,wt)|0;var or=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(or>>>26)|0,or&=67108863,d=Math.imul(tt,rt),n=Math.imul(tt,it),n=n+Math.imul(et,rt)|0,p=Math.imul(et,it),d=d+Math.imul(Y,nt)|0,n=n+Math.imul(Y,st)|0,n=n+Math.imul(Q,nt)|0,p=p+Math.imul(Q,st)|0,d=d+Math.imul(W,ot)|0,n=n+Math.imul(W,at)|0,n=n+Math.imul(X,ot)|0,p=p+Math.imul(X,at)|0,d=d+Math.imul(J,ht)|0,n=n+Math.imul(J,ut)|0,n=n+Math.imul(K,ht)|0,p=p+Math.imul(K,ut)|0,d=d+Math.imul(H,lt)|0,n=n+Math.imul(H,ft)|0,n=n+Math.imul(Z,lt)|0,p=p+Math.imul(Z,ft)|0,d=d+Math.imul(D,ct)|0,n=n+Math.imul(D,dt)|0,n=n+Math.imul(q,ct)|0,p=p+Math.imul(q,dt)|0,d=d+Math.imul(T,pt)|0,n=n+Math.imul(T,gt)|0,n=n+Math.imul(B,pt)|0,p=p+Math.imul(B,gt)|0,d=d+Math.imul(N,mt)|0,n=n+Math.imul(N,yt)|0,n=n+Math.imul(S,mt)|0,p=p+Math.imul(S,yt)|0,d=d+Math.imul(b,vt)|0,n=n+Math.imul(b,wt)|0,n=n+Math.imul(M,vt)|0,p=p+Math.imul(M,wt)|0,d=d+Math.imul(k,bt)|0,n=n+Math.imul(k,Mt)|0,n=n+Math.imul(I,bt)|0,p=p+Math.imul(I,Mt)|0;var ar=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(ar>>>26)|0,ar&=67108863,d=Math.imul(tt,nt),n=Math.imul(tt,st),n=n+Math.imul(et,nt)|0,p=Math.imul(et,st),d=d+Math.imul(Y,ot)|0,n=n+Math.imul(Y,at)|0,n=n+Math.imul(Q,ot)|0,p=p+Math.imul(Q,at)|0,d=d+Math.imul(W,ht)|0,n=n+Math.imul(W,ut)|0,n=n+Math.imul(X,ht)|0,p=p+Math.imul(X,ut)|0,d=d+Math.imul(J,lt)|0,n=n+Math.imul(J,ft)|0,n=n+Math.imul(K,lt)|0,p=p+Math.imul(K,ft)|0,d=d+Math.imul(H,ct)|0,n=n+Math.imul(H,dt)|0,n=n+Math.imul(Z,ct)|0,p=p+Math.imul(Z,dt)|0,d=d+Math.imul(D,pt)|0,n=n+Math.imul(D,gt)|0,n=n+Math.imul(q,pt)|0,p=p+Math.imul(q,gt)|0,d=d+Math.imul(T,mt)|0,n=n+Math.imul(T,yt)|0,n=n+Math.imul(B,mt)|0,p=p+Math.imul(B,yt)|0,d=d+Math.imul(N,vt)|0,n=n+Math.imul(N,wt)|0,n=n+Math.imul(S,vt)|0,p=p+Math.imul(S,wt)|0,d=d+Math.imul(b,bt)|0,n=n+Math.imul(b,Mt)|0,n=n+Math.imul(M,bt)|0,p=p+Math.imul(M,Mt)|0;var hr=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(hr>>>26)|0,hr&=67108863,d=Math.imul(tt,ot),n=Math.imul(tt,at),n=n+Math.imul(et,ot)|0,p=Math.imul(et,at),d=d+Math.imul(Y,ht)|0,n=n+Math.imul(Y,ut)|0,n=n+Math.imul(Q,ht)|0,p=p+Math.imul(Q,ut)|0,d=d+Math.imul(W,lt)|0,n=n+Math.imul(W,ft)|0,n=n+Math.imul(X,lt)|0,p=p+Math.imul(X,ft)|0,d=d+Math.imul(J,ct)|0,n=n+Math.imul(J,dt)|0,n=n+Math.imul(K,ct)|0,p=p+Math.imul(K,dt)|0,d=d+Math.imul(H,pt)|0,n=n+Math.imul(H,gt)|0,n=n+Math.imul(Z,pt)|0,p=p+Math.imul(Z,gt)|0,d=d+Math.imul(D,mt)|0,n=n+Math.imul(D,yt)|0,n=n+Math.imul(q,mt)|0,p=p+Math.imul(q,yt)|0,d=d+Math.imul(T,vt)|0,n=n+Math.imul(T,wt)|0,n=n+Math.imul(B,vt)|0,p=p+Math.imul(B,wt)|0,d=d+Math.imul(N,bt)|0,n=n+Math.imul(N,Mt)|0,n=n+Math.imul(S,bt)|0,p=p+Math.imul(S,Mt)|0;var ur=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(ur>>>26)|0,ur&=67108863,d=Math.imul(tt,ht),n=Math.imul(tt,ut),n=n+Math.imul(et,ht)|0,p=Math.imul(et,ut),d=d+Math.imul(Y,lt)|0,n=n+Math.imul(Y,ft)|0,n=n+Math.imul(Q,lt)|0,p=p+Math.imul(Q,ft)|0,d=d+Math.imul(W,ct)|0,n=n+Math.imul(W,dt)|0,n=n+Math.imul(X,ct)|0,p=p+Math.imul(X,dt)|0,d=d+Math.imul(J,pt)|0,n=n+Math.imul(J,gt)|0,n=n+Math.imul(K,pt)|0,p=p+Math.imul(K,gt)|0,d=d+Math.imul(H,mt)|0,n=n+Math.imul(H,yt)|0,n=n+Math.imul(Z,mt)|0,p=p+Math.imul(Z,yt)|0,d=d+Math.imul(D,vt)|0,n=n+Math.imul(D,wt)|0,n=n+Math.imul(q,vt)|0,p=p+Math.imul(q,wt)|0,d=d+Math.imul(T,bt)|0,n=n+Math.imul(T,Mt)|0,n=n+Math.imul(B,bt)|0,p=p+Math.imul(B,Mt)|0;var lr=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(lr>>>26)|0,lr&=67108863,d=Math.imul(tt,lt),n=Math.imul(tt,ft),n=n+Math.imul(et,lt)|0,p=Math.imul(et,ft),d=d+Math.imul(Y,ct)|0,n=n+Math.imul(Y,dt)|0,n=n+Math.imul(Q,ct)|0,p=p+Math.imul(Q,dt)|0,d=d+Math.imul(W,pt)|0,n=n+Math.imul(W,gt)|0,n=n+Math.imul(X,pt)|0,p=p+Math.imul(X,gt)|0,d=d+Math.imul(J,mt)|0,n=n+Math.imul(J,yt)|0,n=n+Math.imul(K,mt)|0,p=p+Math.imul(K,yt)|0,d=d+Math.imul(H,vt)|0,n=n+Math.imul(H,wt)|0,n=n+Math.imul(Z,vt)|0,p=p+Math.imul(Z,wt)|0,d=d+Math.imul(D,bt)|0,n=n+Math.imul(D,Mt)|0,n=n+Math.imul(q,bt)|0,p=p+Math.imul(q,Mt)|0;var fr=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(fr>>>26)|0,fr&=67108863,d=Math.imul(tt,ct),n=Math.imul(tt,dt),n=n+Math.imul(et,ct)|0,p=Math.imul(et,dt),d=d+Math.imul(Y,pt)|0,n=n+Math.imul(Y,gt)|0,n=n+Math.imul(Q,pt)|0,p=p+Math.imul(Q,gt)|0,d=d+Math.imul(W,mt)|0,n=n+Math.imul(W,yt)|0,n=n+Math.imul(X,mt)|0,p=p+Math.imul(X,yt)|0,d=d+Math.imul(J,vt)|0,n=n+Math.imul(J,wt)|0,n=n+Math.imul(K,vt)|0,p=p+Math.imul(K,wt)|0,d=d+Math.imul(H,bt)|0,n=n+Math.imul(H,Mt)|0,n=n+Math.imul(Z,bt)|0,p=p+Math.imul(Z,Mt)|0;var cr=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(cr>>>26)|0,cr&=67108863,d=Math.imul(tt,pt),n=Math.imul(tt,gt),n=n+Math.imul(et,pt)|0,p=Math.imul(et,gt),d=d+Math.imul(Y,mt)|0,n=n+Math.imul(Y,yt)|0,n=n+Math.imul(Q,mt)|0,p=p+Math.imul(Q,yt)|0,d=d+Math.imul(W,vt)|0,n=n+Math.imul(W,wt)|0,n=n+Math.imul(X,vt)|0,p=p+Math.imul(X,wt)|0,d=d+Math.imul(J,bt)|0,n=n+Math.imul(J,Mt)|0,n=n+Math.imul(K,bt)|0,p=p+Math.imul(K,Mt)|0;var dr=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(dr>>>26)|0,dr&=67108863,d=Math.imul(tt,mt),n=Math.imul(tt,yt),n=n+Math.imul(et,mt)|0,p=Math.imul(et,yt),d=d+Math.imul(Y,vt)|0,n=n+Math.imul(Y,wt)|0,n=n+Math.imul(Q,vt)|0,p=p+Math.imul(Q,wt)|0,d=d+Math.imul(W,bt)|0,n=n+Math.imul(W,Mt)|0,n=n+Math.imul(X,bt)|0,p=p+Math.imul(X,Mt)|0;var pr=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(pr>>>26)|0,pr&=67108863,d=Math.imul(tt,vt),n=Math.imul(tt,wt),n=n+Math.imul(et,vt)|0,p=Math.imul(et,wt),d=d+Math.imul(Y,bt)|0,n=n+Math.imul(Y,Mt)|0,n=n+Math.imul(Q,bt)|0,p=p+Math.imul(Q,Mt)|0;var gr=(v+d|0)+((n&8191)<<13)|0;v=(p+(n>>>13)|0)+(gr>>>26)|0,gr&=67108863,d=Math.imul(tt,bt),n=Math.imul(tt,Mt),n=n+Math.imul(et,bt)|0,p=Math.imul(et,Mt);var mr=(v+d|0)+((n&8191)<<13)|0;return v=(p+(n>>>13)|0)+(mr>>>26)|0,mr&=67108863,y[0]=Jt,y[1]=Kt,y[2]=Wt,y[3]=Xt,y[4]=Yt,y[5]=Qt,y[6]=te,y[7]=sr,y[8]=or,y[9]=ar,y[10]=hr,y[11]=ur,y[12]=lr,y[13]=fr,y[14]=cr,y[15]=dr,y[16]=pr,y[17]=gr,y[18]=mr,v!==0&&(y[19]=v,u.length++),u};Math.imul||(Te=Nt);function qe(m,r,o){o.negative=r.negative^m.negative,o.length=m.length+r.length;for(var u=0,f=0,g=0;g<o.length-1;g++){var y=f;f=0;for(var v=u&67108863,d=Math.min(g,r.length-1),n=Math.max(0,g-m.length+1);n<=d;n++){var p=g-n,R=m.words[p]|0,k=r.words[n]|0,I=R*k,a=I&67108863;y=y+(I/67108864|0)|0,a=a+v|0,v=a&67108863,y=y+(a>>>26)|0,f+=y>>>26,y&=67108863}o.words[g]=v,u=y,y=f}return u!==0?o.words[g]=u:o.length--,o.strip()}function Ae(m,r,o){var u=new Ot;return u.mulp(m,r,o)}h.prototype.mulTo=function(r,o){var u,f=this.length+r.length;return this.length===10&&r.length===10?u=Te(this,r,o):f<63?u=Nt(this,r,o):f<1024?u=qe(this,r,o):u=Ae(this,r,o),u};function Ot(m,r){this.x=m,this.y=r}Ot.prototype.makeRBT=function(r){for(var o=new Array(r),u=h.prototype._countBits(r)-1,f=0;f<r;f++)o[f]=this.revBin(f,u,r);return o},Ot.prototype.revBin=function(r,o,u){if(r===0||r===u-1)return r;for(var f=0,g=0;g<o;g++)f|=(r&1)<<o-g-1,r>>=1;return f},Ot.prototype.permute=function(r,o,u,f,g,y){for(var v=0;v<y;v++)f[v]=o[r[v]],g[v]=u[r[v]]},Ot.prototype.transform=function(r,o,u,f,g,y){this.permute(y,r,o,u,f,g);for(var v=1;v<g;v<<=1)for(var d=v<<1,n=Math.cos(2*Math.PI/d),p=Math.sin(2*Math.PI/d),R=0;R<g;R+=d)for(var k=n,I=p,a=0;a<v;a++){var b=u[R+a],M=f[R+a],A=u[R+a+v],N=f[R+a+v],S=k*A-I*N;N=k*N+I*A,A=S,u[R+a]=b+A,f[R+a]=M+N,u[R+a+v]=b-A,f[R+a+v]=M-N,a!==d&&(S=n*k-p*I,I=n*I+p*k,k=S)}},Ot.prototype.guessLen13b=function(r,o){var u=Math.max(o,r)|1,f=u&1,g=0;for(u=u/2|0;u;u=u>>>1)g++;return 1<<g+1+f},Ot.prototype.conjugate=function(r,o,u){if(!(u<=1))for(var f=0;f<u/2;f++){var g=r[f];r[f]=r[u-f-1],r[u-f-1]=g,g=o[f],o[f]=-o[u-f-1],o[u-f-1]=-g}},Ot.prototype.normalize13b=function(r,o){for(var u=0,f=0;f<o/2;f++){var g=Math.round(r[2*f+1]/o)*8192+Math.round(r[2*f]/o)+u;r[f]=g&67108863,g<67108864?u=0:u=g/67108864|0}return r},Ot.prototype.convert13b=function(r,o,u,f){for(var g=0,y=0;y<o;y++)g=g+(r[y]|0),u[2*y]=g&8191,g=g>>>13,u[2*y+1]=g&8191,g=g>>>13;for(y=2*o;y<f;++y)u[y]=0;i(g===0),i((g&-8192)===0)},Ot.prototype.stub=function(r){for(var o=new Array(r),u=0;u<r;u++)o[u]=0;return o},Ot.prototype.mulp=function(r,o,u){var f=2*this.guessLen13b(r.length,o.length),g=this.makeRBT(f),y=this.stub(f),v=new Array(f),d=new Array(f),n=new Array(f),p=new Array(f),R=new Array(f),k=new Array(f),I=u.words;I.length=f,this.convert13b(r.words,r.length,v,f),this.convert13b(o.words,o.length,p,f),this.transform(v,y,d,n,f,g),this.transform(p,y,R,k,f,g);for(var a=0;a<f;a++){var b=d[a]*R[a]-n[a]*k[a];n[a]=d[a]*k[a]+n[a]*R[a],d[a]=b}return this.conjugate(d,n,f),this.transform(d,n,I,y,f,g),this.conjugate(I,y,f),this.normalize13b(I,f),u.negative=r.negative^o.negative,u.length=r.length+o.length,u.strip()},h.prototype.mul=function(r){var o=new h(null);return o.words=new Array(this.length+r.length),this.mulTo(r,o)},h.prototype.mulf=function(r){var o=new h(null);return o.words=new Array(this.length+r.length),Ae(this,r,o)},h.prototype.imul=function(r){return this.clone().mulTo(r,this)},h.prototype.imuln=function(r){i(typeof r=="number"),i(r<67108864);for(var o=0,u=0;u<this.length;u++){var f=(this.words[u]|0)*r,g=(f&67108863)+(o&67108863);o>>=26,o+=f/67108864|0,o+=g>>>26,this.words[u]=g&67108863}return o!==0&&(this.words[u]=o,this.length++),this},h.prototype.muln=function(r){return this.clone().imuln(r)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(r){var o=Rt(r);if(o.length===0)return new h(1);for(var u=this,f=0;f<o.length&&o[f]===0;f++,u=u.sqr());if(++f<o.length)for(var g=u.sqr();f<o.length;f++,g=g.sqr())o[f]!==0&&(u=u.mul(g));return u},h.prototype.iushln=function(r){i(typeof r=="number"&&r>=0);var o=r%26,u=(r-o)/26,f=67108863>>>26-o<<26-o,g;if(o!==0){var y=0;for(g=0;g<this.length;g++){var v=this.words[g]&f,d=(this.words[g]|0)-v<<o;this.words[g]=d|y,y=v>>>26-o}y&&(this.words[g]=y,this.length++)}if(u!==0){for(g=this.length-1;g>=0;g--)this.words[g+u]=this.words[g];for(g=0;g<u;g++)this.words[g]=0;this.length+=u}return this.strip()},h.prototype.ishln=function(r){return i(this.negative===0),this.iushln(r)},h.prototype.iushrn=function(r,o,u){i(typeof r=="number"&&r>=0);var f;o?f=(o-o%26)/26:f=0;var g=r%26,y=Math.min((r-g)/26,this.length),v=67108863^67108863>>>g<<g,d=u;if(f-=y,f=Math.max(0,f),d){for(var n=0;n<y;n++)d.words[n]=this.words[n];d.length=y}if(y!==0)if(this.length>y)for(this.length-=y,n=0;n<this.length;n++)this.words[n]=this.words[n+y];else this.words[0]=0,this.length=1;var p=0;for(n=this.length-1;n>=0&&(p!==0||n>=f);n--){var R=this.words[n]|0;this.words[n]=p<<26-g|R>>>g,p=R&v}return d&&p!==0&&(d.words[d.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(r,o,u){return i(this.negative===0),this.iushrn(r,o,u)},h.prototype.shln=function(r){return this.clone().ishln(r)},h.prototype.ushln=function(r){return this.clone().iushln(r)},h.prototype.shrn=function(r){return this.clone().ishrn(r)},h.prototype.ushrn=function(r){return this.clone().iushrn(r)},h.prototype.testn=function(r){i(typeof r=="number"&&r>=0);var o=r%26,u=(r-o)/26,f=1<<o;if(this.length<=u)return!1;var g=this.words[u];return!!(g&f)},h.prototype.imaskn=function(r){i(typeof r=="number"&&r>=0);var o=r%26,u=(r-o)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(o!==0&&u++,this.length=Math.min(u,this.length),o!==0){var f=67108863^67108863>>>o<<o;this.words[this.length-1]&=f}return this.strip()},h.prototype.maskn=function(r){return this.clone().imaskn(r)},h.prototype.iaddn=function(r){return i(typeof r=="number"),i(r<67108864),r<0?this.isubn(-r):this.negative!==0?this.length===1&&(this.words[0]|0)<r?(this.words[0]=r-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(r),this.negative=1,this):this._iaddn(r)},h.prototype._iaddn=function(r){this.words[0]+=r;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},h.prototype.isubn=function(r){if(i(typeof r=="number"),i(r<67108864),r<0)return this.iaddn(-r);if(this.negative!==0)return this.negative=0,this.iaddn(r),this.negative=1,this;if(this.words[0]-=r,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},h.prototype.addn=function(r){return this.clone().iaddn(r)},h.prototype.subn=function(r){return this.clone().isubn(r)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(r,o,u){var f=r.length+u,g;this._expand(f);var y,v=0;for(g=0;g<r.length;g++){y=(this.words[g+u]|0)+v;var d=(r.words[g]|0)*o;y-=d&67108863,v=(y>>26)-(d/67108864|0),this.words[g+u]=y&67108863}for(;g<this.length-u;g++)y=(this.words[g+u]|0)+v,v=y>>26,this.words[g+u]=y&67108863;if(v===0)return this.strip();for(i(v===-1),v=0,g=0;g<this.length;g++)y=-(this.words[g]|0)+v,v=y>>26,this.words[g]=y&67108863;return this.negative=1,this.strip()},h.prototype._wordDiv=function(r,o){var u=this.length-r.length,f=this.clone(),g=r,y=g.words[g.length-1]|0,v=this._countBits(y);u=26-v,u!==0&&(g=g.ushln(u),f.iushln(u),y=g.words[g.length-1]|0);var d=f.length-g.length,n;if(o!=="mod"){n=new h(null),n.length=d+1,n.words=new Array(n.length);for(var p=0;p<n.length;p++)n.words[p]=0}var R=f.clone()._ishlnsubmul(g,1,d);R.negative===0&&(f=R,n&&(n.words[d]=1));for(var k=d-1;k>=0;k--){var I=(f.words[g.length+k]|0)*67108864+(f.words[g.length+k-1]|0);for(I=Math.min(I/y|0,67108863),f._ishlnsubmul(g,I,k);f.negative!==0;)I--,f.negative=0,f._ishlnsubmul(g,1,k),f.isZero()||(f.negative^=1);n&&(n.words[k]=I)}return n&&n.strip(),f.strip(),o!=="div"&&u!==0&&f.iushrn(u),{div:n||null,mod:f}},h.prototype.divmod=function(r,o,u){if(i(!r.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var f,g,y;return this.negative!==0&&r.negative===0?(y=this.neg().divmod(r,o),o!=="mod"&&(f=y.div.neg()),o!=="div"&&(g=y.mod.neg(),u&&g.negative!==0&&g.iadd(r)),{div:f,mod:g}):this.negative===0&&r.negative!==0?(y=this.divmod(r.neg(),o),o!=="mod"&&(f=y.div.neg()),{div:f,mod:y.mod}):(this.negative&r.negative)!==0?(y=this.neg().divmod(r.neg(),o),o!=="div"&&(g=y.mod.neg(),u&&g.negative!==0&&g.isub(r)),{div:y.div,mod:g}):r.length>this.length||this.cmp(r)<0?{div:new h(0),mod:this}:r.length===1?o==="div"?{div:this.divn(r.words[0]),mod:null}:o==="mod"?{div:null,mod:new h(this.modn(r.words[0]))}:{div:this.divn(r.words[0]),mod:new h(this.modn(r.words[0]))}:this._wordDiv(r,o)},h.prototype.div=function(r){return this.divmod(r,"div",!1).div},h.prototype.mod=function(r){return this.divmod(r,"mod",!1).mod},h.prototype.umod=function(r){return this.divmod(r,"mod",!0).mod},h.prototype.divRound=function(r){var o=this.divmod(r);if(o.mod.isZero())return o.div;var u=o.div.negative!==0?o.mod.isub(r):o.mod,f=r.ushrn(1),g=r.andln(1),y=u.cmp(f);return y<0||g===1&&y===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},h.prototype.modn=function(r){i(r<=67108863);for(var o=(1<<26)%r,u=0,f=this.length-1;f>=0;f--)u=(o*u+(this.words[f]|0))%r;return u},h.prototype.idivn=function(r){i(r<=67108863);for(var o=0,u=this.length-1;u>=0;u--){var f=(this.words[u]|0)+o*67108864;this.words[u]=f/r|0,o=f%r}return this.strip()},h.prototype.divn=function(r){return this.clone().idivn(r)},h.prototype.egcd=function(r){i(r.negative===0),i(!r.isZero());var o=this,u=r.clone();o.negative!==0?o=o.umod(r):o=o.clone();for(var f=new h(1),g=new h(0),y=new h(0),v=new h(1),d=0;o.isEven()&&u.isEven();)o.iushrn(1),u.iushrn(1),++d;for(var n=u.clone(),p=o.clone();!o.isZero();){for(var R=0,k=1;(o.words[0]&k)===0&&R<26;++R,k<<=1);if(R>0)for(o.iushrn(R);R-- >0;)(f.isOdd()||g.isOdd())&&(f.iadd(n),g.isub(p)),f.iushrn(1),g.iushrn(1);for(var I=0,a=1;(u.words[0]&a)===0&&I<26;++I,a<<=1);if(I>0)for(u.iushrn(I);I-- >0;)(y.isOdd()||v.isOdd())&&(y.iadd(n),v.isub(p)),y.iushrn(1),v.iushrn(1);o.cmp(u)>=0?(o.isub(u),f.isub(y),g.isub(v)):(u.isub(o),y.isub(f),v.isub(g))}return{a:y,b:v,gcd:u.iushln(d)}},h.prototype._invmp=function(r){i(r.negative===0),i(!r.isZero());var o=this,u=r.clone();o.negative!==0?o=o.umod(r):o=o.clone();for(var f=new h(1),g=new h(0),y=u.clone();o.cmpn(1)>0&&u.cmpn(1)>0;){for(var v=0,d=1;(o.words[0]&d)===0&&v<26;++v,d<<=1);if(v>0)for(o.iushrn(v);v-- >0;)f.isOdd()&&f.iadd(y),f.iushrn(1);for(var n=0,p=1;(u.words[0]&p)===0&&n<26;++n,p<<=1);if(n>0)for(u.iushrn(n);n-- >0;)g.isOdd()&&g.iadd(y),g.iushrn(1);o.cmp(u)>=0?(o.isub(u),f.isub(g)):(u.isub(o),g.isub(f))}var R;return o.cmpn(1)===0?R=f:R=g,R.cmpn(0)<0&&R.iadd(r),R},h.prototype.gcd=function(r){if(this.isZero())return r.abs();if(r.isZero())return this.abs();var o=this.clone(),u=r.clone();o.negative=0,u.negative=0;for(var f=0;o.isEven()&&u.isEven();f++)o.iushrn(1),u.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;u.isEven();)u.iushrn(1);var g=o.cmp(u);if(g<0){var y=o;o=u,u=y}else if(g===0||u.cmpn(1)===0)break;o.isub(u)}while(!0);return u.iushln(f)},h.prototype.invm=function(r){return this.egcd(r).a.umod(r)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(r){return this.words[0]&r},h.prototype.bincn=function(r){i(typeof r=="number");var o=r%26,u=(r-o)/26,f=1<<o;if(this.length<=u)return this._expand(u+1),this.words[u]|=f,this;for(var g=f,y=u;g!==0&&y<this.length;y++){var v=this.words[y]|0;v+=g,g=v>>>26,v&=67108863,this.words[y]=v}return g!==0&&(this.words[y]=g,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(r){var o=r<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var u;if(this.length>1)u=1;else{o&&(r=-r),i(r<=67108863,"Number is too big");var f=this.words[0]|0;u=f===r?0:f<r?-1:1}return this.negative!==0?-u|0:u},h.prototype.cmp=function(r){if(this.negative!==0&&r.negative===0)return-1;if(this.negative===0&&r.negative!==0)return 1;var o=this.ucmp(r);return this.negative!==0?-o|0:o},h.prototype.ucmp=function(r){if(this.length>r.length)return 1;if(this.length<r.length)return-1;for(var o=0,u=this.length-1;u>=0;u--){var f=this.words[u]|0,g=r.words[u]|0;if(f!==g){f<g?o=-1:f>g&&(o=1);break}}return o},h.prototype.gtn=function(r){return this.cmpn(r)===1},h.prototype.gt=function(r){return this.cmp(r)===1},h.prototype.gten=function(r){return this.cmpn(r)>=0},h.prototype.gte=function(r){return this.cmp(r)>=0},h.prototype.ltn=function(r){return this.cmpn(r)===-1},h.prototype.lt=function(r){return this.cmp(r)===-1},h.prototype.lten=function(r){return this.cmpn(r)<=0},h.prototype.lte=function(r){return this.cmp(r)<=0},h.prototype.eqn=function(r){return this.cmpn(r)===0},h.prototype.eq=function(r){return this.cmp(r)===0},h.red=function(r){return new Et(r)},h.prototype.toRed=function(r){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),r.convertTo(this)._forceRed(r)},h.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(r){return this.red=r,this},h.prototype.forceRed=function(r){return i(!this.red,"Already a number in reduction context"),this._forceRed(r)},h.prototype.redAdd=function(r){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,r)},h.prototype.redIAdd=function(r){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,r)},h.prototype.redSub=function(r){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,r)},h.prototype.redISub=function(r){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,r)},h.prototype.redShl=function(r){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,r)},h.prototype.redMul=function(r){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.mul(this,r)},h.prototype.redIMul=function(r){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.imul(this,r)},h.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(r){return i(this.red&&!r.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,r)};var Ne={k256:null,p224:null,p192:null,p25519:null};function Tt(m,r){this.name=m,this.p=new h(r,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Tt.prototype._tmp=function(){var r=new h(null);return r.words=new Array(Math.ceil(this.n/13)),r},Tt.prototype.ireduce=function(r){var o=r,u;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),u=o.bitLength();while(u>this.n);var f=u<this.n?-1:o.ucmp(this.p);return f===0?(o.words[0]=0,o.length=1):f>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},Tt.prototype.split=function(r,o){r.iushrn(this.n,0,o)},Tt.prototype.imulK=function(r){return r.imul(this.k)};function se(){Tt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(se,Tt),se.prototype.split=function(r,o){for(var u=4194303,f=Math.min(r.length,9),g=0;g<f;g++)o.words[g]=r.words[g];if(o.length=f,r.length<=9){r.words[0]=0,r.length=1;return}var y=r.words[9];for(o.words[o.length++]=y&u,g=10;g<r.length;g++){var v=r.words[g]|0;r.words[g-10]=(v&u)<<4|y>>>22,y=v}y>>>=22,r.words[g-10]=y,y===0&&r.length>10?r.length-=10:r.length-=9},se.prototype.imulK=function(r){r.words[r.length]=0,r.words[r.length+1]=0,r.length+=2;for(var o=0,u=0;u<r.length;u++){var f=r.words[u]|0;o+=f*977,r.words[u]=o&67108863,o=f*64+(o/67108864|0)}return r.words[r.length-1]===0&&(r.length--,r.words[r.length-1]===0&&r.length--),r};function Pe(){Tt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(Pe,Tt);function Oe(){Tt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(Oe,Tt);function Zt(){Tt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(Zt,Tt),Zt.prototype.imulK=function(r){for(var o=0,u=0;u<r.length;u++){var f=(r.words[u]|0)*19+o,g=f&67108863;f>>>=26,r.words[u]=g,o=f}return o!==0&&(r.words[r.length++]=o),r},h._prime=function(r){if(Ne[r])return Ne[r];var o;if(r==="k256")o=new se;else if(r==="p224")o=new Pe;else if(r==="p192")o=new Oe;else if(r==="p25519")o=new Zt;else throw new Error("Unknown prime "+r);return Ne[r]=o,o};function Et(m){if(typeof m=="string"){var r=h._prime(m);this.m=r.p,this.prime=r}else i(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}Et.prototype._verify1=function(r){i(r.negative===0,"red works only with positives"),i(r.red,"red works only with red numbers")},Et.prototype._verify2=function(r,o){i((r.negative|o.negative)===0,"red works only with positives"),i(r.red&&r.red===o.red,"red works only with red numbers")},Et.prototype.imod=function(r){return this.prime?this.prime.ireduce(r)._forceRed(this):r.umod(this.m)._forceRed(this)},Et.prototype.neg=function(r){return r.isZero()?r.clone():this.m.sub(r)._forceRed(this)},Et.prototype.add=function(r,o){this._verify2(r,o);var u=r.add(o);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},Et.prototype.iadd=function(r,o){this._verify2(r,o);var u=r.iadd(o);return u.cmp(this.m)>=0&&u.isub(this.m),u},Et.prototype.sub=function(r,o){this._verify2(r,o);var u=r.sub(o);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},Et.prototype.isub=function(r,o){this._verify2(r,o);var u=r.isub(o);return u.cmpn(0)<0&&u.iadd(this.m),u},Et.prototype.shl=function(r,o){return this._verify1(r),this.imod(r.ushln(o))},Et.prototype.imul=function(r,o){return this._verify2(r,o),this.imod(r.imul(o))},Et.prototype.mul=function(r,o){return this._verify2(r,o),this.imod(r.mul(o))},Et.prototype.isqr=function(r){return this.imul(r,r.clone())},Et.prototype.sqr=function(r){return this.mul(r,r)},Et.prototype.sqrt=function(r){if(r.isZero())return r.clone();var o=this.m.andln(3);if(i(o%2===1),o===3){var u=this.m.add(new h(1)).iushrn(2);return this.pow(r,u)}for(var f=this.m.subn(1),g=0;!f.isZero()&&f.andln(1)===0;)g++,f.iushrn(1);i(!f.isZero());var y=new h(1).toRed(this),v=y.redNeg(),d=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new h(2*n*n).toRed(this);this.pow(n,d).cmp(v)!==0;)n.redIAdd(v);for(var p=this.pow(n,f),R=this.pow(r,f.addn(1).iushrn(1)),k=this.pow(r,f),I=g;k.cmp(y)!==0;){for(var a=k,b=0;a.cmp(y)!==0;b++)a=a.redSqr();i(b<I);var M=this.pow(p,new h(1).iushln(I-b-1));R=R.redMul(M),p=M.redSqr(),k=k.redMul(p),I=b}return R},Et.prototype.invm=function(r){var o=r._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},Et.prototype.pow=function(r,o){if(o.isZero())return new h(1).toRed(this);if(o.cmpn(1)===0)return r.clone();var u=4,f=new Array(1<<u);f[0]=new h(1).toRed(this),f[1]=r;for(var g=2;g<f.length;g++)f[g]=this.mul(f[g-1],r);var y=f[0],v=0,d=0,n=o.bitLength()%26;for(n===0&&(n=26),g=o.length-1;g>=0;g--){for(var p=o.words[g],R=n-1;R>=0;R--){var k=p>>R&1;if(y!==f[0]&&(y=this.sqr(y)),k===0&&v===0){d=0;continue}v<<=1,v|=k,d++,!(d!==u&&(g!==0||R!==0))&&(y=this.mul(y,f[v]),d=0,v=0)}n=26}return y},Et.prototype.convertTo=function(r){var o=r.umod(this.m);return o===r?o.clone():o},Et.prototype.convertFrom=function(r){var o=r.clone();return o.red=null,o},h.mont=function(r){return new zt(r)};function zt(m){Et.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(zt,Et),zt.prototype.convertTo=function(r){return this.imod(r.ushln(this.shift))},zt.prototype.convertFrom=function(r){var o=this.imod(r.mul(this.rinv));return o.red=null,o},zt.prototype.imul=function(r,o){if(r.isZero()||o.isZero())return r.words[0]=0,r.length=1,r;var u=r.imul(o),f=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=u.isub(f).iushrn(this.shift),y=g;return g.cmp(this.m)>=0?y=g.isub(this.m):g.cmpn(0)<0&&(y=g.iadd(this.m)),y._forceRed(this)},zt.prototype.mul=function(r,o){if(r.isZero()||o.isZero())return new h(0)._forceRed(this);var u=r.mul(o),f=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=u.isub(f).iushrn(this.shift),y=g;return g.cmp(this.m)>=0?y=g.isub(this.m):g.cmpn(0)<0&&(y=g.iadd(this.m)),y._forceRed(this)},zt.prototype.invm=function(r){var o=this.imod(r._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(s,Zr)})(Jr);var mi=Jr.exports;const yi="logger/5.6.0";let Tr=!1,Pr=!1;const Ke={debug:1,default:2,info:2,warning:3,error:4,off:5};let Or=Ke.default,yr=null;function vi(){try{const s=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{s.push(t)}}),s.length)throw new Error("missing "+s.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(s){return s.message}return null}const kr=vi();var Mr;(function(s){s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.OFF="OFF"})(Mr||(Mr={}));var Bt;(function(s){s.UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.SERVER_ERROR="SERVER_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.CALL_EXCEPTION="CALL_EXCEPTION",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s.NONCE_EXPIRED="NONCE_EXPIRED",s.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",s.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",s.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(Bt||(Bt={}));const Ir="0123456789abcdef";class x{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const i=t.toLowerCase();Ke[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(Or>Ke[i])&&console.log.apply(console,e)}debug(...t){this._log(x.levels.DEBUG,t)}info(...t){this._log(x.levels.INFO,t)}warn(...t){this._log(x.levels.WARNING,t)}makeError(t,e,i){if(Pr)return this.makeError("censored error",e,{});e||(e=x.errors.UNKNOWN_ERROR),i||(i={});const l=[];Object.keys(i).forEach(E=>{const _=i[E];try{if(_ instanceof Uint8Array){let P="";for(let L=0;L<_.length;L++)P+=Ir[_[L]>>4],P+=Ir[_[L]&15];l.push(E+"=Uint8Array(0x"+P+")")}else l.push(E+"="+JSON.stringify(_))}catch{l.push(E+"="+JSON.stringify(i[E].toString()))}}),l.push(`code=${e}`),l.push(`version=${this.version}`);const h=t;let c="";switch(e){case Bt.NUMERIC_FAULT:{c="NUMERIC_FAULT";const E=t;switch(E){case"overflow":case"underflow":case"division-by-zero":c+="-"+E;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case Bt.CALL_EXCEPTION:case Bt.INSUFFICIENT_FUNDS:case Bt.MISSING_NEW:case Bt.NONCE_EXPIRED:case Bt.REPLACEMENT_UNDERPRICED:case Bt.TRANSACTION_REPLACED:case Bt.UNPREDICTABLE_GAS_LIMIT:c=e;break}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),l.length&&(t+=" ("+l.join(", ")+")");const w=new Error(t);return w.reason=h,w.code=e,Object.keys(i).forEach(function(E){w[E]=i[E]}),w}throwError(t,e,i){throw this.makeError(t,e,i)}throwArgumentError(t,e,i){return this.throwError(t,x.errors.INVALID_ARGUMENT,{argument:e,value:i})}assert(t,e,i,l){t||this.throwError(e,i,l)}assertArgument(t,e,i,l){t||this.throwArgumentError(e,i,l)}checkNormalize(t){kr&&this.throwError("platform missing String.prototype.normalize",x.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:kr})}checkSafeUint53(t,e){typeof t=="number"&&(e==null&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,x.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,x.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,i){i?i=": "+i:i="",t<e&&this.throwError("missing argument"+i,x.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+i,x.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||t==null)&&this.throwError("missing new",x.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",x.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",x.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return yr||(yr=new x(yi)),yr}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",x.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Tr){if(!t)return;this.globalLogger().throwError("error censorship permanent",x.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Pr=!!t,Tr=!!e}static setLogLevel(t){const e=Ke[t.toLowerCase()];if(e==null){x.globalLogger().warn("invalid log level - "+t);return}Or=e}static from(t){return new x(t)}}x.errors=Bt;x.levels=Mr;const wi="bytes/5.6.1",jt=new x(wi);function Kr(s){return!!s.toHexString}function Ie(s){return s.slice||(s.slice=function(){const t=Array.prototype.slice.call(arguments);return Ie(new Uint8Array(Array.prototype.slice.apply(s,t)))}),s}function bi(s){return Pt(s)&&!(s.length%2)||$e(s)}function Cr(s){return typeof s=="number"&&s==s&&s%1===0}function $e(s){if(s==null)return!1;if(s.constructor===Uint8Array)return!0;if(typeof s=="string"||!Cr(s.length)||s.length<0)return!1;for(let t=0;t<s.length;t++){const e=s[t];if(!Cr(e)||e<0||e>=256)return!1}return!0}function St(s,t){if(t||(t={}),typeof s=="number"){jt.checkSafeUint53(s,"invalid arrayify value");const e=[];for(;s;)e.unshift(s&255),s=parseInt(String(s/256));return e.length===0&&e.push(0),Ie(new Uint8Array(e))}if(t.allowMissingPrefix&&typeof s=="string"&&s.substring(0,2)!=="0x"&&(s="0x"+s),Kr(s)&&(s=s.toHexString()),Pt(s)){let e=s.substring(2);e.length%2&&(t.hexPad==="left"?e="0"+e:t.hexPad==="right"?e+="0":jt.throwArgumentError("hex data is odd-length","value",s));const i=[];for(let l=0;l<e.length;l+=2)i.push(parseInt(e.substring(l,l+2),16));return Ie(new Uint8Array(i))}return $e(s)?Ie(new Uint8Array(s)):jt.throwArgumentError("invalid arrayify value","value",s)}function Me(s){const t=s.map(l=>St(l)),e=t.reduce((l,h)=>l+h.length,0),i=new Uint8Array(e);return t.reduce((l,h)=>(i.set(h,l),l+h.length),0),Ie(i)}function Mi(s){let t=St(s);if(t.length===0)return t;let e=0;for(;e<t.length&&t[e]===0;)e++;return e&&(t=t.slice(e)),t}function Pt(s,t){return!(typeof s!="string"||!s.match(/^0x[0-9A-Fa-f]*$/)||t&&s.length!==2+2*t)}const vr="0123456789abcdef";function At(s,t){if(t||(t={}),typeof s=="number"){jt.checkSafeUint53(s,"invalid hexlify value");let e="";for(;s;)e=vr[s&15]+e,s=Math.floor(s/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(typeof s=="bigint")return s=s.toString(16),s.length%2?"0x0"+s:"0x"+s;if(t.allowMissingPrefix&&typeof s=="string"&&s.substring(0,2)!=="0x"&&(s="0x"+s),Kr(s))return s.toHexString();if(Pt(s))return s.length%2&&(t.hexPad==="left"?s="0x0"+s.substring(2):t.hexPad==="right"?s+="0":jt.throwArgumentError("hex data is odd-length","value",s)),s.toLowerCase();if($e(s)){let e="0x";for(let i=0;i<s.length;i++){let l=s[i];e+=vr[(l&240)>>4]+vr[l&15]}return e}return jt.throwArgumentError("invalid hexlify value","value",s)}function Ei(s){if(typeof s!="string")s=At(s);else if(!Pt(s)||s.length%2)return null;return(s.length-2)/2}function Wr(s,t,e){return typeof s!="string"?s=At(s):(!Pt(s)||s.length%2)&&jt.throwArgumentError("invalid hexData","value",s),t=2+2*t,e!=null?"0x"+s.substring(t,2+2*e):"0x"+s.substring(t)}function _i(s){let t="0x";return s.forEach(e=>{t+=At(e).substring(2)}),t}function Xr(s,t){for(typeof s!="string"?s=At(s):Pt(s)||jt.throwArgumentError("invalid hex string","value",s),s.length>2*t+2&&jt.throwArgumentError("value out of range","value",arguments[1]);s.length<2*t+2;)s="0x0"+s.substring(2);return s}const Ai="bignumber/5.6.0";var Xe=mi.BN;const Lt=new x(Ai),wr={},Ur=9007199254740991;let Dr=!1;class G{constructor(t,e){Lt.checkNew(new.target,G),t!==wr&&Lt.throwError("cannot call constructor directly; use BigNumber.from",x.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return kt(F(this).fromTwos(t))}toTwos(t){return kt(F(this).toTwos(t))}abs(){return this._hex[0]==="-"?G.from(this._hex.substring(1)):this}add(t){return kt(F(this).add(F(t)))}sub(t){return kt(F(this).sub(F(t)))}div(t){return G.from(t).isZero()&&Ut("division-by-zero","div"),kt(F(this).div(F(t)))}mul(t){return kt(F(this).mul(F(t)))}mod(t){const e=F(t);return e.isNeg()&&Ut("division-by-zero","mod"),kt(F(this).umod(e))}pow(t){const e=F(t);return e.isNeg()&&Ut("negative-power","pow"),kt(F(this).pow(e))}and(t){const e=F(t);return(this.isNegative()||e.isNeg())&&Ut("unbound-bitwise-result","and"),kt(F(this).and(e))}or(t){const e=F(t);return(this.isNegative()||e.isNeg())&&Ut("unbound-bitwise-result","or"),kt(F(this).or(e))}xor(t){const e=F(t);return(this.isNegative()||e.isNeg())&&Ut("unbound-bitwise-result","xor"),kt(F(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Ut("negative-width","mask"),kt(F(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Ut("negative-width","shl"),kt(F(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Ut("negative-width","shr"),kt(F(this).shrn(t))}eq(t){return F(this).eq(F(t))}lt(t){return F(this).lt(F(t))}lte(t){return F(this).lte(F(t))}gt(t){return F(this).gt(F(t))}gte(t){return F(this).gte(F(t))}isNegative(){return this._hex[0]==="-"}isZero(){return F(this).isZero()}toNumber(){try{return F(this).toNumber()}catch{Ut("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Lt.throwError("this platform does not support BigInt",x.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Dr||(Dr=!0,Lt.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Lt.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",x.errors.UNEXPECTED_ARGUMENT,{}):Lt.throwError("BigNumber.toString does not accept parameters",x.errors.UNEXPECTED_ARGUMENT,{})),F(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof G)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new G(wr,Ue(t)):t.match(/^-?[0-9]+$/)?new G(wr,Ue(new Xe(t))):Lt.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Ut("underflow","BigNumber.from",t),(t>=Ur||t<=-Ur)&&Ut("overflow","BigNumber.from",t),G.from(String(t));const e=t;if(typeof e=="bigint")return G.from(e.toString());if($e(e))return G.from(At(e));if(e)if(e.toHexString){const i=e.toHexString();if(typeof i=="string")return G.from(i)}else{let i=e._hex;if(i==null&&e.type==="BigNumber"&&(i=e.hex),typeof i=="string"&&(Pt(i)||i[0]==="-"&&Pt(i.substring(1))))return G.from(i)}return Lt.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Ue(s){if(typeof s!="string")return Ue(s.toString(16));if(s[0]==="-")return s=s.substring(1),s[0]==="-"&&Lt.throwArgumentError("invalid hex","value",s),s=Ue(s),s==="0x00"?s:"-"+s;if(s.substring(0,2)!=="0x"&&(s="0x"+s),s==="0x")return"0x00";for(s.length%2&&(s="0x0"+s.substring(2));s.length>4&&s.substring(0,4)==="0x00";)s="0x"+s.substring(4);return s}function kt(s){return G.from(Ue(s))}function F(s){const t=G.from(s).toHexString();return t[0]==="-"?new Xe("-"+t.substring(3),16):new Xe(t.substring(2),16)}function Ut(s,t,e){const i={fault:s,operation:t};return e!=null&&(i.value=e),Lt.throwError(s,x.errors.NUMERIC_FAULT,i)}function Ni(s){return new Xe(s,36).toString(16)}const Ri="properties/5.6.0";var xi=globalThis&&globalThis.__awaiter||function(s,t,e,i){function l(h){return h instanceof e?h:new e(function(c){c(h)})}return new(e||(e=Promise))(function(h,c){function w(P){try{_(i.next(P))}catch(L){c(L)}}function E(P){try{_(i.throw(P))}catch(L){c(L)}}function _(P){P.done?h(P.value):l(P.value).then(w,E)}_((i=i.apply(s,t||[])).next())})};const Yr=new x(Ri);function O(s,t,e){Object.defineProperty(s,t,{enumerable:!0,value:e,writable:!1})}function re(s,t){for(let e=0;e<32;e++){if(s[t])return s[t];if(!s.prototype||typeof s.prototype!="object")break;s=Object.getPrototypeOf(s.prototype).constructor}return null}function ie(s){return xi(this,void 0,void 0,function*(){const t=Object.keys(s).map(i=>{const l=s[i];return Promise.resolve(l).then(h=>({key:i,value:h}))});return(yield Promise.all(t)).reduce((i,l)=>(i[l.key]=l.value,i),{})})}function Ee(s){const t={};for(const e in s)t[e]=s[e];return t}const Si={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Qr(s){if(s==null||Si[typeof s])return!0;if(Array.isArray(s)||typeof s=="object"){if(!Object.isFrozen(s))return!1;const t=Object.keys(s);for(let e=0;e<t.length;e++){let i=null;try{i=s[t[e]]}catch{continue}if(!Qr(i))return!1}return!0}return Yr.throwArgumentError(`Cannot deepCopy ${typeof s}`,"object",s)}function Ti(s){if(Qr(s))return s;if(Array.isArray(s))return Object.freeze(s.map(t=>De(t)));if(typeof s=="object"){const t={};for(const e in s){const i=s[e];i!==void 0&&O(t,e,De(i))}return t}return Yr.throwArgumentError(`Cannot deepCopy ${typeof s}`,"object",s)}function De(s){return Ti(s)}class ir{constructor(t){for(const e in t)this[e]=De(t[e])}}const Ve="abi/5.6.1",z=new x(Ve),_e={};let Br={calldata:!0,memory:!0,storage:!0},Pi={calldata:!0,memory:!0};function He(s,t){if(s==="bytes"||s==="string"){if(Br[t])return!0}else if(s==="address"){if(t==="payable")return!0}else if((s.indexOf("[")>=0||s==="tuple")&&Pi[t])return!0;return(Br[t]||t==="payable")&&z.throwArgumentError("invalid modifier","name",t),!1}function Oi(s,t){let e=s;function i(w){z.throwArgumentError(`unexpected character at position ${w}`,"param",s)}s=s.replace(/\s/g," ");function l(w){let E={type:"",name:"",parent:w,state:{allowType:!0}};return t&&(E.indexed=!1),E}let h={type:"",name:"",state:{allowType:!0}},c=h;for(let w=0;w<s.length;w++){let E=s[w];switch(E){case"(":c.state.allowType&&c.type===""?c.type="tuple":c.state.allowParams||i(w),c.state.allowType=!1,c.type=Re(c.type),c.components=[l(c)],c=c.components[0];break;case")":delete c.state,c.name==="indexed"&&(t||i(w),c.indexed=!0,c.name=""),He(c.type,c.name)&&(c.name=""),c.type=Re(c.type);let _=c;c=c.parent,c||i(w),delete _.parent,c.state.allowParams=!1,c.state.allowName=!0,c.state.allowArray=!0;break;case",":delete c.state,c.name==="indexed"&&(t||i(w),c.indexed=!0,c.name=""),He(c.type,c.name)&&(c.name=""),c.type=Re(c.type);let P=l(c.parent);c.parent.components.push(P),delete c.parent,c=P;break;case" ":c.state.allowType&&c.type!==""&&(c.type=Re(c.type),delete c.state.allowType,c.state.allowName=!0,c.state.allowParams=!0),c.state.allowName&&c.name!==""&&(c.name==="indexed"?(t||i(w),c.indexed&&i(w),c.indexed=!0,c.name=""):He(c.type,c.name)?c.name="":c.state.allowName=!1);break;case"[":c.state.allowArray||i(w),c.type+=E,c.state.allowArray=!1,c.state.allowName=!1,c.state.readArray=!0;break;case"]":c.state.readArray||i(w),c.type+=E,c.state.readArray=!1,c.state.allowArray=!0,c.state.allowName=!0;break;default:c.state.allowType?(c.type+=E,c.state.allowParams=!0,c.state.allowArray=!0):c.state.allowName?(c.name+=E,delete c.state.allowArray):c.state.readArray?c.type+=E:i(w)}}return c.parent&&z.throwArgumentError("unexpected eof","param",s),delete h.state,c.name==="indexed"?(t||i(e.length-7),c.indexed&&i(e.length-7),c.indexed=!0,c.name=""):He(c.type,c.name)&&(c.name=""),h.type=Re(h.type),h}function We(s,t){for(let e in t)O(s,e,t[e])}const $=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ki=new RegExp(/^(.*)\[([0-9]*)\]$/);class xt{constructor(t,e){t!==_e&&z.throwError("use fromString",x.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),We(this,e);let i=this.type.match(ki);i?We(this,{arrayLength:parseInt(i[2]||"-1"),arrayChildren:xt.fromObject({type:i[1],components:this.components}),baseType:"array"}):We(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=$.sighash),$[t]||z.throwArgumentError("invalid format type","format",t),t===$.json){let i={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.components&&(i.components=this.components.map(l=>JSON.parse(l.format(t)))),JSON.stringify(i)}let e="";return this.baseType==="array"?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(t!==$.sighash&&(e+=this.type),e+="("+this.components.map(i=>i.format(t)).join(t===$.full?", ":",")+")"):e+=this.type,t!==$.sighash&&(this.indexed===!0&&(e+=" indexed"),t===$.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return typeof t=="string"?xt.fromString(t,e):xt.fromObject(t)}static fromObject(t){return xt.isParamType(t)?t:new xt(_e,{name:t.name||null,type:Re(t.type),indexed:t.indexed==null?null:!!t.indexed,components:t.components?t.components.map(xt.fromObject):null})}static fromString(t,e){function i(l){return xt.fromObject({name:l.name,type:l.type,indexed:l.indexed,components:l.components})}return i(Oi(t,!!e))}static isParamType(t){return!!(t!=null&&t._isParamType)}}function Be(s,t){return Ci(s).map(e=>xt.fromString(e,t))}class Vt{constructor(t,e){t!==_e&&z.throwError("use a static from method",x.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),We(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return Vt.isFragment(t)?t:typeof t=="string"?Vt.fromString(t):Vt.fromObject(t)}static fromObject(t){if(Vt.isFragment(t))return t;switch(t.type){case"function":return Gt.fromObject(t);case"event":return $t.fromObject(t);case"constructor":return Ft.fromObject(t);case"error":return ee.fromObject(t);case"fallback":case"receive":return null}return z.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return t=t.replace(/\s/g," "),t=t.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),t=t.trim(),t.split(" ")[0]==="event"?$t.fromString(t.substring(5).trim()):t.split(" ")[0]==="function"?Gt.fromString(t.substring(8).trim()):t.split("(")[0].trim()==="constructor"?Ft.fromString(t.trim()):t.split(" ")[0]==="error"?ee.fromString(t.substring(5).trim()):z.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!!(t&&t._isFragment)}}class $t extends Vt{format(t){if(t||(t=$.sighash),$[t]||z.throwArgumentError("invalid format type","format",t),t===$.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});let e="";return t!==$.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map(i=>i.format(t)).join(t===$.full?", ":",")+") ",t!==$.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return typeof t=="string"?$t.fromString(t):$t.fromObject(t)}static fromObject(t){if($t.isEventFragment(t))return t;t.type!=="event"&&z.throwArgumentError("invalid event object","value",t);const e={name:Le(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(xt.fromObject):[],type:"event"};return new $t(_e,e)}static fromString(t){let e=t.match(Fe);e||z.throwArgumentError("invalid event string","value",t);let i=!1;return e[3].split(" ").forEach(l=>{switch(l.trim()){case"anonymous":i=!0;break;case"":break;default:z.warn("unknown modifier: "+l)}}),$t.fromObject({name:e[1].trim(),anonymous:i,inputs:Be(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&t.type==="event"}}function ti(s,t){t.gas=null;let e=s.split("@");return e.length!==1?(e.length>2&&z.throwArgumentError("invalid human-readable ABI signature","value",s),e[1].match(/^[0-9]+$/)||z.throwArgumentError("invalid human-readable ABI signature gas","value",s),t.gas=G.from(e[1]),e[0]):s}function ei(s,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",s.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function ri(s){let t={constant:!1,payable:!0,stateMutability:"payable"};return s.stateMutability!=null?(t.stateMutability=s.stateMutability,t.constant=t.stateMutability==="view"||t.stateMutability==="pure",s.constant!=null&&!!s.constant!==t.constant&&z.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",s),t.payable=t.stateMutability==="payable",s.payable!=null&&!!s.payable!==t.payable&&z.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",s)):s.payable!=null?(t.payable=!!s.payable,s.constant==null&&!t.payable&&s.type!=="constructor"&&z.throwArgumentError("unable to determine stateMutability","value",s),t.constant=!!s.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&z.throwArgumentError("cannot have constant payable function","value",s)):s.constant!=null?(t.constant=!!s.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):s.type!=="constructor"&&z.throwArgumentError("unable to determine stateMutability","value",s),t}class Ft extends Vt{format(t){if(t||(t=$.sighash),$[t]||z.throwArgumentError("invalid format type","format",t),t===$.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});t===$.sighash&&z.throwError("cannot format a constructor for sighash",x.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map(i=>i.format(t)).join(t===$.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(e+=this.stateMutability+" "),e.trim()}static from(t){return typeof t=="string"?Ft.fromString(t):Ft.fromObject(t)}static fromObject(t){if(Ft.isConstructorFragment(t))return t;t.type!=="constructor"&&z.throwArgumentError("invalid constructor object","value",t);let e=ri(t);e.constant&&z.throwArgumentError("constructor cannot be constant","value",t);const i={name:null,type:t.type,inputs:t.inputs?t.inputs.map(xt.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?G.from(t.gas):null};return new Ft(_e,i)}static fromString(t){let e={type:"constructor"};t=ti(t,e);let i=t.match(Fe);return(!i||i[1].trim()!=="constructor")&&z.throwArgumentError("invalid constructor string","value",t),e.inputs=Be(i[2].trim(),!1),ei(i[3].trim(),e),Ft.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&t.type==="constructor"}}class Gt extends Ft{format(t){if(t||(t=$.sighash),$[t]||z.throwArgumentError("invalid format type","format",t),t===$.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});let e="";return t!==$.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map(i=>i.format(t)).join(t===$.full?", ":",")+") ",t!==$.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map(i=>i.format(t)).join(", ")+") "),this.gas!=null&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return typeof t=="string"?Gt.fromString(t):Gt.fromObject(t)}static fromObject(t){if(Gt.isFunctionFragment(t))return t;t.type!=="function"&&z.throwArgumentError("invalid function object","value",t);let e=ri(t);const i={type:t.type,name:Le(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(xt.fromObject):[],outputs:t.outputs?t.outputs.map(xt.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?G.from(t.gas):null};return new Gt(_e,i)}static fromString(t){let e={type:"function"};t=ti(t,e);let i=t.split(" returns ");i.length>2&&z.throwArgumentError("invalid function string","value",t);let l=i[0].match(Fe);if(l||z.throwArgumentError("invalid function signature","value",t),e.name=l[1].trim(),e.name&&Le(e.name),e.inputs=Be(l[2],!1),ei(l[3].trim(),e),i.length>1){let h=i[1].match(Fe);(h[1].trim()!=""||h[3].trim()!="")&&z.throwArgumentError("unexpected tokens","value",t),e.outputs=Be(h[2],!1)}else e.outputs=[];return Gt.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&t.type==="function"}}function Lr(s){const t=s.format();return(t==="Error(string)"||t==="Panic(uint256)")&&z.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",s),s}class ee extends Vt{format(t){if(t||(t=$.sighash),$[t]||z.throwArgumentError("invalid format type","format",t),t===$.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});let e="";return t!==$.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map(i=>i.format(t)).join(t===$.full?", ":",")+") ",e.trim()}static from(t){return typeof t=="string"?ee.fromString(t):ee.fromObject(t)}static fromObject(t){if(ee.isErrorFragment(t))return t;t.type!=="error"&&z.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:Le(t.name),inputs:t.inputs?t.inputs.map(xt.fromObject):[]};return Lr(new ee(_e,e))}static fromString(t){let e={type:"error"},i=t.match(Fe);return i||z.throwArgumentError("invalid error signature","value",t),e.name=i[1].trim(),e.name&&Le(e.name),e.inputs=Be(i[2],!1),Lr(ee.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&t.type==="error"}}function Re(s){return s.match(/^uint($|[^1-9])/)?s="uint256"+s.substring(4):s.match(/^int($|[^1-9])/)&&(s="int256"+s.substring(3)),s}const Ii=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Le(s){return(!s||!s.match(Ii))&&z.throwArgumentError(`invalid identifier "${s}"`,"value",s),s}const Fe=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Ci(s){s=s.trim();let t=[],e="",i=0;for(let l=0;l<s.length;l++){let h=s[l];h===","&&i===0?(t.push(e),e=""):(e+=h,h==="("?i++:h===")"&&(i--,i===-1&&z.throwArgumentError("unbalanced parenthesis","value",s)))}return e&&t.push(e),t}const Nr=new x(Ve);function Ui(s){const t=[],e=function(i,l){if(!!Array.isArray(l))for(let h in l){const c=i.slice();c.push(h);try{e(c,l[h])}catch(w){t.push({path:c,error:w})}}};return e([],s),t}class Ht{constructor(t,e,i,l){this.name=t,this.type=e,this.localName=i,this.dynamic=l}_throwError(t,e){Nr.throwArgumentError(t,this.localName,e)}}class Er{constructor(t){O(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return _i(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(Me(t._data))}writeBytes(t){let e=St(t);const i=e.length%this.wordSize;return i&&(e=Me([e,this._padding.slice(i)])),this._writeData(e)}_getValue(t){let e=St(G.from(t));return e.length>this.wordSize&&Nr.throwError("value out-of-bounds",x.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=Me([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class Ye{constructor(t,e,i,l){O(this,"_data",St(t)),O(this,"wordSize",e||32),O(this,"_coerceFunc",i),O(this,"allowLoose",l),this._offset=0}get data(){return At(this._data)}get consumed(){return this._offset}static coerce(t,e){let i=t.match("^u?int([0-9]+)$");return i&&parseInt(i[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):Ye.coerce(t,e)}_peekBytes(t,e,i){let l=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+l>this._data.length&&(this.allowLoose&&i&&this._offset+e<=this._data.length?l=e:Nr.throwError("data out-of-bounds",x.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+l})),this._data.slice(this._offset,this._offset+l)}subReader(t){return new Ye(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let i=this._peekBytes(0,t,!!e);return this._offset+=i.length,i.slice(0,t)}readValue(){return G.from(this.readBytes(this.wordSize))}}var ii={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(s){(function(){var t="input is invalid type",e="finalize already called",i=typeof window=="object",l=i?window:{};l.JS_SHA3_NO_WINDOW&&(i=!1);var h=!i&&typeof self=="object",c=!l.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?l=Zr:h&&(l=self);var w=!l.JS_SHA3_NO_COMMON_JS&&!0&&s.exports,E=!l.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",_="0123456789abcdef".split(""),P=[31,7936,2031616,520093696],L=[4,1024,262144,67108864],V=[1,256,65536,16777216],Rt=[6,1536,393216,100663296],Nt=[0,8,16,24],Te=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],qe=[224,256,384,512],Ae=[128,256],Ot=["hex","buffer","arrayBuffer","array","digest"],Ne={"128":168,"256":136};(l.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}),E&&(l.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(a){return typeof a=="object"&&a.buffer&&a.buffer.constructor===ArrayBuffer});for(var Tt=function(a,b,M){return function(A){return new R(a,b,a).update(A)[M]()}},se=function(a,b,M){return function(A,N){return new R(a,b,N).update(A)[M]()}},Pe=function(a,b,M){return function(A,N,S,C){return u["cshake"+a].update(A,N,S,C)[M]()}},Oe=function(a,b,M){return function(A,N,S,C){return u["kmac"+a].update(A,N,S,C)[M]()}},Zt=function(a,b,M,A){for(var N=0;N<Ot.length;++N){var S=Ot[N];a[S]=b(M,A,S)}return a},Et=function(a,b){var M=Tt(a,b,"hex");return M.create=function(){return new R(a,b,a)},M.update=function(A){return M.create().update(A)},Zt(M,Tt,a,b)},zt=function(a,b){var M=se(a,b,"hex");return M.create=function(A){return new R(a,b,A)},M.update=function(A,N){return M.create(N).update(A)},Zt(M,se,a,b)},m=function(a,b){var M=Ne[a],A=Pe(a,b,"hex");return A.create=function(N,S,C){return!S&&!C?u["shake"+a].create(N):new R(a,b,N).bytepad([S,C],M)},A.update=function(N,S,C,T){return A.create(S,C,T).update(N)},Zt(A,Pe,a,b)},r=function(a,b){var M=Ne[a],A=Oe(a,b,"hex");return A.create=function(N,S,C){return new k(a,b,S).bytepad(["KMAC",C],M).bytepad([N],M)},A.update=function(N,S,C,T){return A.create(N,C,T).update(S)},Zt(A,Oe,a,b)},o=[{name:"keccak",padding:V,bits:qe,createMethod:Et},{name:"sha3",padding:Rt,bits:qe,createMethod:Et},{name:"shake",padding:P,bits:Ae,createMethod:zt},{name:"cshake",padding:L,bits:Ae,createMethod:m},{name:"kmac",padding:L,bits:Ae,createMethod:r}],u={},f=[],g=0;g<o.length;++g)for(var y=o[g],v=y.bits,d=0;d<v.length;++d){var n=y.name+"_"+v[d];if(f.push(n),u[n]=y.createMethod(v[d],y.padding),y.name!=="sha3"){var p=y.name+v[d];f.push(p),u[p]=u[n]}}function R(a,b,M){this.blocks=[],this.s=[],this.padding=b,this.outputBits=M,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(a<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=M>>5,this.extraBytes=(M&31)>>3;for(var A=0;A<50;++A)this.s[A]=0}R.prototype.update=function(a){if(this.finalized)throw new Error(e);var b,M=typeof a;if(M!=="string"){if(M==="object"){if(a===null)throw new Error(t);if(E&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!E||!ArrayBuffer.isView(a)))throw new Error(t)}else throw new Error(t);b=!0}for(var A=this.blocks,N=this.byteCount,S=a.length,C=this.blockCount,T=0,B=this.s,U,D;T<S;){if(this.reset)for(this.reset=!1,A[0]=this.block,U=1;U<C+1;++U)A[U]=0;if(b)for(U=this.start;T<S&&U<N;++T)A[U>>2]|=a[T]<<Nt[U++&3];else for(U=this.start;T<S&&U<N;++T)D=a.charCodeAt(T),D<128?A[U>>2]|=D<<Nt[U++&3]:D<2048?(A[U>>2]|=(192|D>>6)<<Nt[U++&3],A[U>>2]|=(128|D&63)<<Nt[U++&3]):D<55296||D>=57344?(A[U>>2]|=(224|D>>12)<<Nt[U++&3],A[U>>2]|=(128|D>>6&63)<<Nt[U++&3],A[U>>2]|=(128|D&63)<<Nt[U++&3]):(D=65536+((D&1023)<<10|a.charCodeAt(++T)&1023),A[U>>2]|=(240|D>>18)<<Nt[U++&3],A[U>>2]|=(128|D>>12&63)<<Nt[U++&3],A[U>>2]|=(128|D>>6&63)<<Nt[U++&3],A[U>>2]|=(128|D&63)<<Nt[U++&3]);if(this.lastByteIndex=U,U>=N){for(this.start=U-N,this.block=A[C],U=0;U<C;++U)B[U]^=A[U];I(B),this.reset=!0}else this.start=U}return this},R.prototype.encode=function(a,b){var M=a&255,A=1,N=[M];for(a=a>>8,M=a&255;M>0;)N.unshift(M),a=a>>8,M=a&255,++A;return b?N.push(A):N.unshift(A),this.update(N),N.length},R.prototype.encodeString=function(a){var b,M=typeof a;if(M!=="string"){if(M==="object"){if(a===null)throw new Error(t);if(E&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!E||!ArrayBuffer.isView(a)))throw new Error(t)}else throw new Error(t);b=!0}var A=0,N=a.length;if(b)A=N;else for(var S=0;S<a.length;++S){var C=a.charCodeAt(S);C<128?A+=1:C<2048?A+=2:C<55296||C>=57344?A+=3:(C=65536+((C&1023)<<10|a.charCodeAt(++S)&1023),A+=4)}return A+=this.encode(A*8),this.update(a),A},R.prototype.bytepad=function(a,b){for(var M=this.encode(b),A=0;A<a.length;++A)M+=this.encodeString(a[A]);var N=b-M%b,S=[];return S.length=N,this.update(S),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,b=this.lastByteIndex,M=this.blockCount,A=this.s;if(a[b>>2]|=this.padding[b&3],this.lastByteIndex===this.byteCount)for(a[0]=a[M],b=1;b<M+1;++b)a[b]=0;for(a[M-1]|=2147483648,b=0;b<M;++b)A[b]^=a[b];I(A)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var a=this.blockCount,b=this.s,M=this.outputBlocks,A=this.extraBytes,N=0,S=0,C="",T;S<M;){for(N=0;N<a&&S<M;++N,++S)T=b[N],C+=_[T>>4&15]+_[T&15]+_[T>>12&15]+_[T>>8&15]+_[T>>20&15]+_[T>>16&15]+_[T>>28&15]+_[T>>24&15];S%a===0&&(I(b),N=0)}return A&&(T=b[N],C+=_[T>>4&15]+_[T&15],A>1&&(C+=_[T>>12&15]+_[T>>8&15]),A>2&&(C+=_[T>>20&15]+_[T>>16&15])),C},R.prototype.arrayBuffer=function(){this.finalize();var a=this.blockCount,b=this.s,M=this.outputBlocks,A=this.extraBytes,N=0,S=0,C=this.outputBits>>3,T;A?T=new ArrayBuffer(M+1<<2):T=new ArrayBuffer(C);for(var B=new Uint32Array(T);S<M;){for(N=0;N<a&&S<M;++N,++S)B[S]=b[N];S%a===0&&I(b)}return A&&(B[N]=b[N],T=T.slice(0,C)),T},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var a=this.blockCount,b=this.s,M=this.outputBlocks,A=this.extraBytes,N=0,S=0,C=[],T,B;S<M;){for(N=0;N<a&&S<M;++N,++S)T=S<<2,B=b[N],C[T]=B&255,C[T+1]=B>>8&255,C[T+2]=B>>16&255,C[T+3]=B>>24&255;S%a===0&&I(b)}return A&&(T=S<<2,B=b[N],C[T]=B&255,A>1&&(C[T+1]=B>>8&255),A>2&&(C[T+2]=B>>16&255)),C};function k(a,b,M){R.call(this,a,b,M)}k.prototype=new R,k.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var I=function(a){var b,M,A,N,S,C,T,B,U,D,q,oe,H,Z,ae,J,K,he,W,X,ue,Y,Q,le,tt,et,fe,rt,it,ce,nt,st,de,ot,at,pe,ht,ut,ge,lt,ft,me,ct,dt,ye,pt,gt,ve,mt,yt,we,vt,wt,be,bt,Mt,Jt,Kt,Wt,Xt,Yt,Qt,te;for(A=0;A<48;A+=2)N=a[0]^a[10]^a[20]^a[30]^a[40],S=a[1]^a[11]^a[21]^a[31]^a[41],C=a[2]^a[12]^a[22]^a[32]^a[42],T=a[3]^a[13]^a[23]^a[33]^a[43],B=a[4]^a[14]^a[24]^a[34]^a[44],U=a[5]^a[15]^a[25]^a[35]^a[45],D=a[6]^a[16]^a[26]^a[36]^a[46],q=a[7]^a[17]^a[27]^a[37]^a[47],oe=a[8]^a[18]^a[28]^a[38]^a[48],H=a[9]^a[19]^a[29]^a[39]^a[49],b=oe^(C<<1|T>>>31),M=H^(T<<1|C>>>31),a[0]^=b,a[1]^=M,a[10]^=b,a[11]^=M,a[20]^=b,a[21]^=M,a[30]^=b,a[31]^=M,a[40]^=b,a[41]^=M,b=N^(B<<1|U>>>31),M=S^(U<<1|B>>>31),a[2]^=b,a[3]^=M,a[12]^=b,a[13]^=M,a[22]^=b,a[23]^=M,a[32]^=b,a[33]^=M,a[42]^=b,a[43]^=M,b=C^(D<<1|q>>>31),M=T^(q<<1|D>>>31),a[4]^=b,a[5]^=M,a[14]^=b,a[15]^=M,a[24]^=b,a[25]^=M,a[34]^=b,a[35]^=M,a[44]^=b,a[45]^=M,b=B^(oe<<1|H>>>31),M=U^(H<<1|oe>>>31),a[6]^=b,a[7]^=M,a[16]^=b,a[17]^=M,a[26]^=b,a[27]^=M,a[36]^=b,a[37]^=M,a[46]^=b,a[47]^=M,b=D^(N<<1|S>>>31),M=q^(S<<1|N>>>31),a[8]^=b,a[9]^=M,a[18]^=b,a[19]^=M,a[28]^=b,a[29]^=M,a[38]^=b,a[39]^=M,a[48]^=b,a[49]^=M,Z=a[0],ae=a[1],pt=a[11]<<4|a[10]>>>28,gt=a[10]<<4|a[11]>>>28,rt=a[20]<<3|a[21]>>>29,it=a[21]<<3|a[20]>>>29,Xt=a[31]<<9|a[30]>>>23,Yt=a[30]<<9|a[31]>>>23,me=a[40]<<18|a[41]>>>14,ct=a[41]<<18|a[40]>>>14,ot=a[2]<<1|a[3]>>>31,at=a[3]<<1|a[2]>>>31,J=a[13]<<12|a[12]>>>20,K=a[12]<<12|a[13]>>>20,ve=a[22]<<10|a[23]>>>22,mt=a[23]<<10|a[22]>>>22,ce=a[33]<<13|a[32]>>>19,nt=a[32]<<13|a[33]>>>19,Qt=a[42]<<2|a[43]>>>30,te=a[43]<<2|a[42]>>>30,be=a[5]<<30|a[4]>>>2,bt=a[4]<<30|a[5]>>>2,pe=a[14]<<6|a[15]>>>26,ht=a[15]<<6|a[14]>>>26,he=a[25]<<11|a[24]>>>21,W=a[24]<<11|a[25]>>>21,yt=a[34]<<15|a[35]>>>17,we=a[35]<<15|a[34]>>>17,st=a[45]<<29|a[44]>>>3,de=a[44]<<29|a[45]>>>3,le=a[6]<<28|a[7]>>>4,tt=a[7]<<28|a[6]>>>4,Mt=a[17]<<23|a[16]>>>9,Jt=a[16]<<23|a[17]>>>9,ut=a[26]<<25|a[27]>>>7,ge=a[27]<<25|a[26]>>>7,X=a[36]<<21|a[37]>>>11,ue=a[37]<<21|a[36]>>>11,vt=a[47]<<24|a[46]>>>8,wt=a[46]<<24|a[47]>>>8,dt=a[8]<<27|a[9]>>>5,ye=a[9]<<27|a[8]>>>5,et=a[18]<<20|a[19]>>>12,fe=a[19]<<20|a[18]>>>12,Kt=a[29]<<7|a[28]>>>25,Wt=a[28]<<7|a[29]>>>25,lt=a[38]<<8|a[39]>>>24,ft=a[39]<<8|a[38]>>>24,Y=a[48]<<14|a[49]>>>18,Q=a[49]<<14|a[48]>>>18,a[0]=Z^~J&he,a[1]=ae^~K&W,a[10]=le^~et&rt,a[11]=tt^~fe&it,a[20]=ot^~pe&ut,a[21]=at^~ht&ge,a[30]=dt^~pt&ve,a[31]=ye^~gt&mt,a[40]=be^~Mt&Kt,a[41]=bt^~Jt&Wt,a[2]=J^~he&X,a[3]=K^~W&ue,a[12]=et^~rt&ce,a[13]=fe^~it&nt,a[22]=pe^~ut&lt,a[23]=ht^~ge&ft,a[32]=pt^~ve&yt,a[33]=gt^~mt&we,a[42]=Mt^~Kt&Xt,a[43]=Jt^~Wt&Yt,a[4]=he^~X&Y,a[5]=W^~ue&Q,a[14]=rt^~ce&st,a[15]=it^~nt&de,a[24]=ut^~lt&me,a[25]=ge^~ft&ct,a[34]=ve^~yt&vt,a[35]=mt^~we&wt,a[44]=Kt^~Xt&Qt,a[45]=Wt^~Yt&te,a[6]=X^~Y&Z,a[7]=ue^~Q&ae,a[16]=ce^~st&le,a[17]=nt^~de&tt,a[26]=lt^~me&ot,a[27]=ft^~ct&at,a[36]=yt^~vt&dt,a[37]=we^~wt&ye,a[46]=Xt^~Qt&be,a[47]=Yt^~te&bt,a[8]=Y^~Z&J,a[9]=Q^~ae&K,a[18]=st^~le&et,a[19]=de^~tt&fe,a[28]=me^~ot&pe,a[29]=ct^~at&ht,a[38]=vt^~dt&pt,a[39]=wt^~ye&gt,a[48]=Qt^~be&Mt,a[49]=te^~bt&Jt,a[0]^=Te[A],a[1]^=Te[A+1]};if(w)s.exports=u;else for(g=0;g<f.length;++g)l[f[g]]=u[f[g]]})()})(ii);var Di=ii.exports;function Ge(s){return"0x"+Di.keccak_256(St(s))}const Bi="rlp/5.6.0",Li=new x(Bi);function Fr(s){const t=[];for(;s;)t.unshift(s&255),s>>=8;return t}function ni(s){if(Array.isArray(s)){let i=[];if(s.forEach(function(h){i=i.concat(ni(h))}),i.length<=55)return i.unshift(192+i.length),i;const l=Fr(i.length);return l.unshift(247+l.length),l.concat(i)}bi(s)||Li.throwArgumentError("RLP object must be BytesLike","object",s);const t=Array.prototype.slice.call(St(s));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=Fr(t.length);return e.unshift(183+e.length),e.concat(t)}function Fi(s){return At(ni(s))}const Gi="address/5.6.0",xe=new x(Gi);function Gr(s){Pt(s,20)||xe.throwArgumentError("invalid address","address",s),s=s.toLowerCase();const t=s.substring(2).split(""),e=new Uint8Array(40);for(let l=0;l<40;l++)e[l]=t[l].charCodeAt(0);const i=St(Ge(e));for(let l=0;l<40;l+=2)i[l>>1]>>4>=8&&(t[l]=t[l].toUpperCase()),(i[l>>1]&15)>=8&&(t[l+1]=t[l+1].toUpperCase());return"0x"+t.join("")}const zi=9007199254740991;function $i(s){return Math.log10?Math.log10(s):Math.log(s)/Math.LN10}const Rr={};for(let s=0;s<10;s++)Rr[String(s)]=String(s);for(let s=0;s<26;s++)Rr[String.fromCharCode(65+s)]=String(10+s);const zr=Math.floor($i(zi));function Vi(s){s=s.toUpperCase(),s=s.substring(4)+s.substring(0,2)+"00";let t=s.split("").map(i=>Rr[i]).join("");for(;t.length>=zr;){let i=t.substring(0,zr);t=parseInt(i,10)%97+t.substring(i.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}function qt(s){let t=null;if(typeof s!="string"&&xe.throwArgumentError("invalid address","address",s),s.match(/^(0x)?[0-9a-fA-F]{40}$/))s.substring(0,2)!=="0x"&&(s="0x"+s),t=Gr(s),s.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==s&&xe.throwArgumentError("bad address checksum","address",s);else if(s.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(s.substring(2,4)!==Vi(s)&&xe.throwArgumentError("bad icap checksum","address",s),t=Ni(s.substring(4));t.length<40;)t="0"+t;t=Gr("0x"+t)}else xe.throwArgumentError("invalid address","address",s);return t}function si(s){let t=null;try{t=qt(s.from)}catch{xe.throwArgumentError("missing from address","transaction",s)}const e=Mi(St(G.from(s.nonce).toHexString()));return qt(Wr(Ge(Fi([t,e])),12))}class ji extends Ht{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=qt(e)}catch(i){this._throwError(i.message,e)}return t.writeValue(e)}decode(t){return qt(Xr(t.readValue().toHexString(),20))}}class qi extends Ht{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const Se=new x(Ve);function oi(s,t,e){let i=null;if(Array.isArray(e))i=e;else if(e&&typeof e=="object"){let E={};i=t.map(_=>{const P=_.localName;return P||Se.throwError("cannot encode object for signature with missing names",x.errors.INVALID_ARGUMENT,{argument:"values",coder:_,value:e}),E[P]&&Se.throwError("cannot encode object for signature with duplicate names",x.errors.INVALID_ARGUMENT,{argument:"values",coder:_,value:e}),E[P]=!0,e[P]})}else Se.throwArgumentError("invalid tuple value","tuple",e);t.length!==i.length&&Se.throwArgumentError("types/value length mismatch","tuple",e);let l=new Er(s.wordSize),h=new Er(s.wordSize),c=[];t.forEach((E,_)=>{let P=i[_];if(E.dynamic){let L=h.length;E.encode(h,P);let V=l.writeUpdatableValue();c.push(Rt=>{V(Rt+L)})}else E.encode(l,P)}),c.forEach(E=>{E(l.length)});let w=s.appendWriter(l);return w+=s.appendWriter(h),w}function ai(s,t){let e=[],i=s.subReader(0);t.forEach(h=>{let c=null;if(h.dynamic){let w=s.readValue(),E=i.subReader(w.toNumber());try{c=h.decode(E)}catch(_){if(_.code===x.errors.BUFFER_OVERRUN)throw _;c=_,c.baseType=h.name,c.name=h.localName,c.type=h.type}}else try{c=h.decode(s)}catch(w){if(w.code===x.errors.BUFFER_OVERRUN)throw w;c=w,c.baseType=h.name,c.name=h.localName,c.type=h.type}c!=null&&e.push(c)});const l=t.reduce((h,c)=>{const w=c.localName;return w&&(h[w]||(h[w]=0),h[w]++),h},{});t.forEach((h,c)=>{let w=h.localName;if(!w||l[w]!==1||(w==="length"&&(w="_length"),e[w]!=null))return;const E=e[c];E instanceof Error?Object.defineProperty(e,w,{enumerable:!0,get:()=>{throw E}}):e[w]=E});for(let h=0;h<e.length;h++){const c=e[h];c instanceof Error&&Object.defineProperty(e,h,{enumerable:!0,get:()=>{throw c}})}return Object.freeze(e)}class Hi extends Ht{constructor(t,e,i){const l=t.type+"["+(e>=0?e:"")+"]",h=e===-1||t.dynamic;super("array",l,i,h),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let i=0;i<this.length;i++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let i=this.length;i===-1&&(i=e.length,t.writeValue(e.length)),Se.checkArgumentCount(e.length,i,"coder array"+(this.localName?" "+this.localName:""));let l=[];for(let h=0;h<e.length;h++)l.push(this.coder);return oi(t,l,e)}decode(t){let e=this.length;e===-1&&(e=t.readValue().toNumber(),e*32>t._data.length&&Se.throwError("insufficient data length",x.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let i=[];for(let l=0;l<e;l++)i.push(new qi(this.coder));return t.coerce(this.name,ai(t,i))}}class Zi extends Ht{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class hi extends Ht{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=St(e);let i=t.writeValue(e.length);return i+=t.writeBytes(e),i}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class Ji extends hi{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,At(super.decode(t)))}}class Ki extends Ht{constructor(t,e){let i="bytes"+String(t);super(i,i,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,e){let i=St(e);return i.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(i)}decode(t){return t.coerce(this.name,At(t.readBytes(this.size)))}}class Wi extends Ht{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const Xi=G.from(-1),Yi=G.from(0),Qi=G.from(1),tn=G.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class en extends Ht{constructor(t,e,i){const l=(e?"int":"uint")+t*8;super(l,l,i,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let i=G.from(e),l=tn.mask(t.wordSize*8);if(this.signed){let h=l.mask(this.size*8-1);(i.gt(h)||i.lt(h.add(Qi).mul(Xi)))&&this._throwError("value out-of-bounds",e)}else(i.lt(Yi)||i.gt(l.mask(this.size*8)))&&this._throwError("value out-of-bounds",e);return i=i.toTwos(this.size*8).mask(this.size*8),this.signed&&(i=i.fromTwos(this.size*8).toTwos(8*t.wordSize)),t.writeValue(i)}decode(t){let e=t.readValue().mask(this.size*8);return this.signed&&(e=e.fromTwos(this.size*8)),t.coerce(this.name,e)}}const rn="strings/5.6.0",ui=new x(rn);var Qe;(function(s){s.current="",s.NFC="NFC",s.NFD="NFD",s.NFKC="NFKC",s.NFKD="NFKD"})(Qe||(Qe={}));var Ct;(function(s){s.UNEXPECTED_CONTINUE="unexpected continuation byte",s.BAD_PREFIX="bad codepoint prefix",s.OVERRUN="string overrun",s.MISSING_CONTINUE="missing continuation byte",s.OUT_OF_RANGE="out of UTF-8 range",s.UTF16_SURROGATE="UTF-16 surrogate",s.OVERLONG="overlong representation"})(Ct||(Ct={}));function nn(s,t,e,i,l){return ui.throwArgumentError(`invalid codepoint at offset ${t}; ${s}`,"bytes",e)}function li(s,t,e,i,l){if(s===Ct.BAD_PREFIX||s===Ct.UNEXPECTED_CONTINUE){let h=0;for(let c=t+1;c<e.length&&e[c]>>6===2;c++)h++;return h}return s===Ct.OVERRUN?e.length-t-1:0}function sn(s,t,e,i,l){return s===Ct.OVERLONG?(i.push(l),0):(i.push(65533),li(s,t,e))}const on=Object.freeze({error:nn,ignore:li,replace:sn});function an(s,t){t==null&&(t=on.error),s=St(s);const e=[];let i=0;for(;i<s.length;){const l=s[i++];if(l>>7===0){e.push(l);continue}let h=null,c=null;if((l&224)===192)h=1,c=127;else if((l&240)===224)h=2,c=2047;else if((l&248)===240)h=3,c=65535;else{(l&192)===128?i+=t(Ct.UNEXPECTED_CONTINUE,i-1,s,e):i+=t(Ct.BAD_PREFIX,i-1,s,e);continue}if(i-1+h>=s.length){i+=t(Ct.OVERRUN,i-1,s,e);continue}let w=l&(1<<8-h-1)-1;for(let E=0;E<h;E++){let _=s[i];if((_&192)!=128){i+=t(Ct.MISSING_CONTINUE,i,s,e),w=null;break}w=w<<6|_&63,i++}if(w!==null){if(w>1114111){i+=t(Ct.OUT_OF_RANGE,i-1-h,s,e,w);continue}if(w>=55296&&w<=57343){i+=t(Ct.UTF16_SURROGATE,i-1-h,s,e,w);continue}if(w<=c){i+=t(Ct.OVERLONG,i-1-h,s,e,w);continue}e.push(w)}}return e}function fi(s,t=Qe.current){t!=Qe.current&&(ui.checkNormalize(),s=s.normalize(t));let e=[];for(let i=0;i<s.length;i++){const l=s.charCodeAt(i);if(l<128)e.push(l);else if(l<2048)e.push(l>>6|192),e.push(l&63|128);else if((l&64512)==55296){i++;const h=s.charCodeAt(i);if(i>=s.length||(h&64512)!==56320)throw new Error("invalid utf-8 string");const c=65536+((l&1023)<<10)+(h&1023);e.push(c>>18|240),e.push(c>>12&63|128),e.push(c>>6&63|128),e.push(c&63|128)}else e.push(l>>12|224),e.push(l>>6&63|128),e.push(l&63|128)}return St(e)}function hn(s){return s.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function un(s,t){return hn(an(s,t))}class ln extends hi{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,fi(e))}decode(t){return un(super.decode(t))}}class Ze extends Ht{constructor(t,e){let i=!1;const l=[];t.forEach(c=>{c.dynamic&&(i=!0),l.push(c.type)});const h="tuple("+l.join(",")+")";super("tuple",h,e,i),this.coders=t}defaultValue(){const t=[];this.coders.forEach(i=>{t.push(i.defaultValue())});const e=this.coders.reduce((i,l)=>{const h=l.localName;return h&&(i[h]||(i[h]=0),i[h]++),i},{});return this.coders.forEach((i,l)=>{let h=i.localName;!h||e[h]!==1||(h==="length"&&(h="_length"),t[h]==null&&(t[h]=t[l]))}),Object.freeze(t)}encode(t,e){return oi(t,this.coders,e)}decode(t){return t.coerce(this.name,ai(t,this.coders))}}const ke=new x(Ve),fn=new RegExp(/^bytes([0-9]*)$/),cn=new RegExp(/^(u?int)([0-9]*)$/);class xr{constructor(t){ke.checkNew(new.target,xr),O(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new ji(t.name);case"bool":return new Zi(t.name);case"string":return new ln(t.name);case"bytes":return new Ji(t.name);case"array":return new Hi(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Ze((t.components||[]).map(i=>this._getCoder(i)),t.name);case"":return new Wi(t.name)}let e=t.type.match(cn);if(e){let i=parseInt(e[2]||"256");return(i===0||i>256||i%8!==0)&&ke.throwArgumentError("invalid "+e[1]+" bit length","param",t),new en(i/8,e[1]==="int",t.name)}if(e=t.type.match(fn),e){let i=parseInt(e[1]);return(i===0||i>32)&&ke.throwArgumentError("invalid bytes length","param",t),new Ki(i,t.name)}return ke.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new Ye(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new Er(this._getWordSize())}getDefaultValue(t){const e=t.map(l=>this._getCoder(xt.from(l)));return new Ze(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&ke.throwError("types/values length mismatch",x.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const i=t.map(c=>this._getCoder(xt.from(c))),l=new Ze(i,"_"),h=this._getWriter();return l.encode(h,e),h.data}decode(t,e,i){const l=t.map(c=>this._getCoder(xt.from(c)));return new Ze(l,"_").decode(this._getReader(St(e),i))}}const dn=new xr;function Je(s){return Ge(fi(s))}const _t=new x(Ve);class pn extends ir{}class gn extends ir{}class mn extends ir{}class _r extends ir{static isIndexed(t){return!!(t&&t._isIndexed)}}const yn={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function $r(s,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${s}`);return e.error=t,e}class tr{constructor(t){_t.checkNew(new.target,tr);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,O(this,"fragments",e.map(i=>Vt.from(i)).filter(i=>i!=null)),O(this,"_abiCoder",re(new.target,"getAbiCoder")()),O(this,"functions",{}),O(this,"errors",{}),O(this,"events",{}),O(this,"structs",{}),this.fragments.forEach(i=>{let l=null;switch(i.type){case"constructor":if(this.deploy){_t.warn("duplicate definition - constructor");return}O(this,"deploy",i);return;case"function":l=this.functions;break;case"event":l=this.events;break;case"error":l=this.errors;break;default:return}let h=i.format();if(l[h]){_t.warn("duplicate definition - "+h);return}l[h]=i}),this.deploy||O(this,"deploy",Ft.from({payable:!1,type:"constructor"})),O(this,"_isInterface",!0)}format(t){t||(t=$.full),t===$.sighash&&_t.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map(i=>i.format(t));return t===$.json?JSON.stringify(e.map(i=>JSON.parse(i))):e}static getAbiCoder(){return dn}static getAddress(t){return qt(t)}static getSighash(t){return Wr(Je(t.format()),0,4)}static getEventTopic(t){return Je(t.format())}getFunction(t){if(Pt(t)){for(const i in this.functions)if(t===this.getSighash(i))return this.functions[i];_t.throwArgumentError("no matching function","sighash",t)}if(t.indexOf("(")===-1){const i=t.trim(),l=Object.keys(this.functions).filter(h=>h.split("(")[0]===i);return l.length===0?_t.throwArgumentError("no matching function","name",i):l.length>1&&_t.throwArgumentError("multiple matching functions","name",i),this.functions[l[0]]}const e=this.functions[Gt.fromString(t).format()];return e||_t.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(Pt(t)){const i=t.toLowerCase();for(const l in this.events)if(i===this.getEventTopic(l))return this.events[l];_t.throwArgumentError("no matching event","topichash",i)}if(t.indexOf("(")===-1){const i=t.trim(),l=Object.keys(this.events).filter(h=>h.split("(")[0]===i);return l.length===0?_t.throwArgumentError("no matching event","name",i):l.length>1&&_t.throwArgumentError("multiple matching events","name",i),this.events[l[0]]}const e=this.events[$t.fromString(t).format()];return e||_t.throwArgumentError("no matching event","signature",t),e}getError(t){if(Pt(t)){const i=re(this.constructor,"getSighash");for(const l in this.errors){const h=this.errors[l];if(t===i(h))return this.errors[l]}_t.throwArgumentError("no matching error","sighash",t)}if(t.indexOf("(")===-1){const i=t.trim(),l=Object.keys(this.errors).filter(h=>h.split("(")[0]===i);return l.length===0?_t.throwArgumentError("no matching error","name",i):l.length>1&&_t.throwArgumentError("multiple matching errors","name",i),this.errors[l[0]]}const e=this.errors[Gt.fromString(t).format()];return e||_t.throwArgumentError("no matching error","signature",t),e}getSighash(t){if(typeof t=="string")try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch{throw e}}return re(this.constructor,"getSighash")(t)}getEventTopic(t){return typeof t=="string"&&(t=this.getEvent(t)),re(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){typeof t=="string"&&(t=this.getError(t));const i=St(e);return At(i.slice(0,4))!==this.getSighash(t)&&_t.throwArgumentError(`data signature does not match error ${t.name}.`,"data",At(i)),this._decodeParams(t.inputs,i.slice(4))}encodeErrorResult(t,e){return typeof t=="string"&&(t=this.getError(t)),At(Me([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){typeof t=="string"&&(t=this.getFunction(t));const i=St(e);return At(i.slice(0,4))!==this.getSighash(t)&&_t.throwArgumentError(`data signature does not match function ${t.name}.`,"data",At(i)),this._decodeParams(t.inputs,i.slice(4))}encodeFunctionData(t,e){return typeof t=="string"&&(t=this.getFunction(t)),At(Me([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){typeof t=="string"&&(t=this.getFunction(t));let i=St(e),l=null,h="",c=null,w=null,E=null;switch(i.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,i)}catch{}break;case 4:{const _=At(i.slice(0,4)),P=yn[_];if(P)c=this._abiCoder.decode(P.inputs,i.slice(4)),w=P.name,E=P.signature,P.reason&&(l=c[0]),w==="Error"?h=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(c[0])}`:w==="Panic"&&(h=`; VM Exception while processing transaction: reverted with panic code ${c[0]}`);else try{const L=this.getError(_);c=this._abiCoder.decode(L.inputs,i.slice(4)),w=L.name,E=L.format()}catch{}break}}return _t.throwError("call revert exception"+h,x.errors.CALL_EXCEPTION,{method:t.format(),data:At(e),errorArgs:c,errorName:w,errorSignature:E,reason:l})}encodeFunctionResult(t,e){return typeof t=="string"&&(t=this.getFunction(t)),At(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){typeof t=="string"&&(t=this.getEvent(t)),e.length>t.inputs.length&&_t.throwError("too many arguments for "+t.format(),x.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let i=[];t.anonymous||i.push(this.getEventTopic(t));const l=(h,c)=>h.type==="string"?Je(c):h.type==="bytes"?Ge(At(c)):(h.type==="address"&&this._abiCoder.encode(["address"],[c]),Xr(At(c),32));for(e.forEach((h,c)=>{let w=t.inputs[c];if(!w.indexed){h!=null&&_t.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+w.name,h);return}h==null?i.push(null):w.baseType==="array"||w.baseType==="tuple"?_t.throwArgumentError("filtering with tuples or arrays not supported","contract."+w.name,h):Array.isArray(h)?i.push(h.map(E=>l(w,E))):i.push(l(w,h))});i.length&&i[i.length-1]===null;)i.pop();return i}encodeEventLog(t,e){typeof t=="string"&&(t=this.getEvent(t));const i=[],l=[],h=[];return t.anonymous||i.push(this.getEventTopic(t)),e.length!==t.inputs.length&&_t.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach((c,w)=>{const E=e[w];if(c.indexed)if(c.type==="string")i.push(Je(E));else if(c.type==="bytes")i.push(Ge(E));else{if(c.baseType==="tuple"||c.baseType==="array")throw new Error("not implemented");i.push(this._abiCoder.encode([c.type],[E]))}else l.push(c),h.push(E)}),{data:this._abiCoder.encode(l,h),topics:i}}decodeEventLog(t,e,i){if(typeof t=="string"&&(t=this.getEvent(t)),i!=null&&!t.anonymous){let V=this.getEventTopic(t);(!Pt(i[0],32)||i[0].toLowerCase()!==V)&&_t.throwError("fragment/topic mismatch",x.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:V,value:i[0]}),i=i.slice(1)}let l=[],h=[],c=[];t.inputs.forEach((V,Rt)=>{V.indexed?V.type==="string"||V.type==="bytes"||V.baseType==="tuple"||V.baseType==="array"?(l.push(xt.fromObject({type:"bytes32",name:V.name})),c.push(!0)):(l.push(V),c.push(!1)):(h.push(V),c.push(!1))});let w=i!=null?this._abiCoder.decode(l,Me(i)):null,E=this._abiCoder.decode(h,e,!0),_=[],P=0,L=0;t.inputs.forEach((V,Rt)=>{if(V.indexed)if(w==null)_[Rt]=new _r({_isIndexed:!0,hash:null});else if(c[Rt])_[Rt]=new _r({_isIndexed:!0,hash:w[L++]});else try{_[Rt]=w[L++]}catch(Nt){_[Rt]=Nt}else try{_[Rt]=E[P++]}catch(Nt){_[Rt]=Nt}if(V.name&&_[V.name]==null){const Nt=_[Rt];Nt instanceof Error?Object.defineProperty(_,V.name,{enumerable:!0,get:()=>{throw $r(`property ${JSON.stringify(V.name)}`,Nt)}}):_[V.name]=Nt}});for(let V=0;V<_.length;V++){const Rt=_[V];Rt instanceof Error&&Object.defineProperty(_,V,{enumerable:!0,get:()=>{throw $r(`index ${V}`,Rt)}})}return Object.freeze(_)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new gn({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:G.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new pn({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=At(t);let i=this.getError(e.substring(0,10).toLowerCase());return i?new mn({args:this._abiCoder.decode(i.inputs,"0x"+e.substring(10)),errorFragment:i,name:i.name,signature:i.format(),sighash:this.getSighash(i)}):null}static isInterface(t){return!!(t&&t._isInterface)}}const vn="abstract-provider/5.6.0";var wn=globalThis&&globalThis.__awaiter||function(s,t,e,i){function l(h){return h instanceof e?h:new e(function(c){c(h)})}return new(e||(e=Promise))(function(h,c){function w(P){try{_(i.next(P))}catch(L){c(L)}}function E(P){try{_(i.throw(P))}catch(L){c(L)}}function _(P){P.done?h(P.value):l(P.value).then(w,E)}_((i=i.apply(s,t||[])).next())})};const bn=new x(vn);class Sr{constructor(){bn.checkAbstract(new.target,Sr),O(this,"_isProvider",!0)}getFeeData(){return wn(this,void 0,void 0,function*(){const{block:t,gasPrice:e}=yield ie({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(h=>null)});let i=null,l=null;return t&&t.baseFeePerGas&&(l=G.from("1500000000"),i=t.baseFeePerGas.mul(2).add(l)),{maxFeePerGas:i,maxPriorityFeePerGas:l,gasPrice:e}})}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!!(t&&t._isProvider)}}const Mn="abstract-signer/5.6.0";var Dt=globalThis&&globalThis.__awaiter||function(s,t,e,i){function l(h){return h instanceof e?h:new e(function(c){c(h)})}return new(e||(e=Promise))(function(h,c){function w(P){try{_(i.next(P))}catch(L){c(L)}}function E(P){try{_(i.throw(P))}catch(L){c(L)}}function _(P){P.done?h(P.value):l(P.value).then(w,E)}_((i=i.apply(s,t||[])).next())})};const It=new x(Mn),En=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],_n=[x.errors.INSUFFICIENT_FUNDS,x.errors.NONCE_EXPIRED,x.errors.REPLACEMENT_UNDERPRICED];class je{constructor(){It.checkAbstract(new.target,je),O(this,"_isSigner",!0)}getBalance(t){return Dt(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return Dt(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return Dt(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const e=yield ie(this.checkTransaction(t));return yield this.provider.estimateGas(e)})}call(t,e){return Dt(this,void 0,void 0,function*(){this._checkProvider("call");const i=yield ie(this.checkTransaction(t));return yield this.provider.call(i,e)})}sendTransaction(t){return Dt(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),i=yield this.signTransaction(e);return yield this.provider.sendTransaction(i)})}getChainId(){return Dt(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Dt(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Dt(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return Dt(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(const i in t)En.indexOf(i)===-1&&It.throwArgumentError("invalid transaction key: "+i,"transaction",t);const e=Ee(t);return e.from==null?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then(i=>(i[0].toLowerCase()!==i[1].toLowerCase()&&It.throwArgumentError("from address mismatch","transaction",t),i[0])),e}populateTransaction(t){return Dt(this,void 0,void 0,function*(){const e=yield ie(this.checkTransaction(t));e.to!=null&&(e.to=Promise.resolve(e.to).then(l=>Dt(this,void 0,void 0,function*(){if(l==null)return null;const h=yield this.resolveName(l);return h==null&&It.throwArgumentError("provided ENS name resolves to null","tx.to",l),h})),e.to.catch(l=>{}));const i=e.maxFeePerGas!=null||e.maxPriorityFeePerGas!=null;if(e.gasPrice!=null&&(e.type===2||i)?It.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(e.type===0||e.type===1)&&i&&It.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(e.type===2||e.type==null)&&e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null)e.type=2;else if(e.type===0||e.type===1)e.gasPrice==null&&(e.gasPrice=this.getGasPrice());else{const l=yield this.getFeeData();if(e.type==null)if(l.maxFeePerGas!=null&&l.maxPriorityFeePerGas!=null)if(e.type=2,e.gasPrice!=null){const h=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=h,e.maxPriorityFeePerGas=h}else e.maxFeePerGas==null&&(e.maxFeePerGas=l.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=l.maxPriorityFeePerGas);else l.gasPrice!=null?(i&&It.throwError("network does not support EIP-1559",x.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),e.gasPrice==null&&(e.gasPrice=l.gasPrice),e.type=0):It.throwError("failed to get consistent fee data",x.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else e.type===2&&(e.maxFeePerGas==null&&(e.maxFeePerGas=l.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=l.maxPriorityFeePerGas))}return e.nonce==null&&(e.nonce=this.getTransactionCount("pending")),e.gasLimit==null&&(e.gasLimit=this.estimateGas(e).catch(l=>{if(_n.indexOf(l.code)>=0)throw l;return It.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",x.errors.UNPREDICTABLE_GAS_LIMIT,{error:l,tx:e})})),e.chainId==null?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then(l=>(l[1]!==0&&l[0]!==l[1]&&It.throwArgumentError("chainId address mismatch","transaction",t),l[0])),yield ie(e)})}_checkProvider(t){this.provider||It.throwError("missing provider",x.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}}class er extends je{constructor(t,e){It.checkNew(new.target,er),super(),O(this,"address",t),O(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then(()=>{It.throwError(t,x.errors.UNSUPPORTED_OPERATION,{operation:e})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,i){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new er(this.address,t)}}const An="transactions/5.6.0",ci=new x(An);var Vr;(function(s){s[s.legacy=0]="legacy",s[s.eip2930=1]="eip2930",s[s.eip1559=2]="eip1559"})(Vr||(Vr={}));function br(s,t){return{address:qt(s),storageKeys:(t||[]).map((e,i)=>(Ei(e)!==32&&ci.throwArgumentError("invalid access list storageKey",`accessList[${s}:${i}]`,e),e.toLowerCase()))}}function Nn(s){if(Array.isArray(s))return s.map((e,i)=>Array.isArray(e)?(e.length>2&&ci.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${i}]`,e),br(e[0],e[1])):br(e.address,e.storageKeys));const t=Object.keys(s).map(e=>{const i=s[e].reduce((l,h)=>(l[h]=!0,l),{});return br(e,Object.keys(i).sort())});return t.sort((e,i)=>e.address.localeCompare(i.address)),t}const Rn="contracts/5.6.0";var ne=globalThis&&globalThis.__awaiter||function(s,t,e,i){function l(h){return h instanceof e?h:new e(function(c){c(h)})}return new(e||(e=Promise))(function(h,c){function w(P){try{_(i.next(P))}catch(L){c(L)}}function E(P){try{_(i.throw(P))}catch(L){c(L)}}function _(P){P.done?h(P.value):l(P.value).then(w,E)}_((i=i.apply(s,t||[])).next())})};const j=new x(Rn),xn={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function rr(s,t){return ne(this,void 0,void 0,function*(){const e=yield t;typeof e!="string"&&j.throwArgumentError("invalid address or ENS name","name",e);try{return qt(e)}catch{}s||j.throwError("a provider or signer is needed to resolve ENS names",x.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const i=yield s.resolveName(e);return i==null&&j.throwArgumentError("resolver or addr is not configured for ENS name","name",e),i})}function Ce(s,t,e){return ne(this,void 0,void 0,function*(){return Array.isArray(e)?yield Promise.all(e.map((i,l)=>Ce(s,Array.isArray(t)?t[l]:t[i.name],i))):e.type==="address"?yield rr(s,t):e.type==="tuple"?yield Ce(s,t,e.components):e.baseType==="array"?Array.isArray(t)?yield Promise.all(t.map(i=>Ce(s,i,e.arrayChildren))):Promise.reject(j.makeError("invalid value for array",x.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function nr(s,t,e){return ne(this,void 0,void 0,function*(){let i={};e.length===t.inputs.length+1&&typeof e[e.length-1]=="object"&&(i=Ee(e.pop())),j.checkArgumentCount(e.length,t.inputs.length,"passed to contract"),s.signer?i.from?i.from=ie({override:rr(s.signer,i.from),signer:s.signer.getAddress()}).then(_=>ne(this,void 0,void 0,function*(){return qt(_.signer)!==_.override&&j.throwError("Contract with a Signer cannot override from",x.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),_.override})):i.from=s.signer.getAddress():i.from&&(i.from=rr(s.provider,i.from));const l=yield ie({args:Ce(s.signer||s.provider,e,t.inputs),address:s.resolvedAddress,overrides:ie(i)||{}}),h=s.interface.encodeFunctionData(t,l.args),c={data:h,to:l.address},w=l.overrides;if(w.nonce!=null&&(c.nonce=G.from(w.nonce).toNumber()),w.gasLimit!=null&&(c.gasLimit=G.from(w.gasLimit)),w.gasPrice!=null&&(c.gasPrice=G.from(w.gasPrice)),w.maxFeePerGas!=null&&(c.maxFeePerGas=G.from(w.maxFeePerGas)),w.maxPriorityFeePerGas!=null&&(c.maxPriorityFeePerGas=G.from(w.maxPriorityFeePerGas)),w.from!=null&&(c.from=w.from),w.type!=null&&(c.type=w.type),w.accessList!=null&&(c.accessList=Nn(w.accessList)),c.gasLimit==null&&t.gas!=null){let _=21e3;const P=St(h);for(let L=0;L<P.length;L++)_+=4,P[L]&&(_+=64);c.gasLimit=G.from(t.gas).add(_)}if(w.value){const _=G.from(w.value);!_.isZero()&&!t.payable&&j.throwError("non-payable method cannot override value",x.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),c.value=_}w.customData&&(c.customData=Ee(w.customData)),w.ccipReadEnabled&&(c.ccipReadEnabled=!!w.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled;const E=Object.keys(i).filter(_=>i[_]!=null);return E.length&&j.throwError(`cannot override ${E.map(_=>JSON.stringify(_)).join(",")}`,x.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:E}),c})}function Sn(s,t){return function(...e){return nr(s,t,e)}}function Tn(s,t){const e=s.signer||s.provider;return function(...i){return ne(this,void 0,void 0,function*(){e||j.throwError("estimate require a provider or signer",x.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const l=yield nr(s,t,i);return yield e.estimateGas(l)})}}function di(s,t){const e=t.wait.bind(t);t.wait=i=>e(i).then(l=>(l.events=l.logs.map(h=>{let c=De(h),w=null;try{w=s.interface.parseLog(h)}catch{}return w&&(c.args=w.args,c.decode=(E,_)=>s.interface.decodeEventLog(w.eventFragment,E,_),c.event=w.name,c.eventSignature=w.signature),c.removeListener=()=>s.provider,c.getBlock=()=>s.provider.getBlock(l.blockHash),c.getTransaction=()=>s.provider.getTransaction(l.transactionHash),c.getTransactionReceipt=()=>Promise.resolve(l),c}),l))}function pi(s,t,e){const i=s.signer||s.provider;return function(...l){return ne(this,void 0,void 0,function*(){let h;if(l.length===t.inputs.length+1&&typeof l[l.length-1]=="object"){const E=Ee(l.pop());E.blockTag!=null&&(h=yield E.blockTag),delete E.blockTag,l.push(E)}s.deployTransaction!=null&&(yield s._deployed(h));const c=yield nr(s,t,l),w=yield i.call(c,h);try{let E=s.interface.decodeFunctionResult(t,w);return e&&t.outputs.length===1&&(E=E[0]),E}catch(E){throw E.code===x.errors.CALL_EXCEPTION&&(E.address=s.address,E.args=l,E.transaction=c),E}})}}function Pn(s,t){return function(...e){return ne(this,void 0,void 0,function*(){s.signer||j.throwError("sending a transaction requires a signer",x.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),s.deployTransaction!=null&&(yield s._deployed());const i=yield nr(s,t,e),l=yield s.signer.sendTransaction(i);return di(s,l),l})}}function jr(s,t,e){return t.constant?pi(s,t,e):Pn(s,t)}function gi(s){return s.address&&(s.topics==null||s.topics.length===0)?"*":(s.address||"*")+"@"+(s.topics?s.topics.map(t=>Array.isArray(t)?t.join("|"):t).join(":"):"")}class ze{constructor(t,e){O(this,"tag",t),O(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter(i=>e||i.listener!==t?!0:(e=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(t=>t.listener)}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter(i=>{const l=t.slice();return setTimeout(()=>{i.listener.apply(this,l)},0),!i.once}),e}prepareEvent(t){}getEmit(t){return[t]}}class On extends ze{constructor(){super("error",null)}}class qr extends ze{constructor(t,e,i,l){const h={address:t};let c=e.getEventTopic(i);l?(c!==l[0]&&j.throwArgumentError("topic mismatch","topics",l),h.topics=l.slice()):h.topics=[c],super(gi(h),h),O(this,"address",t),O(this,"interface",e),O(this,"fragment",i)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(e,i)=>this.interface.decodeEventLog(this.fragment,e,i);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=Ui(t.args);if(e.length)throw e[0].error;const i=(t.args||[]).slice();return i.push(t),i}}class Hr extends ze{constructor(t,e){super("*",{address:t}),O(this,"address",t),O(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(i,l)=>this.interface.decodeEventLog(e.eventFragment,i,l),t.args=e.args}catch{}}}class kn{constructor(t,e,i){j.checkNew(new.target,Ar),O(this,"interface",re(new.target,"getInterface")(e)),i==null?(O(this,"provider",null),O(this,"signer",null)):je.isSigner(i)?(O(this,"provider",i.provider||null),O(this,"signer",i)):Sr.isProvider(i)?(O(this,"provider",i),O(this,"signer",null)):j.throwArgumentError("invalid signer or provider","signerOrProvider",i),O(this,"callStatic",{}),O(this,"estimateGas",{}),O(this,"functions",{}),O(this,"populateTransaction",{}),O(this,"filters",{});{const c={};Object.keys(this.interface.events).forEach(w=>{const E=this.interface.events[w];O(this.filters,w,(..._)=>({address:this.address,topics:this.interface.encodeFilterTopics(E,_)})),c[E.name]||(c[E.name]=[]),c[E.name].push(w)}),Object.keys(c).forEach(w=>{const E=c[w];E.length===1?O(this.filters,w,this.filters[E[0]]):j.warn(`Duplicate definition of ${w} (${E.join(", ")})`)})}if(O(this,"_runningEvents",{}),O(this,"_wrappedEmits",{}),t==null&&j.throwArgumentError("invalid contract address or ENS name","addressOrName",t),O(this,"address",t),this.provider)O(this,"resolvedAddress",rr(this.provider,t));else try{O(this,"resolvedAddress",Promise.resolve(qt(t)))}catch{j.throwError("provider is required to use ENS name as contract address",x.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(c=>{});const l={},h={};Object.keys(this.interface.functions).forEach(c=>{const w=this.interface.functions[c];if(h[c]){j.warn(`Duplicate ABI entry for ${JSON.stringify(c)}`);return}h[c]=!0;{const E=w.name;l[`%${E}`]||(l[`%${E}`]=[]),l[`%${E}`].push(c)}this[c]==null&&O(this,c,jr(this,w,!0)),this.functions[c]==null&&O(this.functions,c,jr(this,w,!1)),this.callStatic[c]==null&&O(this.callStatic,c,pi(this,w,!0)),this.populateTransaction[c]==null&&O(this.populateTransaction,c,Sn(this,w)),this.estimateGas[c]==null&&O(this.estimateGas,c,Tn(this,w))}),Object.keys(l).forEach(c=>{const w=l[c];if(w.length>1)return;c=c.substring(1);const E=w[0];try{this[c]==null&&O(this,c,this[E])}catch{}this.functions[c]==null&&O(this.functions,c,this.functions[E]),this.callStatic[c]==null&&O(this.callStatic,c,this.callStatic[E]),this.populateTransaction[c]==null&&O(this.populateTransaction,c,this.populateTransaction[E]),this.estimateGas[c]==null&&O(this.estimateGas,c,this.estimateGas[E])})}static getContractAddress(t){return si(t)}static getInterface(t){return tr.isInterface(t)?t:new tr(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,t).then(e=>(e==="0x"&&j.throwError("contract not deployed",x.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(t){this.signer||j.throwError("sending a transactions require a signer",x.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=Ee(t||{});return["from","to"].forEach(function(i){e[i]!=null&&j.throwError("cannot override "+i,x.errors.UNSUPPORTED_OPERATION,{operation:i})}),e.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(e))}connect(t){typeof t=="string"&&(t=new er(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&O(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return _r.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if(typeof t=="string"){if(t==="error")return this._normalizeRunningEvent(new On);if(t==="event")return this._normalizeRunningEvent(new ze("event",null));if(t==="*")return this._normalizeRunningEvent(new Hr(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new qr(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const i=t.topics[0];if(typeof i!="string")throw new Error("invalid topic");const l=this.interface.getEvent(i);return this._normalizeRunningEvent(new qr(this.address,this.interface,l,t.topics))}catch{}const e={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new ze(gi(e),e))}return this._normalizeRunningEvent(new Hr(this.address,this.interface))}_checkRunningEvents(t){if(t.listenerCount()===0){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,i){const l=De(e);return l.removeListener=()=>{!i||(t.removeListener(i),this._checkRunningEvents(t))},l.getBlock=()=>this.provider.getBlock(e.blockHash),l.getTransaction=()=>this.provider.getTransaction(e.transactionHash),l.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(l),l}_addEventListener(t,e,i){if(this.provider||j.throwError("events require a provider or a signer with a provider",x.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,i),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const l=h=>{let c=this._wrapEvent(t,h,e);if(c.decodeError==null)try{const w=t.getEmit(c);this.emit(t.filter,...w)}catch(w){c.decodeError=w.error}t.filter!=null&&this.emit("event",c),c.decodeError!=null&&this.emit("error",c.decodeError,c)};this._wrappedEmits[t.tag]=l,t.filter!=null&&this.provider.on(t.filter,l)}}queryFilter(t,e,i){const l=this._getRunningEvent(t),h=Ee(l.filter);return typeof e=="string"&&Pt(e,32)?(i!=null&&j.throwArgumentError("cannot specify toBlock with blockhash","toBlock",i),h.blockHash=e):(h.fromBlock=e??0,h.toBlock=i??"latest"),this.provider.getLogs(h).then(c=>c.map(w=>this._wrapEvent(l,w,null)))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t,...e){if(!this.provider)return!1;const i=this._getRunningEvent(t),l=i.run(e)>0;return this._checkRunningEvents(i),l}listenerCount(t){return this.provider?t==null?Object.keys(this._runningEvents).reduce((e,i)=>e+this._runningEvents[i].listenerCount(),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(t==null){const e=[];for(let i in this._runningEvents)this._runningEvents[i].listeners().forEach(l=>{e.push(l)});return e}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(t==null){for(const i in this._runningEvents){const l=this._runningEvents[i];l.removeAllListeners(),this._checkRunningEvents(l)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const i=this._getRunningEvent(t);return i.removeListener(e),this._checkRunningEvents(i),this}removeListener(t,e){return this.off(t,e)}}class Ar extends kn{}class In{constructor(t,e,i){let l=null;typeof e=="string"?l=e:$e(e)?l=At(e):e&&typeof e.object=="string"?l=e.object:l="!",l.substring(0,2)!=="0x"&&(l="0x"+l),(!Pt(l)||l.length%2)&&j.throwArgumentError("invalid bytecode","bytecode",e),i&&!je.isSigner(i)&&j.throwArgumentError("invalid signer","signer",i),O(this,"bytecode",l),O(this,"interface",re(new.target,"getInterface")(t)),O(this,"signer",i||null)}getDeployTransaction(...t){let e={};if(t.length===this.interface.deploy.inputs.length+1&&typeof t[t.length-1]=="object"){e=Ee(t.pop());for(const i in e)if(!xn[i])throw new Error("unknown transaction override "+i)}return["data","from","to"].forEach(i=>{e[i]!=null&&j.throwError("cannot override "+i,x.errors.UNSUPPORTED_OPERATION,{operation:i})}),e.value&&!G.from(e.value).isZero()&&!this.interface.deploy.payable&&j.throwError("non-payable constructor cannot override value",x.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:e.value}),j.checkArgumentCount(t.length,this.interface.deploy.inputs.length," in Contract constructor"),e.data=At(Me([this.bytecode,this.interface.encodeDeploy(t)])),e}deploy(...t){return ne(this,void 0,void 0,function*(){let e={};t.length===this.interface.deploy.inputs.length+1&&(e=t.pop()),j.checkArgumentCount(t.length,this.interface.deploy.inputs.length," in Contract constructor");const i=yield Ce(this.signer,t,this.interface.deploy.inputs);i.push(e);const l=this.getDeployTransaction(...i),h=yield this.signer.sendTransaction(l),c=re(this.constructor,"getContractAddress")(h),w=re(this.constructor,"getContract")(c,this.interface,this.signer);return di(w,h),O(w,"deployTransaction",h),w})}attach(t){return this.constructor.getContract(t,this.interface,this.signer)}connect(t){return new this.constructor(this.interface,this.bytecode,t)}static fromSolidity(t,e){t==null&&j.throwError("missing compiler output",x.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof t=="string"&&(t=JSON.parse(t));const i=t.abi;let l=null;return t.bytecode?l=t.bytecode:t.evm&&t.evm.bytecode&&(l=t.evm.bytecode),new this(i,l,e)}static getInterface(t){return Ar.getInterface(t)}static getContractAddress(t){return si(t)}static getContract(t,e,i){return new Ar(t,e,i)}}export{kn as BaseContract,Ar as Contract,In as ContractFactory};
